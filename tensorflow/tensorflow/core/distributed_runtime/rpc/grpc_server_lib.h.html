<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>grpc_server_lib.h source code [tensorflow/tensorflow/core/distributed_runtime/rpc/grpc_server_lib.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tensorflow::GrpcServer "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/core/distributed_runtime/rpc/grpc_server_lib.h'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>tensorflow</a>/<a href='../../..'>tensorflow</a>/<a href='../..'>core</a>/<a href='..'>distributed_runtime</a>/<a href='./'>rpc</a>/<a href='grpc_server_lib.h.html'>grpc_server_lib.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2016 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">ifndef</span> <span class="macro" data-ref="_M/TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_">TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_</span></u></td></tr>
<tr><th id="17">17</th><td><u>#define <dfn class="macro" id="_M/TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_" data-ref="_M/TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_">TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_</dfn></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../include/c++/5/memory.html">&lt;memory&gt;</a></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><u>#include "grpc++/grpc++.h"</u></td></tr>
<tr><th id="22">22</th><td><u>#include "grpc++/security/credentials.h"</u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../common_runtime/process_util.h.html">"tensorflow/core/common_runtime/process_util.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../common_runtime/stats_publisher_interface.h.html">"tensorflow/core/common_runtime/stats_publisher_interface.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../master_env.h.html">"tensorflow/core/distributed_runtime/master_env.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="async_service_interface.h.html">"tensorflow/core/distributed_runtime/rpc/async_service_interface.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="grpc_channel.h.html">"tensorflow/core/distributed_runtime/rpc/grpc_channel.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../server_lib.h.html">"tensorflow/core/distributed_runtime/server_lib.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../session_mgr.h.html">"tensorflow/core/distributed_runtime/session_mgr.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../worker_env.h.html">"tensorflow/core/distributed_runtime/worker_env.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../framework/op.h.html">"tensorflow/core/framework/op.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../platform/env.h.html">"tensorflow/core/platform/env.h"</a></u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><b>namespace</b> <span class="namespace">tensorflow</span> {</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><b>class</b> <a class="type" href="grpc_worker_service.h.html#tensorflow::GrpcWorker" title='tensorflow::GrpcWorker' data-ref="tensorflow::GrpcWorker" id="tensorflow::GrpcWorker">GrpcWorker</a>;</td></tr>
<tr><th id="38">38</th><td><b>class</b> <a class="type" href="../master.h.html#tensorflow::Master" title='tensorflow::Master' data-ref="tensorflow::Master" id="tensorflow::Master">Master</a>;</td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>// function that creates a RendezvousMgr.</i></td></tr>
<tr><th id="41">41</th><td><b>typedef</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/functional.html#std::function" title='std::function' data-ref="std::function">function</a>&lt;<a class="type" href="../rendezvous_mgr_interface.h.html#tensorflow::RendezvousMgrInterface" title='tensorflow::RendezvousMgrInterface' data-ref="tensorflow::RendezvousMgrInterface">RendezvousMgrInterface</a>*(<em>const</em> <a class="type" href="../worker_env.h.html#tensorflow::WorkerEnv" title='tensorflow::WorkerEnv' data-ref="tensorflow::WorkerEnv">WorkerEnv</a>*)&gt;</td></tr>
<tr><th id="42">42</th><td>    <dfn class="typedef" id="tensorflow::RendezvousMgrCreationFunction" title='tensorflow::RendezvousMgrCreationFunction' data-type='std::function&lt;RendezvousMgrInterface *(const WorkerEnv *)&gt;' data-ref="tensorflow::RendezvousMgrCreationFunction">RendezvousMgrCreationFunction</dfn>;</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><i>// function that registers a service to the server. The service needs to</i></td></tr>
<tr><th id="45">45</th><td><i>// be registered before builder.BuildAndStart().</i></td></tr>
<tr><th id="46">46</th><td><b>typedef</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/functional.html#std::function" title='std::function' data-ref="std::function">function</a>&lt;<em>void</em>(<em>const</em> <a class="type" href="../worker_env.h.html#tensorflow::WorkerEnv" title='tensorflow::WorkerEnv' data-ref="tensorflow::WorkerEnv">WorkerEnv</a>*, <span class="namespace">::grpc::</span><span class='type' title='grpc::ServerBuilder' data-ref="grpc::ServerBuilder">ServerBuilder</span>*)&gt;</td></tr>
<tr><th id="47">47</th><td>    <dfn class="typedef" id="tensorflow::ServiceInitFunction" title='tensorflow::ServiceInitFunction' data-type='std::function&lt;void (const WorkerEnv *, ::grpc::ServerBuilder *)&gt;' data-ref="tensorflow::ServiceInitFunction">ServiceInitFunction</dfn>;</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><i>// function that creates a grpc based worker implementation.</i></td></tr>
<tr><th id="50">50</th><td><b>typedef</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/functional.html#std::function" title='std::function' data-ref="std::function">function</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="grpc_worker_service.h.html#tensorflow::GrpcWorker" title='tensorflow::GrpcWorker' data-ref="tensorflow::GrpcWorker">GrpcWorker</a>&gt;(<a class="type" href="../worker_env.h.html#tensorflow::WorkerEnv" title='tensorflow::WorkerEnv' data-ref="tensorflow::WorkerEnv">WorkerEnv</a>*)&gt;</td></tr>
<tr><th id="51">51</th><td>    <dfn class="typedef" id="tensorflow::WorkerCreationFunction" title='tensorflow::WorkerCreationFunction' data-type='std::function&lt;std::unique_ptr&lt;GrpcWorker&gt; (WorkerEnv *)&gt;' data-ref="tensorflow::WorkerCreationFunction">WorkerCreationFunction</dfn>;</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><b>class</b> <dfn class="type def" id="tensorflow::GrpcServer" title='tensorflow::GrpcServer' data-ref="tensorflow::GrpcServer">GrpcServer</dfn> : <b>public</b> <a class="type" href="../server_lib.h.html#tensorflow::ServerInterface" title='tensorflow::ServerInterface' data-ref="tensorflow::ServerInterface">ServerInterface</a> {</td></tr>
<tr><th id="54">54</th><td> <b>protected</b>:</td></tr>
<tr><th id="55">55</th><td>  <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServerC1ERKNS_9ServerDefEPNS_3EnvE" title='tensorflow::GrpcServer::GrpcServer' data-ref="_ZN10tensorflow10GrpcServerC1ERKNS_9ServerDefEPNS_3EnvE" id="_ZN10tensorflow10GrpcServerC1ERKNS_9ServerDefEPNS_3EnvE">GrpcServer</a>(<em>const</em> <span class='type' title='tensorflow::ServerDef' data-ref="tensorflow::ServerDef">ServerDef</span>&amp; <dfn class="local col4 decl" id="24server_def" title='server_def' data-type='const tensorflow::ServerDef &amp;' data-ref="24server_def">server_def</dfn>, <a class="type" href="../../platform/env.h.html#tensorflow::Env" title='tensorflow::Env' data-ref="tensorflow::Env">Env</a>* <dfn class="local col5 decl" id="25env" title='env' data-type='tensorflow::Env *' data-ref="25env">env</dfn>);</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td> <b>public</b>:</td></tr>
<tr><th id="58">58</th><td>  <em>static</em> <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer6CreateERKNS_9ServerDefEPNS_3EnvEPSt10unique_ptrINS_15ServerInterfaceESt14default_deleteIS7_EE" title='tensorflow::GrpcServer::Create' data-ref="_ZN10tensorflow10GrpcServer6CreateERKNS_9ServerDefEPNS_3EnvEPSt10unique_ptrINS_15ServerInterfaceESt14default_deleteIS7_EE" id="_ZN10tensorflow10GrpcServer6CreateERKNS_9ServerDefEPNS_3EnvEPSt10unique_ptrINS_15ServerInterfaceESt14default_deleteIS7_EE">Create</a>(<em>const</em> <span class='type' title='tensorflow::ServerDef' data-ref="tensorflow::ServerDef">ServerDef</span>&amp; <dfn class="local col6 decl" id="26server_def" title='server_def' data-type='const tensorflow::ServerDef &amp;' data-ref="26server_def">server_def</dfn>, <a class="type" href="../../platform/env.h.html#tensorflow::Env" title='tensorflow::Env' data-ref="tensorflow::Env">Env</a>* <dfn class="local col7 decl" id="27env" title='env' data-type='tensorflow::Env *' data-ref="27env">env</dfn>,</td></tr>
<tr><th id="59">59</th><td>                       <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../server_lib.h.html#tensorflow::ServerInterface" title='tensorflow::ServerInterface' data-ref="tensorflow::ServerInterface">ServerInterface</a>&gt;* <dfn class="local col8 decl" id="28out_server" title='out_server' data-type='std::unique_ptr&lt;ServerInterface&gt; *' data-ref="28out_server">out_server</dfn>);</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td>  <i>// Destruction is only supported in the factory method. Clean</i></td></tr>
<tr><th id="62">62</th><td><i>  // shutdown is not currently implemented for this server type.</i></td></tr>
<tr><th id="63">63</th><td>  <b>virtual</b> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServerD1Ev" title='tensorflow::GrpcServer::~GrpcServer' data-ref="_ZN10tensorflow10GrpcServerD1Ev" id="_ZN10tensorflow10GrpcServerD1Ev">~GrpcServer</a>();</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>  <i>// Implementations of ServerInterface methods.</i></td></tr>
<tr><th id="66">66</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer5StartEv" title='tensorflow::GrpcServer::Start' data-ref="_ZN10tensorflow10GrpcServer5StartEv" id="_ZN10tensorflow10GrpcServer5StartEv">Start</a>() override;</td></tr>
<tr><th id="67">67</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4StopEv" title='tensorflow::GrpcServer::Stop' data-ref="_ZN10tensorflow10GrpcServer4StopEv" id="_ZN10tensorflow10GrpcServer4StopEv">Stop</a>() override;</td></tr>
<tr><th id="68">68</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4JoinEv" title='tensorflow::GrpcServer::Join' data-ref="_ZN10tensorflow10GrpcServer4JoinEv" id="_ZN10tensorflow10GrpcServer4JoinEv">Join</a>() override;</td></tr>
<tr><th id="69">69</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZNK10tensorflow10GrpcServer6targetEv" title='tensorflow::GrpcServer::target' data-ref="_ZNK10tensorflow10GrpcServer6targetEv" id="_ZNK10tensorflow10GrpcServer6targetEv">target</a>() <em>const</em> override;</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td> <b>protected</b>:</td></tr>
<tr><th id="72">72</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr5840994" title='tensorflow::GrpcServer::Init' data-ref="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr5840994" id="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr5840994">Init</a>(<a class="typedef" href="#tensorflow::ServiceInitFunction" title='tensorflow::ServiceInitFunction' data-type='std::function&lt;void (const WorkerEnv *, ::grpc::ServerBuilder *)&gt;' data-ref="tensorflow::ServiceInitFunction">ServiceInitFunction</a> <dfn class="local col9 decl" id="29service_func" title='service_func' data-type='ServiceInitFunction' data-ref="29service_func">service_func</dfn>,</td></tr>
<tr><th id="73">73</th><td>              <em>const</em> <a class="typedef" href="#tensorflow::RendezvousMgrCreationFunction" title='tensorflow::RendezvousMgrCreationFunction' data-type='std::function&lt;RendezvousMgrInterface *(const WorkerEnv *)&gt;' data-ref="tensorflow::RendezvousMgrCreationFunction">RendezvousMgrCreationFunction</a>&amp; <dfn class="local col0 decl" id="30rendezvous_mgr_func" title='rendezvous_mgr_func' data-type='const RendezvousMgrCreationFunction &amp;' data-ref="30rendezvous_mgr_func">rendezvous_mgr_func</dfn>,</td></tr>
<tr><th id="74">74</th><td>              <em>const</em> <a class="typedef" href="#tensorflow::WorkerCreationFunction" title='tensorflow::WorkerCreationFunction' data-type='std::function&lt;std::unique_ptr&lt;GrpcWorker&gt; (WorkerEnv *)&gt;' data-ref="tensorflow::WorkerCreationFunction">WorkerCreationFunction</a>&amp; <dfn class="local col1 decl" id="31worker_func" title='worker_func' data-type='const WorkerCreationFunction &amp;' data-ref="31worker_func">worker_func</dfn>,</td></tr>
<tr><th id="75">75</th><td>              <em>const</em> <a class="typedef" href="../../common_runtime/stats_publisher_interface.h.html#tensorflow::StatsPublisherFactory" title='tensorflow::StatsPublisherFactory' data-type='std::function&lt;std::unique_ptr&lt;StatsPublisherInterface&gt; (const string &amp;, const BuildGraphOptions &amp;, const SessionOptions &amp;)&gt;' data-ref="tensorflow::StatsPublisherFactory">StatsPublisherFactory</a>&amp; <dfn class="local col2 decl" id="32stats_factory" title='stats_factory' data-type='const StatsPublisherFactory &amp;' data-ref="32stats_factory">stats_factory</dfn>);</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr2250748" title='tensorflow::GrpcServer::Init' data-ref="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr2250748" id="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EERKS1_IFSt10unique_ptr2250748">Init</a>(<a class="typedef" href="#tensorflow::ServiceInitFunction" title='tensorflow::ServiceInitFunction' data-type='std::function&lt;void (const WorkerEnv *, ::grpc::ServerBuilder *)&gt;' data-ref="tensorflow::ServiceInitFunction">ServiceInitFunction</a> <dfn class="local col3 decl" id="33service_func" title='service_func' data-type='ServiceInitFunction' data-ref="33service_func">service_func</dfn>,</td></tr>
<tr><th id="78">78</th><td>              <em>const</em> <a class="typedef" href="#tensorflow::RendezvousMgrCreationFunction" title='tensorflow::RendezvousMgrCreationFunction' data-type='std::function&lt;RendezvousMgrInterface *(const WorkerEnv *)&gt;' data-ref="tensorflow::RendezvousMgrCreationFunction">RendezvousMgrCreationFunction</a>&amp; <dfn class="local col4 decl" id="34rendezvous_mgr_func" title='rendezvous_mgr_func' data-type='const RendezvousMgrCreationFunction &amp;' data-ref="34rendezvous_mgr_func">rendezvous_mgr_func</dfn>,</td></tr>
<tr><th id="79">79</th><td>              <em>const</em> <a class="typedef" href="#tensorflow::WorkerCreationFunction" title='tensorflow::WorkerCreationFunction' data-type='std::function&lt;std::unique_ptr&lt;GrpcWorker&gt; (WorkerEnv *)&gt;' data-ref="tensorflow::WorkerCreationFunction">WorkerCreationFunction</a>&amp; <dfn class="local col5 decl" id="35worker_func" title='worker_func' data-type='const WorkerCreationFunction &amp;' data-ref="35worker_func">worker_func</dfn>);</td></tr>
<tr><th id="80">80</th><td></td></tr>
<tr><th id="81">81</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EE" title='tensorflow::GrpcServer::Init' data-ref="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EE" id="_ZN10tensorflow10GrpcServer4InitESt8functionIFvPKNS_9WorkerEnvEPN4grpc13ServerBuilderEEERKS1_IFPNS_22RendezvousMgrInterfaceES4_EE">Init</a>(<a class="typedef" href="#tensorflow::ServiceInitFunction" title='tensorflow::ServiceInitFunction' data-type='std::function&lt;void (const WorkerEnv *, ::grpc::ServerBuilder *)&gt;' data-ref="tensorflow::ServiceInitFunction">ServiceInitFunction</a> <dfn class="local col6 decl" id="36service_func" title='service_func' data-type='ServiceInitFunction' data-ref="36service_func">service_func</dfn>,</td></tr>
<tr><th id="82">82</th><td>              <em>const</em> <a class="typedef" href="#tensorflow::RendezvousMgrCreationFunction" title='tensorflow::RendezvousMgrCreationFunction' data-type='std::function&lt;RendezvousMgrInterface *(const WorkerEnv *)&gt;' data-ref="tensorflow::RendezvousMgrCreationFunction">RendezvousMgrCreationFunction</a>&amp; <dfn class="local col7 decl" id="37rendezvous_mgr_func" title='rendezvous_mgr_func' data-type='const RendezvousMgrCreationFunction &amp;' data-ref="37rendezvous_mgr_func">rendezvous_mgr_func</dfn>);</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer4InitEv" title='tensorflow::GrpcServer::Init' data-ref="_ZN10tensorflow10GrpcServer4InitEv" id="_ZN10tensorflow10GrpcServer4InitEv">Init</a>();</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>  <i>// A subclass can override this method to support secure credentials.</i></td></tr>
<tr><th id="87">87</th><td>  <b>virtual</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<span class="namespace">::grpc::</span><span class='type' title='grpc::ServerCredentials' data-ref="grpc::ServerCredentials">ServerCredentials</span>&gt; <a class="virtual decl" href="grpc_server_lib.cc.html#_ZNK10tensorflow10GrpcServer20GetServerCredentialsERKNS_9ServerDefE" title='tensorflow::GrpcServer::GetServerCredentials' data-ref="_ZNK10tensorflow10GrpcServer20GetServerCredentialsERKNS_9ServerDefE" id="_ZNK10tensorflow10GrpcServer20GetServerCredentialsERKNS_9ServerDefE">GetServerCredentials</a>(</td></tr>
<tr><th id="88">88</th><td>      <em>const</em> <span class='type' title='tensorflow::ServerDef' data-ref="tensorflow::ServerDef">ServerDef</span>&amp; <dfn class="local col8 decl" id="38server_def" title='server_def' data-type='const tensorflow::ServerDef &amp;' data-ref="38server_def">server_def</dfn>) <em>const</em>;</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td>  <b>virtual</b> <a class="typedef" href="grpc_channel.h.html#tensorflow::ChannelCreationFunction" title='tensorflow::ChannelCreationFunction' data-type='std::function&lt;SharedGrpcChannelPtr (string)&gt;' data-ref="tensorflow::ChannelCreationFunction">ChannelCreationFunction</a> <a class="virtual decl" href="grpc_server_lib.cc.html#_ZNK10tensorflow10GrpcServer26GetChannelCreationFunctionEv" title='tensorflow::GrpcServer::GetChannelCreationFunction' data-ref="_ZNK10tensorflow10GrpcServer26GetChannelCreationFunctionEv" id="_ZNK10tensorflow10GrpcServer26GetChannelCreationFunctionEv">GetChannelCreationFunction</a>() <em>const</em>;</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>  <b>virtual</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../master.h.html#tensorflow::Master" title='tensorflow::Master' data-ref="tensorflow::Master">Master</a>&gt; <a class="virtual decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer12CreateMasterEPNS_9MasterEnvE" title='tensorflow::GrpcServer::CreateMaster' data-ref="_ZN10tensorflow10GrpcServer12CreateMasterEPNS_9MasterEnvE" id="_ZN10tensorflow10GrpcServer12CreateMasterEPNS_9MasterEnvE">CreateMaster</a>(<a class="type" href="../master_env.h.html#tensorflow::MasterEnv" title='tensorflow::MasterEnv' data-ref="tensorflow::MasterEnv">MasterEnv</a>* <dfn class="local col9 decl" id="39master_env" title='master_env' data-type='tensorflow::MasterEnv *' data-ref="39master_env">master_env</dfn>);</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>  <i>// Creates a WorkerCacheInterface for a session.</i></td></tr>
<tr><th id="95">95</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer18WorkerCacheFactoryERKNS_25WorkerCacheFactoryOptionsEPPNS_20WorkerCacheInterfaceE" title='tensorflow::GrpcServer::WorkerCacheFactory' data-ref="_ZN10tensorflow10GrpcServer18WorkerCacheFactoryERKNS_25WorkerCacheFactoryOptionsEPPNS_20WorkerCacheInterfaceE" id="_ZN10tensorflow10GrpcServer18WorkerCacheFactoryERKNS_25WorkerCacheFactoryOptionsEPPNS_20WorkerCacheInterfaceE">WorkerCacheFactory</a>(<em>const</em> <a class="type" href="../master_env.h.html#tensorflow::WorkerCacheFactoryOptions" title='tensorflow::WorkerCacheFactoryOptions' data-ref="tensorflow::WorkerCacheFactoryOptions">WorkerCacheFactoryOptions</a>&amp; <dfn class="local col0 decl" id="40options" title='options' data-type='const tensorflow::WorkerCacheFactoryOptions &amp;' data-ref="40options">options</dfn>,</td></tr>
<tr><th id="96">96</th><td>                            <a class="type" href="../worker_cache.h.html#tensorflow::WorkerCacheInterface" title='tensorflow::WorkerCacheInterface' data-ref="tensorflow::WorkerCacheInterface">WorkerCacheInterface</a>** <dfn class="local col1 decl" id="41worker_cache" title='worker_cache' data-type='tensorflow::WorkerCacheInterface **' data-ref="41worker_cache">worker_cache</dfn>);</td></tr>
<tr><th id="97">97</th><td></td></tr>
<tr><th id="98">98</th><td>  <i>// Parses a WorkerCacheFactoryOptions into a GrpcChannelSpec.</i></td></tr>
<tr><th id="99">99</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="grpc_server_lib.cc.html#_ZN10tensorflow10GrpcServer16ParseChannelSpecERKNS_25WorkerCacheFactoryOptionsEPNS_15GrpcChannelSpecE" title='tensorflow::GrpcServer::ParseChannelSpec' data-ref="_ZN10tensorflow10GrpcServer16ParseChannelSpecERKNS_25WorkerCacheFactoryOptionsEPNS_15GrpcChannelSpecE" id="_ZN10tensorflow10GrpcServer16ParseChannelSpecERKNS_25WorkerCacheFactoryOptionsEPNS_15GrpcChannelSpecE">ParseChannelSpec</a>(<em>const</em> <a class="type" href="../master_env.h.html#tensorflow::WorkerCacheFactoryOptions" title='tensorflow::WorkerCacheFactoryOptions' data-ref="tensorflow::WorkerCacheFactoryOptions">WorkerCacheFactoryOptions</a>&amp; <dfn class="local col2 decl" id="42options" title='options' data-type='const tensorflow::WorkerCacheFactoryOptions &amp;' data-ref="42options">options</dfn>,</td></tr>
<tr><th id="100">100</th><td>                          <a class="type" href="grpc_channel.h.html#tensorflow::GrpcChannelSpec" title='tensorflow::GrpcChannelSpec' data-ref="tensorflow::GrpcChannelSpec">GrpcChannelSpec</a>* <dfn class="local col3 decl" id="43channel_spec" title='channel_spec' data-type='tensorflow::GrpcChannelSpec *' data-ref="43channel_spec">channel_spec</dfn>);</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>  <i>// Returns the port to which this server is bound.</i></td></tr>
<tr><th id="103">103</th><td><i>  // This method may only be called after `this-&gt;Init()` returns successfully.</i></td></tr>
<tr><th id="104">104</th><td>  <em>int</em> <dfn class="decl def" id="_ZNK10tensorflow10GrpcServer10bound_portEv" title='tensorflow::GrpcServer::bound_port' data-ref="_ZNK10tensorflow10GrpcServer10bound_portEv">bound_port</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#tensorflow::GrpcServer::bound_port_" title='tensorflow::GrpcServer::bound_port_' data-ref="tensorflow::GrpcServer::bound_port_">bound_port_</a>; }</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td>  <a class="type" href="../worker_env.h.html#tensorflow::WorkerEnv" title='tensorflow::WorkerEnv' data-ref="tensorflow::WorkerEnv">WorkerEnv</a>* <dfn class="decl def" id="_ZN10tensorflow10GrpcServer10worker_envEv" title='tensorflow::GrpcServer::worker_env' data-ref="_ZN10tensorflow10GrpcServer10worker_envEv">worker_env</dfn>() { <b>return</b> &amp;<a class="member" href="#tensorflow::GrpcServer::worker_env_" title='tensorflow::GrpcServer::worker_env_' data-ref="tensorflow::GrpcServer::worker_env_">worker_env_</a>; }</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td>  <em>const</em> <span class='type' title='tensorflow::ServerDef' data-ref="tensorflow::ServerDef">ServerDef</span>&amp; <dfn class="decl def" id="_ZNK10tensorflow10GrpcServer10server_defEv" title='tensorflow::GrpcServer::server_def' data-ref="_ZNK10tensorflow10GrpcServer10server_defEv">server_def</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#tensorflow::GrpcServer::server_def_" title='tensorflow::GrpcServer::server_def_' data-ref="tensorflow::GrpcServer::server_def_">server_def_</a>; }</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td> <b>private</b>:</td></tr>
<tr><th id="111">111</th><td>  <i>// The overall server configuration.</i></td></tr>
<tr><th id="112">112</th><td>  <em>const</em> <span class='type' title='tensorflow::ServerDef' data-ref="tensorflow::ServerDef">ServerDef</span> <dfn class="decl" id="tensorflow::GrpcServer::server_def_" title='tensorflow::GrpcServer::server_def_' data-ref="tensorflow::GrpcServer::server_def_">server_def_</dfn>;</td></tr>
<tr><th id="113">113</th><td>  <a class="type" href="../../platform/env.h.html#tensorflow::Env" title='tensorflow::Env' data-ref="tensorflow::Env">Env</a>* <dfn class="decl" id="tensorflow::GrpcServer::env_" title='tensorflow::GrpcServer::env_' data-ref="tensorflow::GrpcServer::env_">env_</dfn>;</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td>  <i>// The port to which this server is bound.</i></td></tr>
<tr><th id="116">116</th><td>  <em>int</em> <dfn class="decl" id="tensorflow::GrpcServer::bound_port_" title='tensorflow::GrpcServer::bound_port_' data-ref="tensorflow::GrpcServer::bound_port_">bound_port_</dfn> = <var>0</var>;</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td>  <i>// Guards state transitions.</i></td></tr>
<tr><th id="119">119</th><td>  <a class="type" href="../../platform/default/mutex.h.html#tensorflow::mutex" title='tensorflow::mutex' data-ref="tensorflow::mutex">mutex</a> <dfn class="decl" id="tensorflow::GrpcServer::mu_" title='tensorflow::GrpcServer::mu_' data-ref="tensorflow::GrpcServer::mu_">mu_</dfn>;</td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td>  <i>// Represents the current state of the server, which changes as follows:</i></td></tr>
<tr><th id="122">122</th><td><i>  //</i></td></tr>
<tr><th id="123">123</th><td><i>  //                 Join()            Join()</i></td></tr>
<tr><th id="124">124</th><td><i>  //                  ___               ___</i></td></tr>
<tr><th id="125">125</th><td><i>  //      Start()     \ /    Stop()     \ /</i></td></tr>
<tr><th id="126">126</th><td><i>  // NEW ---------&gt; STARTED --------&gt; STOPPED</i></td></tr>
<tr><th id="127">127</th><td><i>  //   \                          /</i></td></tr>
<tr><th id="128">128</th><td><i>  //    \________________________/</i></td></tr>
<tr><th id="129">129</th><td><i>  //            Stop(), Join()</i></td></tr>
<tr><th id="130">130</th><td>  <b>enum</b> <dfn class="type def" id="tensorflow::GrpcServer::State" title='tensorflow::GrpcServer::State' data-ref="tensorflow::GrpcServer::State">State</dfn> { <dfn class="enum" id="tensorflow::GrpcServer::State::NEW" title='tensorflow::GrpcServer::State::NEW' data-ref="tensorflow::GrpcServer::State::NEW">NEW</dfn>, <dfn class="enum" id="tensorflow::GrpcServer::State::STARTED" title='tensorflow::GrpcServer::State::STARTED' data-ref="tensorflow::GrpcServer::State::STARTED">STARTED</dfn>, <dfn class="enum" id="tensorflow::GrpcServer::State::STOPPED" title='tensorflow::GrpcServer::State::STOPPED' data-ref="tensorflow::GrpcServer::State::STOPPED">STOPPED</dfn> };</td></tr>
<tr><th id="131">131</th><td>  <a class="type" href="#tensorflow::GrpcServer::State" title='tensorflow::GrpcServer::State' data-ref="tensorflow::GrpcServer::State">State</a> <dfn class="decl" id="tensorflow::GrpcServer::state_" title='tensorflow::GrpcServer::state_' data-ref="tensorflow::GrpcServer::state_">state_</dfn> <a class="macro" href="../../platform/default/thread_annotations.h.html#52" title="__attribute__((guarded_by(mu_)))" data-ref="_M/GUARDED_BY">GUARDED_BY</a>(<a class="ref" href="#tensorflow::GrpcServer::mu_" title='tensorflow::GrpcServer::mu_' data-ref="tensorflow::GrpcServer::mu_">mu_</a>);</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>  <i>// Implementation of a TensorFlow master, and RPC polling thread.</i></td></tr>
<tr><th id="134">134</th><td>  <a class="type" href="../master_env.h.html#tensorflow::MasterEnv" title='tensorflow::MasterEnv' data-ref="tensorflow::MasterEnv">MasterEnv</a> <dfn class="decl" id="tensorflow::GrpcServer::master_env_" title='tensorflow::GrpcServer::master_env_' data-ref="tensorflow::GrpcServer::master_env_">master_env_</dfn>;</td></tr>
<tr><th id="135">135</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../master.h.html#tensorflow::Master" title='tensorflow::Master' data-ref="tensorflow::Master">Master</a>&gt; <dfn class="decl" id="tensorflow::GrpcServer::master_impl_" title='tensorflow::GrpcServer::master_impl_' data-ref="tensorflow::GrpcServer::master_impl_">master_impl_</dfn>;</td></tr>
<tr><th id="136">136</th><td>  <a class="type" href="async_service_interface.h.html#tensorflow::AsyncServiceInterface" title='tensorflow::AsyncServiceInterface' data-ref="tensorflow::AsyncServiceInterface">AsyncServiceInterface</a>* <dfn class="decl" id="tensorflow::GrpcServer::master_service_" title='tensorflow::GrpcServer::master_service_' data-ref="tensorflow::GrpcServer::master_service_">master_service_</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="137">137</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../../platform/env.h.html#tensorflow::Thread" title='tensorflow::Thread' data-ref="tensorflow::Thread">Thread</a>&gt; <dfn class="decl" id="tensorflow::GrpcServer::master_thread_" title='tensorflow::GrpcServer::master_thread_' data-ref="tensorflow::GrpcServer::master_thread_">master_thread_</dfn> <a class="macro" href="../../platform/default/thread_annotations.h.html#52" title="__attribute__((guarded_by(mu_)))" data-ref="_M/GUARDED_BY">GUARDED_BY</a>(<a class="ref" href="#tensorflow::GrpcServer::mu_" title='tensorflow::GrpcServer::mu_' data-ref="tensorflow::GrpcServer::mu_">mu_</a>);</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>  <i>// Implementation of a TensorFlow worker, and RPC polling thread.</i></td></tr>
<tr><th id="140">140</th><td>  <a class="type" href="../worker_env.h.html#tensorflow::WorkerEnv" title='tensorflow::WorkerEnv' data-ref="tensorflow::WorkerEnv">WorkerEnv</a> <dfn class="decl" id="tensorflow::GrpcServer::worker_env_" title='tensorflow::GrpcServer::worker_env_' data-ref="tensorflow::GrpcServer::worker_env_">worker_env_</dfn>;</td></tr>
<tr><th id="141">141</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="grpc_worker_service.h.html#tensorflow::GrpcWorker" title='tensorflow::GrpcWorker' data-ref="tensorflow::GrpcWorker">GrpcWorker</a>&gt; <dfn class="decl" id="tensorflow::GrpcServer::worker_impl_" title='tensorflow::GrpcServer::worker_impl_' data-ref="tensorflow::GrpcServer::worker_impl_">worker_impl_</dfn>;</td></tr>
<tr><th id="142">142</th><td>  <a class="type" href="async_service_interface.h.html#tensorflow::AsyncServiceInterface" title='tensorflow::AsyncServiceInterface' data-ref="tensorflow::AsyncServiceInterface">AsyncServiceInterface</a>* <dfn class="decl" id="tensorflow::GrpcServer::worker_service_" title='tensorflow::GrpcServer::worker_service_' data-ref="tensorflow::GrpcServer::worker_service_">worker_service_</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="143">143</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../../platform/env.h.html#tensorflow::Thread" title='tensorflow::Thread' data-ref="tensorflow::Thread">Thread</a>&gt; <dfn class="decl" id="tensorflow::GrpcServer::worker_thread_" title='tensorflow::GrpcServer::worker_thread_' data-ref="tensorflow::GrpcServer::worker_thread_">worker_thread_</dfn> <a class="macro" href="../../platform/default/thread_annotations.h.html#52" title="__attribute__((guarded_by(mu_)))" data-ref="_M/GUARDED_BY">GUARDED_BY</a>(<a class="ref" href="#tensorflow::GrpcServer::mu_" title='tensorflow::GrpcServer::mu_' data-ref="tensorflow::GrpcServer::mu_">mu_</a>);</td></tr>
<tr><th id="144">144</th><td></td></tr>
<tr><th id="145">145</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<span class="namespace">::grpc::</span><span class='type' title='grpc::Server' data-ref="grpc::Server">Server</span>&gt; <dfn class="decl" id="tensorflow::GrpcServer::server_" title='tensorflow::GrpcServer::server_' data-ref="tensorflow::GrpcServer::server_">server_</dfn> <a class="macro" href="../../platform/default/thread_annotations.h.html#52" title="__attribute__((guarded_by(mu_)))" data-ref="_M/GUARDED_BY">GUARDED_BY</a>(<a class="ref" href="#tensorflow::GrpcServer::mu_" title='tensorflow::GrpcServer::mu_' data-ref="tensorflow::GrpcServer::mu_">mu_</a>);</td></tr>
<tr><th id="146">146</th><td>};</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>}  <i>// namespace tensorflow</i></td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td><u>#<span data-ppcond="16">endif</span>  // TENSORFLOW_CORE_DISTRIBUTED_RUNTIME_RPC_GRPC_SERVER_LIB_H_</u></td></tr>
<tr><th id="151">151</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='grpc_server_lib.cc.html'>tensorflow/tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc</a><br/>Generated on <em>2018-Aug-09</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
