<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>service.cc source code [tensorflow/tensorflow/compiler/xla/service/service.cc] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/compiler/xla/service/service.cc'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>tensorflow</a>/<a href='../../..'>tensorflow</a>/<a href='../..'>compiler</a>/<a href='..'>xla</a>/<a href='./'>service</a>/<a href='service.cc.html'>service.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2017 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="service.h.html">"tensorflow/compiler/xla/service/service.h"</a></u></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../../../../include/c++/5/memory.html">&lt;memory&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../include/c++/5/string.html">&lt;string&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../../include/c++/5/utility.html">&lt;utility&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../../include/c++/5/vector.html">&lt;vector&gt;</a></u></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../execution_options_util.h.html">"tensorflow/compiler/xla/execution_options_util.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../layout_util.h.html">"tensorflow/compiler/xla/layout_util.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../legacy_flags/debug_options_flags.h.html">"tensorflow/compiler/xla/legacy_flags/debug_options_flags.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../ptr_util.h.html">"tensorflow/compiler/xla/ptr_util.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="compiler.h.html">"tensorflow/compiler/xla/service/compiler.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="computation_layout.h.html">"tensorflow/compiler/xla/service/computation_layout.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="device_memory_allocator.h.html">"tensorflow/compiler/xla/service/device_memory_allocator.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="executable.h.html">"tensorflow/compiler/xla/service/executable.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="hlo_computation.h.html">"tensorflow/compiler/xla/service/hlo_computation.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="hlo_cost_analysis.h.html">"tensorflow/compiler/xla/service/hlo_cost_analysis.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="hlo_evaluator.h.html">"tensorflow/compiler/xla/service/hlo_evaluator.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="hlo_instruction.h.html">"tensorflow/compiler/xla/service/hlo_instruction.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="hlo_module.h.html">"tensorflow/compiler/xla/service/hlo_module.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="hlo_module_config.h.html">"tensorflow/compiler/xla/service/hlo_module_config.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="hlo_proto_util.h.html">"tensorflow/compiler/xla/service/hlo_proto_util.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="platform_util.h.html">"tensorflow/compiler/xla/service/platform_util.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="session.pb.h.html">"tensorflow/compiler/xla/service/session.pb.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="source_map_util.h.html">"tensorflow/compiler/xla/service/source_map_util.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="transfer_manager.h.html">"tensorflow/compiler/xla/service/transfer_manager.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../shape_layout.h.html">"tensorflow/compiler/xla/shape_layout.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../shape_util.h.html">"tensorflow/compiler/xla/shape_util.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../status_macros.h.html">"tensorflow/compiler/xla/status_macros.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../types.h.html">"tensorflow/compiler/xla/types.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../util.h.html">"tensorflow/compiler/xla/util.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../xla_data.pb.h.html">"tensorflow/compiler/xla/xla_data.pb.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="../../../core/lib/gtl/cleanup.h.html">"tensorflow/core/lib/gtl/cleanup.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="../../../core/lib/strings/strcat.h.html">"tensorflow/core/lib/strings/strcat.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="../../../core/lib/strings/stringprintf.h.html">"tensorflow/core/lib/strings/stringprintf.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="../../../core/platform/env.h.html">"tensorflow/core/platform/env.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="../../../core/platform/logging.h.html">"tensorflow/core/platform/logging.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="../../../core/platform/protobuf.h.html">"tensorflow/core/platform/protobuf.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="../../../core/platform/stream_executor_no_cuda.h.html">"tensorflow/core/platform/stream_executor_no_cuda.h"</a></u></td></tr>
<tr><th id="55">55</th><td><u>#include <a href="../../../core/platform/types.h.html">"tensorflow/core/platform/types.h"</a></u></td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><b>namespace</b> <span class="namespace">se</span> = <span class="namespace">::perftools::</span><span class="namespace">gputools</span>;</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><b>using</b> <span class="namespace">::tensorflow::strings::</span>Printf;</td></tr>
<tr><th id="60">60</th><td><b>using</b> <span class="namespace">::tensorflow::strings::</span>StrCat;</td></tr>
<tr><th id="61">61</th><td><b>using</b> <span class="namespace">::xla::source_map_util::</span>InvalidParameterArgument;</td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><b>namespace</b> <span class="namespace">xla</span> {</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td><b>namespace</b> {</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><i  data-doc="_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832">// Records the arguments used to invoke a computation in a SessionModule</i></td></tr>
<tr><th id="68">68</th><td><i  data-doc="_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832">// proto.</i></td></tr>
<tr><th id="69">69</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <dfn class="tu decl def" id="_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832" title='xla::(anonymous namespace)::RecordArguments' data-type='tensorflow::Status xla::(anonymous namespace)::RecordArguments(const tensorflow::gtl::ArraySlice&lt;const ShapedBuffer *&gt; arguments, se::StreamExecutor * executor, xla::TransferManager * transfer_manager, xla::SessionModule * module)' data-ref="_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832">RecordArguments</dfn>(</td></tr>
<tr><th id="70">70</th><td>    <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt; <dfn class="local col1 decl" id="1arguments" title='arguments' data-type='const tensorflow::gtl::ArraySlice&lt;const ShapedBuffer *&gt;' data-ref="1arguments">arguments</dfn>,</td></tr>
<tr><th id="71">71</th><td>    <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col2 decl" id="2executor" title='executor' data-type='se::StreamExecutor *' data-ref="2executor">executor</dfn>, <a class="type" href="transfer_manager.h.html#xla::TransferManager" title='xla::TransferManager' data-ref="xla::TransferManager">TransferManager</a>* <dfn class="local col3 decl" id="3transfer_manager" title='transfer_manager' data-type='xla::TransferManager *' data-ref="3transfer_manager">transfer_manager</dfn>,</td></tr>
<tr><th id="72">72</th><td>    <a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>* <dfn class="local col4 decl" id="4module" title='module' data-type='xla::SessionModule *' data-ref="4module">module</dfn>) {</td></tr>
<tr><th id="73">73</th><td>  <a class="local col4 ref" href="#4module" title='module' data-ref="4module">module</a>-&gt;<a class="ref" href="session.pb.h.html#_ZN3xla13SessionModule15clear_argumentsEv" title='xla::SessionModule::clear_arguments' data-ref="_ZN3xla13SessionModule15clear_argumentsEv">clear_arguments</a>();</td></tr>
<tr><th id="74">74</th><td>  <b>for</b> (<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col5 decl" id="5argument" title='argument' data-type='const xla::ShapedBuffer *' data-ref="5argument">argument</dfn> : <a class="local col1 ref" href="#1arguments" title='arguments' data-ref="1arguments">arguments</a>) {</td></tr>
<tr><th id="75">75</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value1 = (transfer_manager-&gt;TransferLiteralFromDevice(executor, *argument)); if ((__builtin_expect(!_status_or_value1.ok(), 0))) { return _status_or_value1.status(); } std::unique_ptr&lt;Literal&gt; literal = std::move(_status_or_value1.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="76">76</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt; <dfn class="local col6 decl" id="6literal" title='literal' data-type='std::unique_ptr&lt;Literal&gt;' data-ref="6literal">literal</dfn>,</td></tr>
<tr><th id="77">77</th><td>        <a class="local col3 ref" href="#3transfer_manager" title='transfer_manager' data-ref="3transfer_manager">transfer_manager</a>-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE" title='xla::TransferManager::TransferLiteralFromDevice' data-ref="_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE">TransferLiteralFromDevice</a>(<a class="local col2 ref" href="#2executor" title='executor' data-ref="2executor">executor</a>, *<a class="local col5 ref" href="#5argument" title='argument' data-ref="5argument">argument</a>));</td></tr>
<tr><th id="78">78</th><td>    *<a class="local col4 ref" href="#4module" title='module' data-ref="4module">module</a>-&gt;<a class="ref" href="session.pb.h.html#_ZN3xla13SessionModule13add_argumentsEv" title='xla::SessionModule::add_arguments' data-ref="_ZN3xla13SessionModule13add_argumentsEv">add_arguments</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a> <a class="local col6 ref" href="#75" title='literal' data-ref="6literal">literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="79">79</th><td>  }</td></tr>
<tr><th id="80">80</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="81">81</th><td>}</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><i  data-doc="_ZN3xla12_GLOBAL__N_112RecordResultERKNS_12ShapedBufferEPN9perftools8gputools14StreamExecutorEPNS_15TransferManagerEPNS_13SessionModuleE">// Records the result of a computation in a SessionModule proto.</i></td></tr>
<tr><th id="84">84</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <dfn class="tu decl def" id="_ZN3xla12_GLOBAL__N_112RecordResultERKNS_12ShapedBufferEPN9perftools8gputools14StreamExecutorEPNS_15TransferManagerEPNS_13SessionModuleE" title='xla::(anonymous namespace)::RecordResult' data-type='tensorflow::Status xla::(anonymous namespace)::RecordResult(const xla::ShapedBuffer &amp; result, se::StreamExecutor * executor, xla::TransferManager * transfer_manager, xla::SessionModule * module)' data-ref="_ZN3xla12_GLOBAL__N_112RecordResultERKNS_12ShapedBufferEPN9perftools8gputools14StreamExecutorEPNS_15TransferManagerEPNS_13SessionModuleE">RecordResult</dfn>(<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&amp; <dfn class="local col7 decl" id="7result" title='result' data-type='const xla::ShapedBuffer &amp;' data-ref="7result">result</dfn>,</td></tr>
<tr><th id="85">85</th><td>                                <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col8 decl" id="8executor" title='executor' data-type='se::StreamExecutor *' data-ref="8executor">executor</dfn>,</td></tr>
<tr><th id="86">86</th><td>                                <a class="type" href="transfer_manager.h.html#xla::TransferManager" title='xla::TransferManager' data-ref="xla::TransferManager">TransferManager</a>* <dfn class="local col9 decl" id="9transfer_manager" title='transfer_manager' data-type='xla::TransferManager *' data-ref="9transfer_manager">transfer_manager</dfn>,</td></tr>
<tr><th id="87">87</th><td>                                <a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>* <dfn class="local col0 decl" id="10module" title='module' data-type='xla::SessionModule *' data-ref="10module">module</dfn>) {</td></tr>
<tr><th id="88">88</th><td>  <a class="local col0 ref" href="#10module" title='module' data-ref="10module">module</a>-&gt;<a class="ref" href="session.pb.h.html#_ZN3xla13SessionModule12clear_resultEv" title='xla::SessionModule::clear_result' data-ref="_ZN3xla13SessionModule12clear_resultEv">clear_result</a>();</td></tr>
<tr><th id="89">89</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value3 = (transfer_manager-&gt;TransferLiteralFromDevice(executor, result)); if ((__builtin_expect(!_status_or_value3.ok(), 0))) { return _status_or_value3.status(); } std::unique_ptr&lt;Literal&gt; literal = std::move(_status_or_value3.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="90">90</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt; <dfn class="local col1 decl" id="11literal" title='literal' data-type='std::unique_ptr&lt;Literal&gt;' data-ref="11literal">literal</dfn>,</td></tr>
<tr><th id="91">91</th><td>      <a class="local col9 ref" href="#9transfer_manager" title='transfer_manager' data-ref="9transfer_manager">transfer_manager</a>-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE" title='xla::TransferManager::TransferLiteralFromDevice' data-ref="_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE">TransferLiteralFromDevice</a>(<a class="local col8 ref" href="#8executor" title='executor' data-ref="8executor">executor</a>, <a class="local col7 ref" href="#7result" title='result' data-ref="7result">result</a>));</td></tr>
<tr><th id="92">92</th><td>  *<a class="local col0 ref" href="#10module" title='module' data-ref="10module">module</a>-&gt;<a class="ref" href="session.pb.h.html#_ZN3xla13SessionModule14mutable_resultEv" title='xla::SessionModule::mutable_result' data-ref="_ZN3xla13SessionModule14mutable_resultEv">mutable_result</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a> <a class="local col1 ref" href="#89" title='literal' data-ref="11literal">literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="93">93</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="94">94</th><td>}</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="97">97</th><td></td></tr>
<tr><th id="98">98</th><td><a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>&amp; <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZN3xla14ServiceOptions12set_platformEPN9perftools8gputools8PlatformE" title='xla::ServiceOptions::set_platform' data-ref="_ZN3xla14ServiceOptions12set_platformEPN9perftools8gputools8PlatformE">set_platform</dfn>(</td></tr>
<tr><th id="99">99</th><td>    <span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/platform.h.html#perftools::gputools::Platform" title='perftools::gputools::Platform' data-ref="perftools::gputools::Platform">Platform</a>* <dfn class="local col2 decl" id="12platform" title='platform' data-type='perftools::gputools::Platform *' data-ref="12platform">platform</dfn>) {</td></tr>
<tr><th id="100">100</th><td>  <a class="member" href="service.h.html#xla::ServiceOptions::platform_" title='xla::ServiceOptions::platform_' data-ref="xla::ServiceOptions::platform_">platform_</a> = <a class="local col2 ref" href="#12platform" title='platform' data-ref="12platform">platform</a>;</td></tr>
<tr><th id="101">101</th><td>  <b>return</b> *<b>this</b>;</td></tr>
<tr><th id="102">102</th><td>}</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/platform.h.html#perftools::gputools::Platform" title='perftools::gputools::Platform' data-ref="perftools::gputools::Platform">Platform</a>* <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZNK3xla14ServiceOptions8platformEv" title='xla::ServiceOptions::platform' data-ref="_ZNK3xla14ServiceOptions8platformEv">platform</dfn>() <em>const</em> {</td></tr>
<tr><th id="105">105</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::ServiceOptions::platform_" title='xla::ServiceOptions::platform_' data-ref="xla::ServiceOptions::platform_">platform_</a>;</td></tr>
<tr><th id="106">106</th><td>}</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td><a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>&amp; <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZN3xla14ServiceOptions22set_number_of_replicasEi" title='xla::ServiceOptions::set_number_of_replicas' data-ref="_ZN3xla14ServiceOptions22set_number_of_replicasEi">set_number_of_replicas</dfn>(<em>int</em> <dfn class="local col3 decl" id="13number_of_replicas" title='number_of_replicas' data-type='int' data-ref="13number_of_replicas">number_of_replicas</dfn>) {</td></tr>
<tr><th id="109">109</th><td>  <a class="member" href="service.h.html#xla::ServiceOptions::number_of_replicas_" title='xla::ServiceOptions::number_of_replicas_' data-ref="xla::ServiceOptions::number_of_replicas_">number_of_replicas_</a> = <a class="local col3 ref" href="#13number_of_replicas" title='number_of_replicas' data-ref="13number_of_replicas">number_of_replicas</a>;</td></tr>
<tr><th id="110">110</th><td>  <b>return</b> *<b>this</b>;</td></tr>
<tr><th id="111">111</th><td>}</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td><em>int</em> <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</dfn>() <em>const</em> { <b>return</b> <a class="member" href="service.h.html#xla::ServiceOptions::number_of_replicas_" title='xla::ServiceOptions::number_of_replicas_' data-ref="xla::ServiceOptions::number_of_replicas_">number_of_replicas_</a>; }</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>&amp; <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZN3xla14ServiceOptions32set_intra_op_parallelism_threadsEi" title='xla::ServiceOptions::set_intra_op_parallelism_threads' data-ref="_ZN3xla14ServiceOptions32set_intra_op_parallelism_threadsEi">set_intra_op_parallelism_threads</dfn>(</td></tr>
<tr><th id="116">116</th><td>    <em>int</em> <dfn class="local col4 decl" id="14num_threads" title='num_threads' data-type='int' data-ref="14num_threads">num_threads</dfn>) {</td></tr>
<tr><th id="117">117</th><td>  <a class="member" href="service.h.html#xla::ServiceOptions::intra_op_parallelism_threads_" title='xla::ServiceOptions::intra_op_parallelism_threads_' data-ref="xla::ServiceOptions::intra_op_parallelism_threads_">intra_op_parallelism_threads_</a> = <a class="local col4 ref" href="#14num_threads" title='num_threads' data-ref="14num_threads">num_threads</a>;</td></tr>
<tr><th id="118">118</th><td>  <b>return</b> *<b>this</b>;</td></tr>
<tr><th id="119">119</th><td>}</td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td><em>int</em> <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>::<dfn class="decl def" id="_ZNK3xla14ServiceOptions28intra_op_parallelism_threadsEv" title='xla::ServiceOptions::intra_op_parallelism_threads' data-ref="_ZNK3xla14ServiceOptions28intra_op_parallelism_threadsEv">intra_op_parallelism_threads</dfn>() <em>const</em> {</td></tr>
<tr><th id="122">122</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::ServiceOptions::intra_op_parallelism_threads_" title='xla::ServiceOptions::intra_op_parallelism_threads_' data-ref="xla::ServiceOptions::intra_op_parallelism_threads_">intra_op_parallelism_threads_</a>;</td></tr>
<tr><th id="123">123</th><td>}</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td><i>/* static */</i> <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service10NewServiceEPN9perftools8gputools8PlatformE" title='xla::Service::NewService' data-ref="_ZN3xla7Service10NewServiceEPN9perftools8gputools8PlatformE">NewService</dfn>(</td></tr>
<tr><th id="126">126</th><td>    <span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/platform.h.html#perftools::gputools::Platform" title='perftools::gputools::Platform' data-ref="perftools::gputools::Platform">Platform</a>* <dfn class="local col5 decl" id="15platform" title='platform' data-type='perftools::gputools::Platform *' data-ref="15platform">platform</dfn>) {</td></tr>
<tr><th id="127">127</th><td>  <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a> <a class="ref fake" href="service.h.html#53" title='xla::ServiceOptions::ServiceOptions' data-ref="_ZN3xla14ServiceOptionsC1Ev"></a><dfn class="local col6 decl" id="16default_options" title='default_options' data-type='xla::ServiceOptions' data-ref="16default_options">default_options</dfn>;</td></tr>
<tr><th id="128">128</th><td>  <a class="local col6 ref" href="#16default_options" title='default_options' data-ref="16default_options">default_options</a>.<a class="ref" href="#_ZN3xla14ServiceOptions12set_platformEPN9perftools8gputools8PlatformE" title='xla::ServiceOptions::set_platform' data-ref="_ZN3xla14ServiceOptions12set_platformEPN9perftools8gputools8PlatformE">set_platform</a>(<a class="local col5 ref" href="#15platform" title='platform' data-ref="15platform">platform</a>);</td></tr>
<tr><th id="129">129</th><td>  <b>return</b> <a class="member" href="#_ZN3xla7Service10NewServiceERKNS_14ServiceOptionsE" title='xla::Service::NewService' data-ref="_ZN3xla7Service10NewServiceERKNS_14ServiceOptionsE">NewService</a>(<a class="local col6 ref" href="#16default_options" title='default_options' data-ref="16default_options">default_options</a>);</td></tr>
<tr><th id="130">130</th><td>}</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><i>/* static */</i> <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service10NewServiceERKNS_14ServiceOptionsE" title='xla::Service::NewService' data-ref="_ZN3xla7Service10NewServiceERKNS_14ServiceOptionsE">NewService</dfn>(</td></tr>
<tr><th id="133">133</th><td>    <em>const</em> <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>&amp; <dfn class="local col7 decl" id="17options" title='options' data-type='const xla::ServiceOptions &amp;' data-ref="17options">options</dfn>) {</td></tr>
<tr><th id="134">134</th><td>  <span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/platform.h.html#perftools::gputools::Platform" title='perftools::gputools::Platform' data-ref="perftools::gputools::Platform">Platform</a>* <dfn class="local col8 decl" id="18platform" title='platform' data-type='perftools::gputools::Platform *' data-ref="18platform">platform</dfn> = <a class="local col7 ref" href="#17options" title='options' data-ref="17options">options</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions8platformEv" title='xla::ServiceOptions::platform' data-ref="_ZNK3xla14ServiceOptions8platformEv">platform</a>();</td></tr>
<tr><th id="135">135</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1Ev" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1Ev"></a><dfn class="local col9 decl" id="19execute_backend" title='execute_backend' data-type='std::unique_ptr&lt;Backend&gt;' data-ref="19execute_backend">execute_backend</dfn>;</td></tr>
<tr><th id="136">136</th><td>  <b>if</b> (<a class="local col8 ref" href="#18platform" title='platform' data-ref="18platform">platform</a> == <b>nullptr</b>) {</td></tr>
<tr><th id="137">137</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value5 = (PlatformUtil::GetDefaultPlatform()); if ((__builtin_expect(!_status_or_value5.ok(), 0))) { return _status_or_value5.status(); } platform = std::move(_status_or_value5.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="local col8 ref" href="#18platform" title='platform' data-ref="18platform">platform</a>, <a class="type" href="platform_util.h.html#xla::PlatformUtil" title='xla::PlatformUtil' data-ref="xla::PlatformUtil">PlatformUtil</a>::<a class="ref" href="platform_util.h.html#_ZN3xla12PlatformUtil18GetDefaultPlatformEv" title='xla::PlatformUtil::GetDefaultPlatform' data-ref="_ZN3xla12PlatformUtil18GetDefaultPlatformEv">GetDefaultPlatform</a>());</td></tr>
<tr><th id="138">138</th><td>  }</td></tr>
<tr><th id="139">139</th><td>  <a class="type" href="backend.h.html#xla::BackendOptions" title='xla::BackendOptions' data-ref="xla::BackendOptions">BackendOptions</a> <a class="ref fake" href="backend.h.html#44" title='xla::BackendOptions::BackendOptions' data-ref="_ZN3xla14BackendOptionsC1Ev"></a><dfn class="local col0 decl" id="20backend_options" title='backend_options' data-type='xla::BackendOptions' data-ref="20backend_options">backend_options</dfn>;</td></tr>
<tr><th id="140">140</th><td>  <a class="local col0 ref" href="#20backend_options" title='backend_options' data-ref="20backend_options">backend_options</a>.<a class="ref" href="backend.h.html#_ZN3xla14BackendOptions12set_platformEPN9perftools8gputools8PlatformE" title='xla::BackendOptions::set_platform' data-ref="_ZN3xla14BackendOptions12set_platformEPN9perftools8gputools8PlatformE">set_platform</a>(<a class="local col8 ref" href="#18platform" title='platform' data-ref="18platform">platform</a>);</td></tr>
<tr><th id="141">141</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value7 = (Backend::CreateBackend(backend_options)); if ((__builtin_expect(!_status_or_value7.ok(), 0))) { return _status_or_value7.status(); } execute_backend = std::move(_status_or_value7.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="local col9 ref" href="#19execute_backend" title='execute_backend' data-ref="19execute_backend">execute_backend</a>, <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>::<a class="ref" href="backend.h.html#_ZN3xla7Backend13CreateBackendERKNS_14BackendOptionsE" title='xla::Backend::CreateBackend' data-ref="_ZN3xla7Backend13CreateBackendERKNS_14BackendOptionsE">CreateBackend</a>(<a class="local col0 ref" href="#20backend_options" title='backend_options' data-ref="20backend_options">backend_options</a>));</td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>&gt; <dfn class="local col1 decl" id="21service" title='service' data-type='std::unique_ptr&lt;Service&gt;' data-ref="21service">service</dfn><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1ENNS_8_PointerE4typeE" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1ENNS_8_PointerE4typeE">(</a></td></tr>
<tr><th id="144">144</th><td>      <b>new</b> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a><a class="ref" href="#_ZN3xla7ServiceC1ERKNS_14ServiceOptionsESt10unique_ptrINS_7BackendESt14default_deleteIS5_EE" title='xla::Service::Service' data-ref="_ZN3xla7ServiceC1ERKNS_14ServiceOptionsESt10unique_ptrINS_7BackendESt14default_deleteIS5_EE">(</a><a class="local col7 ref" href="#17options" title='options' data-ref="17options">options</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col9 ref" href="#19execute_backend" title='execute_backend' data-ref="19execute_backend">execute_backend</a></span>)));</td></tr>
<tr><th id="145">145</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#21service" title='service' data-ref="21service">service</a></span>);</td></tr>
<tr><th id="146">146</th><td>}</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td><a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7ServiceC1ERKNS_14ServiceOptionsESt10unique_ptrINS_7BackendESt14default_deleteIS5_EE" title='xla::Service::Service' data-ref="_ZN3xla7ServiceC1ERKNS_14ServiceOptionsESt10unique_ptrINS_7BackendESt14default_deleteIS5_EE">Service</dfn>(<em>const</em> <a class="type" href="service.h.html#xla::ServiceOptions" title='xla::ServiceOptions' data-ref="xla::ServiceOptions">ServiceOptions</a>&amp; <dfn class="local col2 decl" id="22options" title='options' data-type='const xla::ServiceOptions &amp;' data-ref="22options">options</dfn>,</td></tr>
<tr><th id="149">149</th><td>                 <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>&gt; <dfn class="local col3 decl" id="23execute_backend" title='execute_backend' data-type='std::unique_ptr&lt;Backend&gt;' data-ref="23execute_backend">execute_backend</dfn>)</td></tr>
<tr><th id="150">150</th><td>    : <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a><a class="ref" href="service.h.html#53" title='xla::ServiceOptions::ServiceOptions' data-ref="_ZN3xla14ServiceOptionsC1ERKS0_">(</a><a class="local col2 ref" href="#22options" title='options' data-ref="22options">options</a>),</td></tr>
<tr><th id="151">151</th><td>      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a><a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTrackerC1EPNS_7BackendE" title='xla::AllocationTracker::AllocationTracker' data-ref="_ZN3xla17AllocationTrackerC1EPNS_7BackendE">(</a><a class="local col3 ref" href="#23execute_backend" title='execute_backend' data-ref="23execute_backend">execute_backend</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>()),</td></tr>
<tr><th id="152">152</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E">(</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#23execute_backend" title='execute_backend' data-ref="23execute_backend">execute_backend</a></span>)) {</td></tr>
<tr><th id="153">153</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#256" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_GTImpl( ::tensorflow::internal::GetReferenceableValue(options_.number_of_replicas()), ::tensorflow::internal::GetReferenceableValue(0), &quot;options_.number_of_replicas()&quot; &quot; &quot; &quot;&gt;&quot; &quot; &quot; &quot;0&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 153) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(), <var>0</var>);</td></tr>
<tr><th id="154">154</th><td>  <b>if</b> (<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrcvbEv" title='std::unique_ptr::operator bool' data-ref="_ZNKSt10unique_ptrcvbEv"></a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>) {</td></tr>
<tr><th id="155">155</th><td>    <b>if</b> (<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>() &gt; <var>0</var>) {</td></tr>
<tr><th id="156">156</th><td>      <a class="macro" href="../../../core/platform/default/logging.h.html#255" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_GEImpl( ::tensorflow::internal::GetReferenceableValue(execute_backend_-&gt;device_count()), ::tensorflow::internal::GetReferenceableValue(options_.number_of_replicas()), &quot;execute_backend_-&gt;device_count()&quot; &quot; &quot; &quot;&gt;=&quot; &quot; &quot; &quot;options_.number_of_replicas()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 156) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_GE">CHECK_GE</a>(<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>(), <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>())</td></tr>
<tr><th id="157">157</th><td>          <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Requested more replicas than there are devices."</q>;</td></tr>
<tr><th id="158">158</th><td>    }</td></tr>
<tr><th id="159">159</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#77" title="::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 159, ::tensorflow::INFO)" data-ref="_M/LOG">LOG</a>(INFO) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(</td></tr>
<tr><th id="160">160</th><td>        <q>"XLA service %p executing computations on platform %s. Devices:"</q>, <b>this</b>,</td></tr>
<tr><th id="161">161</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend8platformEv" title='xla::Backend::platform' data-ref="_ZNK3xla7Backend8platformEv">platform</a>()-&gt;<a class="virtual ref" href="../../../stream_executor/platform.h.html#_ZNK9perftools8gputools8Platform4NameEv" title='perftools::gputools::Platform::Name' data-ref="_ZNK9perftools8gputools8Platform4NameEv">Name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="162">162</th><td>    <b>for</b> (<em>int</em> <dfn class="local col4 decl" id="24i" title='i' data-type='int' data-ref="24i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a> &lt; <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>(); ++<a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a>) {</td></tr>
<tr><th id="163">163</th><td>      <b>if</b> (<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend24device_ordinal_supportedEi" title='xla::Backend::device_ordinal_supported' data-ref="_ZNK3xla7Backend24device_ordinal_supportedEi">device_ordinal_supported</a>(<a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a>)) {</td></tr>
<tr><th id="164">164</th><td>        <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col5 decl" id="25executor" title='executor' data-type='se::StreamExecutor *' data-ref="25executor">executor</dfn> =</td></tr>
<tr><th id="165">165</th><td>            <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend15stream_executorEi" title='xla::Backend::stream_executor' data-ref="_ZNK3xla7Backend15stream_executorEi">stream_executor</a>(<a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a>).<a class="ref" href="../statusor.h.html#_ZNO3xla8StatusOr10ValueOrDieEv" title='xla::StatusOr::ValueOrDie' data-ref="_ZNO3xla8StatusOr10ValueOrDieEv">ValueOrDie</a>();</td></tr>
<tr><th id="166">166</th><td>        <em>const</em> <em>auto</em>&amp; <dfn class="local col6 decl" id="26description" title='description' data-type='const perftools::gputools::DeviceDescription &amp;' data-ref="26description">description</dfn> = <a class="local col5 ref" href="#25executor" title='executor' data-ref="25executor">executor</a>-&gt;<a class="ref" href="../../../stream_executor/stream_executor_pimpl.h.html#_ZNK9perftools8gputools14StreamExecutor20GetDeviceDescriptionEv" title='perftools::gputools::StreamExecutor::GetDeviceDescription' data-ref="_ZNK9perftools8gputools14StreamExecutor20GetDeviceDescriptionEv">GetDeviceDescription</a>();</td></tr>
<tr><th id="167">167</th><td>        <a class="macro" href="../../../core/platform/default/logging.h.html#77" title="::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 167, ::tensorflow::INFO)" data-ref="_M/LOG">LOG</a>(INFO) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"  StreamExecutor device (%d): %s, %s"</q>, <a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a>,</td></tr>
<tr><th id="168">168</th><td>                            <a class="local col6 ref" href="#26description" title='description' data-ref="26description">description</a>.<a class="ref" href="../../../stream_executor/device_description.h.html#_ZNK9perftools8gputools17DeviceDescription4nameEv" title='perftools::gputools::DeviceDescription::name' data-ref="_ZNK9perftools8gputools17DeviceDescription4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="169">169</th><td>                            <a class="local col6 ref" href="#26description" title='description' data-ref="26description">description</a>.<a class="ref" href="../../../stream_executor/device_description.h.html#_ZNK9perftools8gputools17DeviceDescription16platform_versionEv" title='perftools::gputools::DeviceDescription::platform_version' data-ref="_ZNK9perftools8gputools17DeviceDescription16platform_versionEv">platform_version</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="170">170</th><td>      } <b>else</b> {</td></tr>
<tr><th id="171">171</th><td>        <a class="macro" href="../../../core/platform/default/logging.h.html#77" title="::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 171, ::tensorflow::INFO)" data-ref="_M/LOG">LOG</a>(INFO) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"  StreamExecutor device (%d) not supported"</q>, <a class="local col4 ref" href="#24i" title='i' data-ref="24i">i</a>);</td></tr>
<tr><th id="172">172</th><td>      }</td></tr>
<tr><th id="173">173</th><td>    }</td></tr>
<tr><th id="174">174</th><td>  } <b>else</b> {</td></tr>
<tr><th id="175">175</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 175, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"XLA compile-only service constructed"</q>;</td></tr>
<tr><th id="176">176</th><td>  }</td></tr>
<tr><th id="177">177</th><td>}</td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service11ComputationEPKNS_18ComputationRequestEPNS_19ComputationResponseE" title='xla::Service::Computation' data-ref="_ZN3xla7Service11ComputationEPKNS_18ComputationRequestEPNS_19ComputationResponseE">Computation</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ComputationRequest" title='xla::ComputationRequest' data-ref="xla::ComputationRequest">ComputationRequest</a>* <dfn class="local col7 decl" id="27arg" title='arg' data-type='const xla::ComputationRequest *' data-ref="27arg">arg</dfn>,</td></tr>
<tr><th id="180">180</th><td>                                        <a class="type" href="../xla.pb.h.html#xla::ComputationResponse" title='xla::ComputationResponse' data-ref="xla::ComputationResponse">ComputationResponse</a>* <dfn class="local col8 decl" id="28result" title='result' data-type='xla::ComputationResponse *' data-ref="28result">result</dfn>) {</td></tr>
<tr><th id="181">181</th><td>  <b>if</b> (<a class="local col7 ref" href="#27arg" title='arg' data-ref="27arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla18ComputationRequest4nameEv" title='xla::ComputationRequest::name' data-ref="_ZNK3xla18ComputationRequest4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="182">182</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computation request needs a name"</q>);</td></tr>
<tr><th id="183">183</th><td>  }</td></tr>
<tr><th id="184">184</th><td></td></tr>
<tr><th id="185">185</th><td>  *<a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla19ComputationResponse19mutable_computationEv" title='xla::ComputationResponse::mutable_computation' data-ref="_ZN3xla19ComputationResponse19mutable_computationEv">mutable_computation</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla17ComputationHandleaSEOS0_" title='xla::ComputationHandle::operator=' data-ref="_ZN3xla17ComputationHandleaSEOS0_">=</a></td></tr>
<tr><th id="186">186</th><td>      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZN3xla18ComputationTracker14NewComputationERKSs" title='xla::ComputationTracker::NewComputation' data-ref="_ZN3xla18ComputationTracker14NewComputationERKSs">NewComputation</a>(<a class="local col7 ref" href="#27arg" title='arg' data-ref="27arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla18ComputationRequest4nameEv" title='xla::ComputationRequest::name' data-ref="_ZNK3xla18ComputationRequest4nameEv">name</a>());</td></tr>
<tr><th id="187">187</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 187, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"Created new computation %s on service %p, name %s"</q>,</td></tr>
<tr><th id="188">188</th><td>                    <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ComputationResponse11computationEv" title='xla::ComputationResponse::computation' data-ref="_ZNK3xla19ComputationResponse11computationEv">computation</a>().<span class='ref' title='google::protobuf::Message::ShortDebugString' data-ref="_ZNK6google8protobuf7Message16ShortDebugStringEv">ShortDebugString</span>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(), <b>this</b>,</td></tr>
<tr><th id="189">189</th><td>                    <a class="local col7 ref" href="#27arg" title='arg' data-ref="27arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla18ComputationRequest4nameEv" title='xla::ComputationRequest::name' data-ref="_ZNK3xla18ComputationRequest4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="190">190</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="191">191</th><td>}</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service19CreateChannelHandleEPKNS_26CreateChannelHandleRequestEPNS_27CreateChannelHandleResponseE" title='xla::Service::CreateChannelHandle' data-ref="_ZN3xla7Service19CreateChannelHandleEPKNS_26CreateChannelHandleRequestEPNS_27CreateChannelHandleResponseE">CreateChannelHandle</dfn>(</td></tr>
<tr><th id="194">194</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::CreateChannelHandleRequest" title='xla::CreateChannelHandleRequest' data-ref="xla::CreateChannelHandleRequest">CreateChannelHandleRequest</a>* <dfn class="local col9 decl" id="29arg" title='arg' data-type='const xla::CreateChannelHandleRequest *' data-ref="29arg">arg</dfn>,</td></tr>
<tr><th id="195">195</th><td>    <a class="type" href="../xla.pb.h.html#xla::CreateChannelHandleResponse" title='xla::CreateChannelHandleResponse' data-ref="xla::CreateChannelHandleResponse">CreateChannelHandleResponse</a>* <dfn class="local col0 decl" id="30result" title='result' data-type='xla::CreateChannelHandleResponse *' data-ref="30result">result</dfn>) {</td></tr>
<tr><th id="196">196</th><td>  *<a class="local col0 ref" href="#30result" title='result' data-ref="30result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla27CreateChannelHandleResponse15mutable_channelEv" title='xla::CreateChannelHandleResponse::mutable_channel' data-ref="_ZN3xla27CreateChannelHandleResponse15mutable_channelEv">mutable_channel</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla13ChannelHandleaSEOS0_" title='xla::ChannelHandle::operator=' data-ref="_ZN3xla13ChannelHandleaSEOS0_">=</a> <a class="member" href="service.h.html#xla::Service::channel_tracker_" title='xla::Service::channel_tracker_' data-ref="xla::Service::channel_tracker_">channel_tracker_</a>.<a class="ref" href="channel_tracker.h.html#_ZN3xla14ChannelTracker10NewChannelEv" title='xla::ChannelTracker::NewChannel' data-ref="_ZN3xla14ChannelTracker10NewChannelEv">NewChannel</a>();</td></tr>
<tr><th id="197">197</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service10UnregisterEPKNS_17UnregisterRequestEPNS_18UnregisterResponseE" title='xla::Service::Unregister' data-ref="_ZN3xla7Service10UnregisterEPKNS_17UnregisterRequestEPNS_18UnregisterResponseE">Unregister</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::UnregisterRequest" title='xla::UnregisterRequest' data-ref="xla::UnregisterRequest">UnregisterRequest</a>* <dfn class="local col1 decl" id="31arg" title='arg' data-type='const xla::UnregisterRequest *' data-ref="31arg">arg</dfn>,</td></tr>
<tr><th id="201">201</th><td>                                       <a class="type" href="../xla.pb.h.html#xla::UnregisterResponse" title='xla::UnregisterResponse' data-ref="xla::UnregisterResponse">UnregisterResponse</a>* <dfn class="local col2 decl" id="32result" title='result' data-type='xla::UnregisterResponse *' data-ref="32result">result</dfn>) {</td></tr>
<tr><th id="202">202</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker10UnregisterERKNS_16GlobalDataHandleE" title='xla::AllocationTracker::Unregister' data-ref="_ZN3xla17AllocationTracker10UnregisterERKNS_16GlobalDataHandleE">Unregister</a>(<a class="local col1 ref" href="#31arg" title='arg' data-ref="31arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla17UnregisterRequest4dataEv" title='xla::UnregisterRequest::data' data-ref="_ZNK3xla17UnregisterRequest4dataEv">data</a>());</td></tr>
<tr><th id="203">203</th><td>}</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><i>// Deconstructs a previously-allocated global handle.</i></td></tr>
<tr><th id="206">206</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16DeconstructTupleEPKNS_23DeconstructTupleRequestEPNS_24DeconstructTupleResponseE" title='xla::Service::DeconstructTuple' data-ref="_ZN3xla7Service16DeconstructTupleEPKNS_23DeconstructTupleRequestEPNS_24DeconstructTupleResponseE">DeconstructTuple</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::DeconstructTupleRequest" title='xla::DeconstructTupleRequest' data-ref="xla::DeconstructTupleRequest">DeconstructTupleRequest</a>* <dfn class="local col3 decl" id="33arg" title='arg' data-type='const xla::DeconstructTupleRequest *' data-ref="33arg">arg</dfn>,</td></tr>
<tr><th id="207">207</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::DeconstructTupleResponse" title='xla::DeconstructTupleResponse' data-ref="xla::DeconstructTupleResponse">DeconstructTupleResponse</a>* <dfn class="local col4 decl" id="34result" title='result' data-type='xla::DeconstructTupleResponse *' data-ref="34result">result</dfn>) {</td></tr>
<tr><th id="208">208</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value9 = (allocation_tracker_.DeconstructTuple(arg-&gt;tuple_handle())); if ((__builtin_expect(!_status_or_value9.ok(), 0))) { return _status_or_value9.status(); } std::vector&lt;GlobalDataHandle&gt; elements = std::move(_status_or_value9.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="209">209</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt; <dfn class="local col5 decl" id="35elements" title='elements' data-type='std::vector&lt;GlobalDataHandle&gt;' data-ref="35elements">elements</dfn>,</td></tr>
<tr><th id="210">210</th><td>      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker16DeconstructTupleERKNS_16GlobalDataHandleE" title='xla::AllocationTracker::DeconstructTuple' data-ref="_ZN3xla17AllocationTracker16DeconstructTupleERKNS_16GlobalDataHandleE">DeconstructTuple</a>(<a class="local col3 ref" href="#33arg" title='arg' data-ref="33arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23DeconstructTupleRequest12tuple_handleEv" title='xla::DeconstructTupleRequest::tuple_handle' data-ref="_ZNK3xla23DeconstructTupleRequest12tuple_handleEv">tuple_handle</a>()));</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td>  <b>for</b> (<em>auto</em>&amp; <dfn class="local col6 decl" id="36element" title='element' data-type='xla::GlobalDataHandle &amp;' data-ref="36element">element</dfn> : <a class="local col5 ref" href="#208" title='elements' data-ref="35elements">elements</a>) {</td></tr>
<tr><th id="213">213</th><td>    *<a class="local col4 ref" href="#34result" title='result' data-ref="34result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24DeconstructTupleResponse19add_element_handlesEv" title='xla::DeconstructTupleResponse::add_element_handles' data-ref="_ZN3xla24DeconstructTupleResponse19add_element_handlesEv">add_element_handles</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16GlobalDataHandleaSERKS0_" title='xla::GlobalDataHandle::operator=' data-ref="_ZN3xla16GlobalDataHandleaSERKS0_">=</a> <a class="local col6 ref" href="#36element" title='element' data-ref="36element">element</a>;</td></tr>
<tr><th id="214">214</th><td>  }</td></tr>
<tr><th id="215">215</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="216">216</th><td>}</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZNK3xla7Service29ValidateResultShapeWithLayoutERKNS_5ShapeES3_" title='xla::Service::ValidateResultShapeWithLayout' data-ref="_ZNK3xla7Service29ValidateResultShapeWithLayoutERKNS_5ShapeES3_">ValidateResultShapeWithLayout</dfn>(</td></tr>
<tr><th id="219">219</th><td>    <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>&amp; <dfn class="local col7 decl" id="37shape_with_layout" title='shape_with_layout' data-type='const xla::Shape &amp;' data-ref="37shape_with_layout">shape_with_layout</dfn>, <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>&amp; <dfn class="local col8 decl" id="38result_shape" title='result_shape' data-type='const xla::Shape &amp;' data-ref="38result_shape">result_shape</dfn>) <em>const</em> {</td></tr>
<tr><th id="220">220</th><td>  <b>if</b> (!<a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil10CompatibleERKNS_5ShapeES3_" title='xla::ShapeUtil::Compatible' data-ref="_ZN3xla9ShapeUtil10CompatibleERKNS_5ShapeES3_">Compatible</a>(<a class="local col7 ref" href="#37shape_with_layout" title='shape_with_layout' data-ref="37shape_with_layout">shape_with_layout</a>, <a class="local col8 ref" href="#38result_shape" title='result_shape' data-ref="38result_shape">result_shape</a>)) {</td></tr>
<tr><th id="221">221</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="222">222</th><td>        <q>"Shape used to set computation result layout %s is not compatible "</q></td></tr>
<tr><th id="223">223</th><td>        <q>"with result shape %s"</q>,</td></tr>
<tr><th id="224">224</th><td>        <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil21HumanStringWithLayoutERKNS_5ShapeE" title='xla::ShapeUtil::HumanStringWithLayout' data-ref="_ZN3xla9ShapeUtil21HumanStringWithLayoutERKNS_5ShapeE">HumanStringWithLayout</a>(<a class="local col7 ref" href="#37shape_with_layout" title='shape_with_layout' data-ref="37shape_with_layout">shape_with_layout</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="225">225</th><td>        <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(<a class="local col8 ref" href="#38result_shape" title='result_shape' data-ref="38result_shape">result_shape</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="226">226</th><td>  }</td></tr>
<tr><th id="227">227</th><td>  <b>if</b> (!<a class="type" href="../layout_util.h.html#xla::LayoutUtil" title='xla::LayoutUtil' data-ref="xla::LayoutUtil">LayoutUtil</a>::<a class="ref" href="../layout_util.h.html#_ZN3xla10LayoutUtil9HasLayoutERKNS_5ShapeE" title='xla::LayoutUtil::HasLayout' data-ref="_ZN3xla10LayoutUtil9HasLayoutERKNS_5ShapeE">HasLayout</a>(<a class="local col7 ref" href="#37shape_with_layout" title='shape_with_layout' data-ref="37shape_with_layout">shape_with_layout</a>)) {</td></tr>
<tr><th id="228">228</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="229">229</th><td>        <q>"Shape used to set computation result layout %s does not have layout"</q>,</td></tr>
<tr><th id="230">230</th><td>        <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil21HumanStringWithLayoutERKNS_5ShapeE" title='xla::ShapeUtil::HumanStringWithLayout' data-ref="_ZN3xla9ShapeUtil21HumanStringWithLayoutERKNS_5ShapeE">HumanStringWithLayout</a>(<a class="local col7 ref" href="#37shape_with_layout" title='shape_with_layout' data-ref="37shape_with_layout">shape_with_layout</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="231">231</th><td>  }</td></tr>
<tr><th id="232">232</th><td>  <b>return</b> <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil13ValidateShapeERKNS_5ShapeE" title='xla::ShapeUtil::ValidateShape' data-ref="_ZN3xla9ShapeUtil13ValidateShapeERKNS_5ShapeE">ValidateShape</a>(<a class="local col7 ref" href="#37shape_with_layout" title='shape_with_layout' data-ref="37shape_with_layout">shape_with_layout</a>);</td></tr>
<tr><th id="233">233</th><td>}</td></tr>
<tr><th id="234">234</th><td></td></tr>
<tr><th id="235">235</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;&gt;</td></tr>
<tr><th id="236">236</th><td><a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE" title='xla::Service::ResolveAndValidateArguments' data-ref="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE">ResolveAndValidateArguments</dfn>(</td></tr>
<tr><th id="237">237</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>*&gt; <dfn class="local col9 decl" id="39arguments" title='arguments' data-type='tensorflow::gtl::ArraySlice&lt;const GlobalDataHandle *&gt;' data-ref="39arguments">arguments</dfn>,</td></tr>
<tr><th id="238">238</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;</td></tr>
<tr><th id="239">239</th><td>        <dfn class="local col0 decl" id="40stream_executors" title='stream_executors' data-type='tensorflow::gtl::ArraySlice&lt;perftools::gputools::StreamExecutor *&gt;' data-ref="40stream_executors">stream_executors</dfn>) {</td></tr>
<tr><th id="240">240</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#251" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_EQImpl( ::tensorflow::internal::GetReferenceableValue(options_.number_of_replicas()), ::tensorflow::internal::GetReferenceableValue(stream_executors.size()), &quot;options_.number_of_replicas()&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;stream_executors.size()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 240) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(), <a class="local col0 ref" href="#40stream_executors" title='stream_executors' data-ref="40stream_executors">stream_executors</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>());</td></tr>
<tr><th id="241">241</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="41replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="41replicated_arguments">replicated_arguments</dfn>;</td></tr>
<tr><th id="242">242</th><td>  <a class="local col1 ref" href="#41replicated_arguments" title='replicated_arguments' data-ref="41replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6resizeEm" title='std::vector::resize' data-ref="_ZNSt6vector6resizeEm">resize</a>(<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>());</td></tr>
<tr><th id="243">243</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="42i" title='i' data-type='size_t' data-ref="42i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a> &lt; <a class="local col9 ref" href="#39arguments" title='arguments' data-ref="39arguments">arguments</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>(); ++<a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>) {</td></tr>
<tr><th id="244">244</th><td>    <em>auto</em> <dfn class="local col3 decl" id="43buffer_status" title='buffer_status' data-type='xla::StatusOr&lt;std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt; &gt;' data-ref="43buffer_status">buffer_status</dfn> = <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker7ResolveERKNS_16GlobalDataHandleE" title='xla::AllocationTracker::Resolve' data-ref="_ZN3xla17AllocationTracker7ResolveERKNS_16GlobalDataHandleE">Resolve</a>(*<a class="local col9 ref" href="#39arguments" title='arguments' data-ref="39arguments">arguments</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>]</a>);</td></tr>
<tr><th id="245">245</th><td>    <b>if</b> (!<a class="local col3 ref" href="#43buffer_status" title='buffer_status' data-ref="43buffer_status">buffer_status</a>.<a class="ref" href="../statusor.h.html#_ZNK3xla8StatusOr2okEv" title='xla::StatusOr::ok' data-ref="_ZNK3xla8StatusOr2okEv">ok</a>()) {</td></tr>
<tr><th id="246">246</th><td>      <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a><a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6StatusC1ENS_5error4CodeENS_11StringPieceE" title='tensorflow::Status::Status' data-ref="_ZN10tensorflow6StatusC1ENS_5error4CodeENS_11StringPieceE">(</a><a class="local col3 ref" href="#43buffer_status" title='buffer_status' data-ref="43buffer_status">buffer_status</a>.<a class="ref" href="../statusor.h.html#_ZNKR3xla8StatusOr6statusEv" title='xla::StatusOr::status' data-ref="_ZNKR3xla8StatusOr6statusEv">status</a>().<a class="ref" href="../../../core/lib/core/status.h.html#_ZNK10tensorflow6Status4codeEv" title='tensorflow::Status::code' data-ref="_ZNK10tensorflow6Status4codeEv">code</a>(),</td></tr>
<tr><th id="247">247</th><td>                    <a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1ERKSs" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1ERKSs"></a><a class="ref" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_S3_S3_" title='tensorflow::strings::StrCat' data-ref="_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_S3_S3_">StrCat</a>(<a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1ERKSs" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1ERKSs"></a><a class="local col3 ref" href="#43buffer_status" title='buffer_status' data-ref="43buffer_status">buffer_status</a>.<a class="ref" href="../statusor.h.html#_ZNKR3xla8StatusOr6statusEv" title='xla::StatusOr::status' data-ref="_ZNKR3xla8StatusOr6statusEv">status</a>().<a class="ref" href="../../../core/lib/core/status.h.html#_ZNK10tensorflow6Status13error_messageEv" title='tensorflow::Status::error_message' data-ref="_ZNK10tensorflow6Status13error_messageEv">error_message</a>(), <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>", "</q>,</td></tr>
<tr><th id="248">248</th><td>                           <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>"failed to resolve allocation for parameter "</q>, <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1Em" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1Em"></a><a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>));</td></tr>
<tr><th id="249">249</th><td>    }</td></tr>
<tr><th id="250">250</th><td>    <em>auto</em> <dfn class="local col4 decl" id="44replicated_buffers" title='replicated_buffers' data-type='std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt;' data-ref="44replicated_buffers">replicated_buffers</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="local col3 ref" href="#43buffer_status" title='buffer_status' data-ref="43buffer_status">buffer_status</a>.<a class="ref" href="../statusor.h.html#_ZNR3xla8StatusOr10ValueOrDieEv" title='xla::StatusOr::ValueOrDie' data-ref="_ZNR3xla8StatusOr10ValueOrDieEv">ValueOrDie</a>();</td></tr>
<tr><th id="251">251</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#251" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_EQImpl( ::tensorflow::internal::GetReferenceableValue(options_.number_of_replicas()), ::tensorflow::internal::GetReferenceableValue(replicated_buffers.size()), &quot;options_.number_of_replicas()&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;replicated_buffers.size()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 251) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(), <a class="local col4 ref" href="#44replicated_buffers" title='replicated_buffers' data-ref="44replicated_buffers">replicated_buffers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="252">252</th><td>    <b>for</b> (<em>int</em> <dfn class="local col5 decl" id="45replica" title='replica' data-type='int' data-ref="45replica">replica</dfn> = <var>0</var>; <a class="local col5 ref" href="#45replica" title='replica' data-ref="45replica">replica</a> &lt; <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(); ++<a class="local col5 ref" href="#45replica" title='replica' data-ref="45replica">replica</a>) {</td></tr>
<tr><th id="253">253</th><td>      <em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col6 decl" id="46shaped_buffer" title='shaped_buffer' data-type='const xla::ShapedBuffer *' data-ref="46shaped_buffer">shaped_buffer</dfn> = <a class="local col4 ref" href="#44replicated_buffers" title='replicated_buffers' data-ref="44replicated_buffers">replicated_buffers</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col5 ref" href="#45replica" title='replica' data-ref="45replica">replica</a>]</a>;</td></tr>
<tr><th id="254">254</th><td>      <em>int</em> <dfn class="local col7 decl" id="47replica_device_ordinal" title='replica_device_ordinal' data-type='int' data-ref="47replica_device_ordinal">replica_device_ordinal</dfn> = <a class="local col0 ref" href="#40stream_executors" title='stream_executors' data-ref="40stream_executors">stream_executors</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col5 ref" href="#45replica" title='replica' data-ref="45replica">replica</a>]</a>-&gt;<a class="ref" href="../../../stream_executor/stream_executor_pimpl.h.html#_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv" title='perftools::gputools::StreamExecutor::device_ordinal' data-ref="_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv">device_ordinal</a>();</td></tr>
<tr><th id="255">255</th><td>      <i>// Verify allocation is same platform and device as the execution.</i></td></tr>
<tr><th id="256">256</th><td>      <b>if</b> (<a class="local col6 ref" href="#46shaped_buffer" title='shaped_buffer' data-ref="46shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer8platformEv" title='xla::ShapedBuffer::platform' data-ref="_ZNK3xla12ShapedBuffer8platformEv">platform</a>() != <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend8platformEv" title='xla::Backend::platform' data-ref="_ZNK3xla7Backend8platformEv">platform</a>() ||</td></tr>
<tr><th id="257">257</th><td>          <a class="local col6 ref" href="#46shaped_buffer" title='shaped_buffer' data-ref="46shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer14device_ordinalEv" title='xla::ShapedBuffer::device_ordinal' data-ref="_ZNK3xla12ShapedBuffer14device_ordinalEv">device_ordinal</a>() != <a class="local col7 ref" href="#47replica_device_ordinal" title='replica_device_ordinal' data-ref="47replica_device_ordinal">replica_device_ordinal</a>) {</td></tr>
<tr><th id="258">258</th><td>        <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="259">259</th><td>            <q>"argument %lu is on device %s:%d but computation will be executed "</q></td></tr>
<tr><th id="260">260</th><td>            <q>"on device %s"</q>,</td></tr>
<tr><th id="261">261</th><td>            <a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>, <a class="local col6 ref" href="#46shaped_buffer" title='shaped_buffer' data-ref="46shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer8platformEv" title='xla::ShapedBuffer::platform' data-ref="_ZNK3xla12ShapedBuffer8platformEv">platform</a>()-&gt;<a class="virtual ref" href="../../../stream_executor/platform.h.html#_ZNK9perftools8gputools8Platform4NameEv" title='perftools::gputools::Platform::Name' data-ref="_ZNK9perftools8gputools8Platform4NameEv">Name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="262">262</th><td>            <a class="local col6 ref" href="#46shaped_buffer" title='shaped_buffer' data-ref="46shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer14device_ordinalEv" title='xla::ShapedBuffer::device_ordinal' data-ref="_ZNK3xla12ShapedBuffer14device_ordinalEv">device_ordinal</a>(),</td></tr>
<tr><th id="263">263</th><td>            <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend11device_nameEi" title='xla::Backend::device_name' data-ref="_ZNK3xla7Backend11device_nameEi">device_name</a>(<a class="local col7 ref" href="#47replica_device_ordinal" title='replica_device_ordinal' data-ref="47replica_device_ordinal">replica_device_ordinal</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="264">264</th><td>      }</td></tr>
<tr><th id="265">265</th><td>      <a class="local col1 ref" href="#41replicated_arguments" title='replicated_arguments' data-ref="41replicated_arguments">replicated_arguments</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col5 ref" href="#45replica" title='replica' data-ref="45replica">replica</a>]</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col6 ref" href="#46shaped_buffer" title='shaped_buffer' data-ref="46shaped_buffer">shaped_buffer</a>);</td></tr>
<tr><th id="266">266</th><td>    }</td></tr>
<tr><th id="267">267</th><td>  }</td></tr>
<tr><th id="268">268</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col1 ref" href="#41replicated_arguments" title='replicated_arguments' data-ref="41replicated_arguments">replicated_arguments</a>;</td></tr>
<tr><th id="269">269</th><td>}</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_5ShapeEEEPKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_5ShapeEEEPKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</dfn>(</td></tr>
<tr><th id="272">272</th><td>    <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a>&amp; <dfn class="local col8 decl" id="48program_shape" title='program_shape' data-type='const xla::ProgramShape &amp;' data-ref="48program_shape">program_shape</dfn>,</td></tr>
<tr><th id="273">273</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>*&gt; <dfn class="local col9 decl" id="49argument_shapes" title='argument_shapes' data-type='tensorflow::gtl::ArraySlice&lt;const Shape *&gt;' data-ref="49argument_shapes">argument_shapes</dfn>,</td></tr>
<tr><th id="274">274</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>* <dfn class="local col0 decl" id="50execution_options" title='execution_options' data-type='const xla::ExecutionOptions *' data-ref="50execution_options">execution_options</dfn>,</td></tr>
<tr><th id="275">275</th><td>    <em>const</em> <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a>* <dfn class="local col1 decl" id="51user_computation" title='user_computation' data-type='const xla::UserComputation *' data-ref="51user_computation">user_computation</dfn>) {</td></tr>
<tr><th id="276">276</th><td>  <em>auto</em> <dfn class="local col2 decl" id="52config" title='config' data-type='std::unique_ptr&lt;xla::HloModuleConfig, std::default_delete&lt;xla::HloModuleConfig&gt; &gt;' data-ref="52config">config</dfn> = <a class="ref" href="../ptr_util.h.html#_ZN3xla10MakeUniqueEDpOT0_" title='xla::MakeUnique' data-ref="_ZN3xla10MakeUniqueEDpOT0_">MakeUnique</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;(<a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>);</td></tr>
<tr><th id="277">277</th><td>  <em>auto</em>* <dfn class="local col3 decl" id="53computation_layout" title='computation_layout' data-type='xla::ComputationLayout *' data-ref="53computation_layout">computation_layout</dfn> = <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig32mutable_entry_computation_layoutEv" title='xla::HloModuleConfig::mutable_entry_computation_layout' data-ref="_ZN3xla15HloModuleConfig32mutable_entry_computation_layoutEv">mutable_entry_computation_layout</a>();</td></tr>
<tr><th id="278">278</th><td></td></tr>
<tr><th id="279">279</th><td>  <b>if</b> (<a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape15parameters_sizeEv" title='xla::ProgramShape::parameters_size' data-ref="_ZNK3xla12ProgramShape15parameters_sizeEv">parameters_size</a>() != <a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>()) {</td></tr>
<tr><th id="280">280</th><td>    <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computation takes %d parameters, but %zu given"</q>,</td></tr>
<tr><th id="281">281</th><td>                           <a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape15parameters_sizeEv" title='xla::ProgramShape::parameters_size' data-ref="_ZNK3xla12ProgramShape15parameters_sizeEv">parameters_size</a>(),</td></tr>
<tr><th id="282">282</th><td>                           <a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>());</td></tr>
<tr><th id="283">283</th><td>  }</td></tr>
<tr><th id="284">284</th><td>  <b>for</b> (<em>int</em> <dfn class="local col4 decl" id="54i" title='i' data-type='int' data-ref="54i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a> &lt; <a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>(); ++<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>) {</td></tr>
<tr><th id="285">285</th><td>    <i>// Verify that shape of arguments matches the shape of the arguments in the</i></td></tr>
<tr><th id="286">286</th><td><i>    // ProgramShape.</i></td></tr>
<tr><th id="287">287</th><td>    <b>if</b> (!<a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil10CompatibleERKNS_5ShapeES3_" title='xla::ShapeUtil::Compatible' data-ref="_ZN3xla9ShapeUtil10CompatibleERKNS_5ShapeES3_">Compatible</a>(*<a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>]</a>,</td></tr>
<tr><th id="288">288</th><td>                               <a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape10parametersEi" title='xla::ProgramShape::parameters' data-ref="_ZNK3xla12ProgramShape10parametersEi">parameters</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>))) {</td></tr>
<tr><th id="289">289</th><td>      <b>if</b> (<a class="local col1 ref" href="#51user_computation" title='user_computation' data-ref="51user_computation">user_computation</a> == <b>nullptr</b>) {</td></tr>
<tr><th id="290">290</th><td>        <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="291">291</th><td>            <q>"Argument does not match shape of computation parameter %d: want "</q></td></tr>
<tr><th id="292">292</th><td>            <q>"%s, got %s"</q>,</td></tr>
<tr><th id="293">293</th><td>            <a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>, <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(<a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape10parametersEi" title='xla::ProgramShape::parameters' data-ref="_ZNK3xla12ProgramShape10parametersEi">parameters</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>)).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="294">294</th><td>            <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(*<a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>]</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="295">295</th><td>      }</td></tr>
<tr><th id="296">296</th><td>      <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="source_map_util.h.html#_ZN3xla15source_map_util24InvalidParameterArgumentERKNS_10OpMetadataEPKcz" title='xla::source_map_util::InvalidParameterArgument' data-ref="_ZN3xla15source_map_util24InvalidParameterArgumentERKNS_10OpMetadataEPKcz">InvalidParameterArgument</a>(</td></tr>
<tr><th id="297">297</th><td>          *<a class="local col1 ref" href="#51user_computation" title='user_computation' data-ref="51user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation17ParameterMetadataEi" title='xla::UserComputation::ParameterMetadata' data-ref="_ZNK3xla15UserComputation17ParameterMetadataEi">ParameterMetadata</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>).<a class="ref" href="../../../core/lib/gtl/optional.h.html#_ZNO10tensorflow3gtl8optional5valueEv" title='tensorflow::gtl::optional::value' data-ref="_ZNO10tensorflow3gtl8optional5valueEv">value</a>(),</td></tr>
<tr><th id="298">298</th><td>          <q>"Argument does not match shape of computation parameter %d: want %s, "</q></td></tr>
<tr><th id="299">299</th><td>          <q>"got %s"</q>,</td></tr>
<tr><th id="300">300</th><td>          <a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>, <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(<a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape10parametersEi" title='xla::ProgramShape::parameters' data-ref="_ZNK3xla12ProgramShape10parametersEi">parameters</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>)).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="301">301</th><td>          <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(*<a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>]</a>).<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="302">302</th><td>    }</td></tr>
<tr><th id="303">303</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (computation_layout-&gt;mutable_parameter_layout(i)-&gt;CopyLayoutFromShape( *argument_shapes[i])); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="304">304</th><td>        <a class="local col3 ref" href="#53computation_layout" title='computation_layout' data-ref="53computation_layout">computation_layout</a>-&gt;<a class="ref" href="computation_layout.h.html#_ZN3xla17ComputationLayout24mutable_parameter_layoutEx" title='xla::ComputationLayout::mutable_parameter_layout' data-ref="_ZN3xla17ComputationLayout24mutable_parameter_layoutEx">mutable_parameter_layout</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>)-&gt;<a class="ref" href="../shape_layout.h.html#_ZN3xla11ShapeLayout19CopyLayoutFromShapeERKNS_5ShapeE" title='xla::ShapeLayout::CopyLayoutFromShape' data-ref="_ZN3xla11ShapeLayout19CopyLayoutFromShapeERKNS_5ShapeE">CopyLayoutFromShape</a>(</td></tr>
<tr><th id="305">305</th><td>            *<a class="local col9 ref" href="#49argument_shapes" title='argument_shapes' data-ref="49argument_shapes">argument_shapes</a>[<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>]));</td></tr>
<tr><th id="306">306</th><td>  }</td></tr>
<tr><th id="307">307</th><td>  <b>if</b> (<a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a> != <b>nullptr</b> &amp;&amp;</td></tr>
<tr><th id="308">308</th><td>      <a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions28has_shape_with_output_layoutEv" title='xla::ExecutionOptions::has_shape_with_output_layout' data-ref="_ZNK3xla16ExecutionOptions28has_shape_with_output_layoutEv">has_shape_with_output_layout</a>()) {</td></tr>
<tr><th id="309">309</th><td>    <em>const</em> <em>auto</em>&amp; <dfn class="local col5 decl" id="55shape_with_output_layout" title='shape_with_output_layout' data-type='const xla::Shape &amp;' data-ref="55shape_with_output_layout">shape_with_output_layout</dfn> =</td></tr>
<tr><th id="310">310</th><td>        <a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions24shape_with_output_layoutEv" title='xla::ExecutionOptions::shape_with_output_layout' data-ref="_ZNK3xla16ExecutionOptions24shape_with_output_layoutEv">shape_with_output_layout</a>();</td></tr>
<tr><th id="311">311</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (ValidateResultShapeWithLayout(shape_with_output_layout, program_shape.result())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="member" href="#_ZNK3xla7Service29ValidateResultShapeWithLayoutERKNS_5ShapeES3_" title='xla::Service::ValidateResultShapeWithLayout' data-ref="_ZNK3xla7Service29ValidateResultShapeWithLayoutERKNS_5ShapeES3_">ValidateResultShapeWithLayout</a>(<a class="local col5 ref" href="#55shape_with_output_layout" title='shape_with_output_layout' data-ref="55shape_with_output_layout">shape_with_output_layout</a>,</td></tr>
<tr><th id="312">312</th><td>                                                     <a class="local col8 ref" href="#48program_shape" title='program_shape' data-ref="48program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape6resultEv" title='xla::ProgramShape::result' data-ref="_ZNK3xla12ProgramShape6resultEv">result</a>()));</td></tr>
<tr><th id="313">313</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (computation_layout-&gt;mutable_result_layout()-&gt;CopyLayoutFromShape( shape_with_output_layout)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="314">314</th><td>        <a class="local col3 ref" href="#53computation_layout" title='computation_layout' data-ref="53computation_layout">computation_layout</a>-&gt;<a class="ref" href="computation_layout.h.html#_ZN3xla17ComputationLayout21mutable_result_layoutEv" title='xla::ComputationLayout::mutable_result_layout' data-ref="_ZN3xla17ComputationLayout21mutable_result_layoutEv">mutable_result_layout</a>()-&gt;<a class="ref" href="../shape_layout.h.html#_ZN3xla11ShapeLayout19CopyLayoutFromShapeERKNS_5ShapeE" title='xla::ShapeLayout::CopyLayoutFromShape' data-ref="_ZN3xla11ShapeLayout19CopyLayoutFromShapeERKNS_5ShapeE">CopyLayoutFromShape</a>(</td></tr>
<tr><th id="315">315</th><td>            <a class="local col5 ref" href="#55shape_with_output_layout" title='shape_with_output_layout' data-ref="55shape_with_output_layout">shape_with_output_layout</a>));</td></tr>
<tr><th id="316">316</th><td>  } <b>else</b> {</td></tr>
<tr><th id="317">317</th><td>    <a class="local col3 ref" href="#53computation_layout" title='computation_layout' data-ref="53computation_layout">computation_layout</a>-&gt;<a class="ref" href="computation_layout.h.html#_ZN3xla17ComputationLayout21mutable_result_layoutEv" title='xla::ComputationLayout::mutable_result_layout' data-ref="_ZN3xla17ComputationLayout21mutable_result_layoutEv">mutable_result_layout</a>()-&gt;<a class="ref" href="../shape_layout.h.html#_ZN3xla11ShapeLayout5ClearEv" title='xla::ShapeLayout::Clear' data-ref="_ZN3xla11ShapeLayout5ClearEv">Clear</a>();</td></tr>
<tr><th id="318">318</th><td>  }</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td>  <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig17set_replica_countEx" title='xla::HloModuleConfig::set_replica_count' data-ref="_ZN3xla15HloModuleConfig17set_replica_countEx">set_replica_count</a>(<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>());</td></tr>
<tr><th id="321">321</th><td>  <b>if</b> (<a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="322">322</th><td>    <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig8set_seedEy" title='xla::HloModuleConfig::set_seed' data-ref="_ZN3xla15HloModuleConfig8set_seedEy">set_seed</a>(<a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions4seedEv" title='xla::ExecutionOptions::seed' data-ref="_ZNK3xla16ExecutionOptions4seedEv">seed</a>());</td></tr>
<tr><th id="323">323</th><td>    <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE" title='xla::HloModuleConfig::set_debug_options' data-ref="_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE">set_debug_options</a>(<a class="local col0 ref" href="#50execution_options" title='execution_options' data-ref="50execution_options">execution_options</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions13debug_optionsEv" title='xla::ExecutionOptions::debug_options' data-ref="_ZNK3xla16ExecutionOptions13debug_optionsEv">debug_options</a>());</td></tr>
<tr><th id="324">324</th><td>  } <b>else</b> {</td></tr>
<tr><th id="325">325</th><td>    <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE" title='xla::HloModuleConfig::set_debug_options' data-ref="_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE">set_debug_options</a>(<span class="namespace">legacy_flags::</span><a class="ref" href="../legacy_flags/debug_options_flags.h.html#_ZN3xla12legacy_flags24GetDebugOptionsFromFlagsEv" title='xla::legacy_flags::GetDebugOptionsFromFlags' data-ref="_ZN3xla12legacy_flags24GetDebugOptionsFromFlagsEv">GetDebugOptionsFromFlags</a>());</td></tr>
<tr><th id="326">326</th><td>  }</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>  <b>if</b> (<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a> <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZStneRKSt10unique_ptrIT_T0_EDn" title='std::operator!=' data-ref="_ZStneRKSt10unique_ptrIT_T0_EDn">!=</a> <b>nullptr</b> &amp;&amp;</td></tr>
<tr><th id="329">329</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend26eigen_intra_op_thread_poolEv" title='xla::Backend::eigen_intra_op_thread_pool' data-ref="_ZNK3xla7Backend26eigen_intra_op_thread_poolEv">eigen_intra_op_thread_pool</a>() != <b>nullptr</b>) {</td></tr>
<tr><th id="330">330</th><td>    <a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig32set_intra_op_parallelism_threadsEi" title='xla::HloModuleConfig::set_intra_op_parallelism_threads' data-ref="_ZN3xla15HloModuleConfig32set_intra_op_parallelism_threadsEi">set_intra_op_parallelism_threads</a>(</td></tr>
<tr><th id="331">331</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend26eigen_intra_op_thread_poolEv" title='xla::Backend::eigen_intra_op_thread_pool' data-ref="_ZNK3xla7Backend26eigen_intra_op_thread_poolEv">eigen_intra_op_thread_pool</a>()-&gt;<a class="ref" href="../../../core/lib/core/threadpool.h.html#_ZNK10tensorflow6thread10ThreadPool10NumThreadsEv" title='tensorflow::thread::ThreadPool::NumThreads' data-ref="_ZNK10tensorflow6thread10ThreadPool10NumThreadsEv">NumThreads</a>());</td></tr>
<tr><th id="332">332</th><td>  }</td></tr>
<tr><th id="333">333</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col2 ref" href="#52config" title='config' data-ref="52config">config</a></span>);</td></tr>
<tr><th id="334">334</th><td>}</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</dfn>(</td></tr>
<tr><th id="337">337</th><td>    <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a>&amp; <dfn class="local col6 decl" id="56program_shape" title='program_shape' data-type='const xla::ProgramShape &amp;' data-ref="56program_shape">program_shape</dfn>,</td></tr>
<tr><th id="338">338</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt; <dfn class="local col7 decl" id="57arguments" title='arguments' data-type='tensorflow::gtl::ArraySlice&lt;const ShapedBuffer *&gt;' data-ref="57arguments">arguments</dfn>,</td></tr>
<tr><th id="339">339</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>&amp; <dfn class="local col8 decl" id="58execution_options" title='execution_options' data-type='const xla::ExecutionOptions &amp;' data-ref="58execution_options">execution_options</dfn>,</td></tr>
<tr><th id="340">340</th><td>    <em>const</em> <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a>* <dfn class="local col9 decl" id="59user_computation" title='user_computation' data-type='const xla::UserComputation *' data-ref="59user_computation">user_computation</dfn>) {</td></tr>
<tr><th id="341">341</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="60argument_shapes" title='argument_shapes' data-type='std::vector&lt;const Shape *&gt;' data-ref="60argument_shapes">argument_shapes</dfn>;</td></tr>
<tr><th id="342">342</th><td>  <b>for</b> (<em>const</em> <em>auto</em>* <dfn class="local col1 decl" id="61arg" title='arg' data-type='const xla::ShapedBuffer *' data-ref="61arg">arg</dfn> : <a class="local col7 ref" href="#57arguments" title='arguments' data-ref="57arguments">arguments</a>) {</td></tr>
<tr><th id="343">343</th><td>    <a class="local col0 ref" href="#60argument_shapes" title='argument_shapes' data-ref="60argument_shapes">argument_shapes</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(&amp;<a class="local col1 ref" href="#61arg" title='arg' data-ref="61arg">arg</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer13on_host_shapeEv" title='xla::ShapedBuffer::on_host_shape' data-ref="_ZNK3xla12ShapedBuffer13on_host_shapeEv">on_host_shape</a>());</td></tr>
<tr><th id="344">344</th><td>  }</td></tr>
<tr><th id="345">345</th><td>  <b>return</b> <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_5ShapeEEEPKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_5ShapeEEEPKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="local col6 ref" href="#56program_shape" title='program_shape' data-ref="56program_shape">program_shape</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col0 ref" href="#60argument_shapes" title='argument_shapes' data-ref="60argument_shapes">argument_shapes</a>, &amp;<a class="local col8 ref" href="#58execution_options" title='execution_options' data-ref="58execution_options">execution_options</a>,</td></tr>
<tr><th id="346">346</th><td>                            <a class="local col9 ref" href="#59user_computation" title='user_computation' data-ref="59user_computation">user_computation</a>);</td></tr>
<tr><th id="347">347</th><td>}</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service16BuildExecutablesESt6vectorINS_26VersionedComputationHandleESaIS2_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS6_EESa337873" title='xla::Service::BuildExecutables' data-ref="_ZN3xla7Service16BuildExecutablesESt6vectorINS_26VersionedComputationHandleESaIS2_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS6_EESa337873">BuildExecutables</dfn>(</td></tr>
<tr><th id="350">350</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&gt; <dfn class="local col2 decl" id="62versioned_handles" title='versioned_handles' data-type='std::vector&lt;VersionedComputationHandle&gt;' data-ref="62versioned_handles">versioned_handles</dfn>,</td></tr>
<tr><th id="351">351</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <dfn class="local col3 decl" id="63module_configs" title='module_configs' data-type='std::vector&lt;std::unique_ptr&lt;HloModuleConfig&gt; &gt;' data-ref="63module_configs">module_configs</dfn>,</td></tr>
<tr><th id="352">352</th><td>    <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col4 decl" id="64backend" title='backend' data-type='xla::Backend *' data-ref="64backend">backend</dfn>,</td></tr>
<tr><th id="353">353</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt; <dfn class="local col5 decl" id="65executors" title='executors' data-type='std::vector&lt;std::vector&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="65executors">executors</dfn>,</td></tr>
<tr><th id="354">354</th><td>    <a class="type" href="device_memory_allocator.h.html#xla::DeviceMemoryAllocator" title='xla::DeviceMemoryAllocator' data-ref="xla::DeviceMemoryAllocator">DeviceMemoryAllocator</a>* <dfn class="local col6 decl" id="66device_allocator" title='device_allocator' data-type='xla::DeviceMemoryAllocator *' data-ref="66device_allocator">device_allocator</dfn>) {</td></tr>
<tr><th id="355">355</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 355, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"BuildExecutable on service %p"</q>, <b>this</b>);</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>  <i>// Dump computation proto state if flag is set.</i></td></tr>
<tr><th id="358">358</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col7 decl" id="67session_modules" title='session_modules' data-type='std::vector&lt;std::unique_ptr&lt;SessionModule&gt; &gt;' data-ref="67session_modules">session_modules</dfn>;</td></tr>
<tr><th id="359">359</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="68i" title='i' data-type='int64' data-ref="68i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a> &lt; <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>) {</td></tr>
<tr><th id="360">360</th><td>    <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col9 decl" id="69directory_path" title='directory_path' data-type='const string &amp;' data-ref="69directory_path">directory_path</dfn> =</td></tr>
<tr><th id="361">361</th><td>        <a class="local col3 ref" href="#63module_configs" title='module_configs' data-ref="63module_configs">module_configs</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>]</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions24xla_dump_computations_toEv" title='xla::DebugOptions::xla_dump_computations_to' data-ref="_ZNK3xla12DebugOptions24xla_dump_computations_toEv">xla_dump_computations_to</a>();</td></tr>
<tr><th id="362">362</th><td>    <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col0 decl" id="70other_directory_path" title='other_directory_path' data-type='const string &amp;' data-ref="70other_directory_path">other_directory_path</dfn> =</td></tr>
<tr><th id="363">363</th><td>        <a class="local col3 ref" href="#63module_configs" title='module_configs' data-ref="63module_configs">module_configs</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>]</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions22xla_dump_executions_toEv" title='xla::DebugOptions::xla_dump_executions_to' data-ref="_ZNK3xla12DebugOptions22xla_dump_executions_toEv">xla_dump_executions_to</a>();</td></tr>
<tr><th id="364">364</th><td>    <b>if</b> (<a class="local col9 ref" href="#69directory_path" title='directory_path' data-ref="69directory_path">directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>() &amp;&amp; <a class="local col0 ref" href="#70other_directory_path" title='other_directory_path' data-ref="70other_directory_path">other_directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="365">365</th><td>      <b>continue</b>;</td></tr>
<tr><th id="366">366</th><td>    }</td></tr>
<tr><th id="367">367</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value11 = (computation_tracker_.SnapshotComputation(versioned_handles[i].handle)); if ((__builtin_expect(!_status_or_value11.ok(), 0))) { return _status_or_value11.status(); } std::unique_ptr&lt;SessionModule&gt; session_module = std::move(_status_or_value11.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="368">368</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>&gt; <dfn class="local col1 decl" id="71session_module" title='session_module' data-type='std::unique_ptr&lt;SessionModule&gt;' data-ref="71session_module">session_module</dfn>,</td></tr>
<tr><th id="369">369</th><td>        <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE" title='xla::ComputationTracker::SnapshotComputation' data-ref="_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE">SnapshotComputation</a>(<a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>[<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>].<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::handle" title='xla::VersionedComputationHandle::handle' data-ref="xla::VersionedComputationHandle::handle">handle</a>));</td></tr>
<tr><th id="370">370</th><td>    <b>if</b> (!<a class="local col9 ref" href="#69directory_path" title='directory_path' data-ref="69directory_path">directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="371">371</th><td>      <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col2 decl" id="72filename" title='filename' data-type='string' data-ref="72filename">filename</dfn> = <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"computation_%lld__%s__version_%lld"</q>,</td></tr>
<tr><th id="372">372</th><td>                               <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>]</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::handle" title='xla::VersionedComputationHandle::handle' data-ref="xla::VersionedComputationHandle::handle">handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla17ComputationHandle6handleEv" title='xla::ComputationHandle::handle' data-ref="_ZNK3xla17ComputationHandle6handleEv">handle</a>(),</td></tr>
<tr><th id="373">373</th><td>                               <a class="local col1 ref" href="#367" title='session_module' data-ref="71session_module">session_module</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="session.pb.h.html#_ZNK3xla13SessionModule5entryEv" title='xla::SessionModule::entry' data-ref="_ZNK3xla13SessionModule5entryEv">entry</a>().<a class="ref" href="session.pb.h.html#_ZNK3xla18SessionComputation4nameEv" title='xla::SessionComputation::name' data-ref="_ZNK3xla18SessionComputation4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="374">374</th><td>                               <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#68i" title='i' data-ref="68i">i</a>]</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>);</td></tr>
<tr><th id="375">375</th><td>      <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (Executable::DumpToDirectory(directory_path, filename, *session_module)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>::<a class="ref" href="executable.h.html#_ZN3xla10Executable15DumpToDirectoryERKSsSsRKNS_13SessionModuleE" title='xla::Executable::DumpToDirectory' data-ref="_ZN3xla10Executable15DumpToDirectoryERKSsSsRKNS_13SessionModuleE">DumpToDirectory</a>(<a class="local col9 ref" href="#69directory_path" title='directory_path' data-ref="69directory_path">directory_path</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1ERKSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1ERKSbIT_T0_T1_E"></a><a class="local col2 ref" href="#72filename" title='filename' data-ref="72filename">filename</a>,</td></tr>
<tr><th id="376">376</th><td>                                                     <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col1 ref" href="#367" title='session_module' data-ref="71session_module">session_module</a>));</td></tr>
<tr><th id="377">377</th><td>      <a class="local col7 ref" href="#67session_modules" title='session_modules' data-ref="67session_modules">session_modules</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#367" title='session_module' data-ref="71session_module">session_module</a></span>));</td></tr>
<tr><th id="378">378</th><td>    }</td></tr>
<tr><th id="379">379</th><td>  }</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 381, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"Computation handles:"</q>;</td></tr>
<tr><th id="382">382</th><td>  <b>for</b> (<em>const</em> <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&amp; <dfn class="local col3 decl" id="73versioned_handle" title='versioned_handle' data-type='const xla::VersionedComputationHandle &amp;' data-ref="73versioned_handle">versioned_handle</dfn> : <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>) {</td></tr>
<tr><th id="383">383</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 383, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="local col3 ref" href="#73versioned_handle" title='versioned_handle' data-ref="73versioned_handle">versioned_handle</a>;</td></tr>
<tr><th id="384">384</th><td>  }</td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#251" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_EQImpl( ::tensorflow::internal::GetReferenceableValue(versioned_handles.size()), ::tensorflow::internal::GetReferenceableValue(module_configs.size()), &quot;versioned_handles.size()&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;module_configs.size()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 386) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(), <a class="local col3 ref" href="#63module_configs" title='module_configs' data-ref="63module_configs">module_configs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="387">387</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="74modules" title='modules' data-type='std::vector&lt;std::unique_ptr&lt;HloModule&gt; &gt;' data-ref="74modules">modules</dfn>;</td></tr>
<tr><th id="388">388</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col5 decl" id="75i" title='i' data-type='int64' data-ref="75i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#75i" title='i' data-ref="75i">i</a> &lt; <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col5 ref" href="#75i" title='i' data-ref="75i">i</a>) {</td></tr>
<tr><th id="389">389</th><td>    <em>const</em> <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&amp; <dfn class="local col6 decl" id="76versioned_handle" title='versioned_handle' data-type='const xla::VersionedComputationHandle &amp;' data-ref="76versioned_handle">versioned_handle</dfn> = <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col5 ref" href="#75i" title='i' data-ref="75i">i</a>]</a>;</td></tr>
<tr><th id="390">390</th><td>    <em>const</em> <a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&amp; <dfn class="local col7 decl" id="77config" title='config' data-type='const xla::HloModuleConfig &amp;' data-ref="77config">config</dfn> = <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col3 ref" href="#63module_configs" title='module_configs' data-ref="63module_configs">module_configs</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col5 ref" href="#75i" title='i' data-ref="75i">i</a>]</a>;</td></tr>
<tr><th id="391">391</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value13 = (computation_tracker_.BuildHloModule( versioned_handle, config, true)); if ((__builtin_expect(!_status_or_value13.ok(), 0))) { return _status_or_value13.status(); } auto module = std::move(_status_or_value13.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col8 decl" id="78module" title='module' data-type='std::unique_ptr&lt;xla::HloModule, std::default_delete&lt;xla::HloModule&gt; &gt;' data-ref="78module">module</dfn>,</td></tr>
<tr><th id="392">392</th><td>                        <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb" title='xla::ComputationTracker::BuildHloModule' data-ref="_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb">BuildHloModule</a>(</td></tr>
<tr><th id="393">393</th><td>                            <a class="local col6 ref" href="#76versioned_handle" title='versioned_handle' data-ref="76versioned_handle">versioned_handle</a>, <a class="local col7 ref" href="#77config" title='config' data-ref="77config">config</a>,</td></tr>
<tr><th id="394">394</th><td>                            <i>/*include_unreachable_instructions=*/</i><b>true</b>));</td></tr>
<tr><th id="395">395</th><td>    <a class="local col4 ref" href="#74modules" title='modules' data-ref="74modules">modules</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col8 ref" href="#391" title='module' data-ref="78module">module</a></span>));</td></tr>
<tr><th id="396">396</th><td>  }</td></tr>
<tr><th id="397">397</th><td></td></tr>
<tr><th id="398">398</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value15 = (backend-&gt;compiler()-&gt;Compile(std::move(modules), std::move(executors), device_allocator)); if ((__builtin_expect(!_status_or_value15.ok(), 0))) { return _status_or_value15.status(); } std::vector&lt;std::unique_ptr&lt;Executable&gt;&gt; executables = std::move(_status_or_value15.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="399">399</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <dfn class="local col9 decl" id="79executables" title='executables' data-type='std::vector&lt;std::unique_ptr&lt;Executable&gt; &gt;' data-ref="79executables">executables</dfn>,</td></tr>
<tr><th id="400">400</th><td>      <a class="local col4 ref" href="#64backend" title='backend' data-ref="64backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler7CompileESt6vectorISt10unique_ptrINS_9HloModuleESt14default_deleteIS3_EESaIS6_EES1_IS1_IPN9perftools8gputools14StreamExecutorESaISC_EE24132" title='xla::Compiler::Compile' data-ref="_ZN3xla8Compiler7CompileESt6vectorISt10unique_ptrINS_9HloModuleESt14default_deleteIS3_EESaIS6_EES1_IS1_IPN9perftools8gputools14StreamExecutorESaISC_EE24132">Compile</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col4 ref" href="#74modules" title='modules' data-ref="74modules">modules</a></span>), <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col5 ref" href="#65executors" title='executors' data-ref="65executors">executors</a></span>),</td></tr>
<tr><th id="401">401</th><td>                                   <a class="local col6 ref" href="#66device_allocator" title='device_allocator' data-ref="66device_allocator">device_allocator</a>));</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col0 decl" id="80i" title='i' data-type='size_t' data-ref="80i">i</dfn> = <var>0</var>; <a class="local col0 ref" href="#80i" title='i' data-ref="80i">i</a> &lt; <a class="local col2 ref" href="#62versioned_handles" title='versioned_handles' data-ref="62versioned_handles">versioned_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col0 ref" href="#80i" title='i' data-ref="80i">i</a>) {</td></tr>
<tr><th id="404">404</th><td>    <b>if</b> (!<a class="local col3 ref" href="#63module_configs" title='module_configs' data-ref="63module_configs">module_configs</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col0 ref" href="#80i" title='i' data-ref="80i">i</a>]</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions22xla_dump_executions_toEv" title='xla::DebugOptions::xla_dump_executions_to' data-ref="_ZNK3xla12DebugOptions22xla_dump_executions_toEv">xla_dump_executions_to</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="405">405</th><td>      <a class="local col9 ref" href="#398" title='executables' data-ref="79executables">executables</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col0 ref" href="#80i" title='i' data-ref="80i">i</a>]</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZN3xla10Executable18set_session_moduleESt10unique_ptrINS_13SessionModuleESt14default_deleteIS2_EE" title='xla::Executable::set_session_module' data-ref="_ZN3xla10Executable18set_session_moduleESt10unique_ptrINS_13SessionModuleESt14default_deleteIS2_EE">set_session_module</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col7 ref" href="#67session_modules" title='session_modules' data-ref="67session_modules">session_modules</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col0 ref" href="#80i" title='i' data-ref="80i">i</a>]</a></span>));</td></tr>
<tr><th id="406">406</th><td>    }</td></tr>
<tr><th id="407">407</th><td>  }</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col9 ref" href="#398" title='executables' data-ref="79executables">executables</a></span>);</td></tr>
<tr><th id="410">410</th><td>}</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service16BuildExecutablesERKSt6vectorIPKNS_14HloModuleProtoESaIS4_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteISA_EESaISD_EEPN5384957" title='xla::Service::BuildExecutables' data-ref="_ZN3xla7Service16BuildExecutablesERKSt6vectorIPKNS_14HloModuleProtoESaIS4_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteISA_EESaISD_EEPN5384957">BuildExecutables</dfn>(</td></tr>
<tr><th id="413">413</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="hlo.pb.h.html#xla::HloModuleProto" title='xla::HloModuleProto' data-ref="xla::HloModuleProto">HloModuleProto</a>*&gt;&amp; <dfn class="local col1 decl" id="81module_protos" title='module_protos' data-type='const std::vector&lt;const HloModuleProto *&gt; &amp;' data-ref="81module_protos">module_protos</dfn>,</td></tr>
<tr><th id="414">414</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <dfn class="local col2 decl" id="82module_configs" title='module_configs' data-type='std::vector&lt;std::unique_ptr&lt;HloModuleConfig&gt; &gt;' data-ref="82module_configs">module_configs</dfn>,</td></tr>
<tr><th id="415">415</th><td>    <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col3 decl" id="83backend" title='backend' data-type='xla::Backend *' data-ref="83backend">backend</dfn>,</td></tr>
<tr><th id="416">416</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt; <dfn class="local col4 decl" id="84executors" title='executors' data-type='std::vector&lt;std::vector&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="84executors">executors</dfn>,</td></tr>
<tr><th id="417">417</th><td>    <a class="type" href="device_memory_allocator.h.html#xla::DeviceMemoryAllocator" title='xla::DeviceMemoryAllocator' data-ref="xla::DeviceMemoryAllocator">DeviceMemoryAllocator</a>* <dfn class="local col5 decl" id="85device_allocator" title='device_allocator' data-type='xla::DeviceMemoryAllocator *' data-ref="85device_allocator">device_allocator</dfn>) {</td></tr>
<tr><th id="418">418</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 418, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"BuildExecutable on service %p"</q>, <b>this</b>);</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 420, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"Computations:"</q>;</td></tr>
<tr><th id="421">421</th><td>  <b>for</b> (<em>const</em> <a class="type" href="hlo.pb.h.html#xla::HloModuleProto" title='xla::HloModuleProto' data-ref="xla::HloModuleProto">HloModuleProto</a>* <dfn class="local col6 decl" id="86proto" title='proto' data-type='const xla::HloModuleProto *' data-ref="86proto">proto</dfn> : <a class="local col1 ref" href="#81module_protos" title='module_protos' data-ref="81module_protos">module_protos</a>) {</td></tr>
<tr><th id="422">422</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 422, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="local col6 ref" href="#86proto" title='proto' data-ref="86proto">proto</a>-&gt;<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto4nameEv" title='xla::HloModuleProto::name' data-ref="_ZNK3xla14HloModuleProto4nameEv">name</a>();</td></tr>
<tr><th id="423">423</th><td>  }</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#251" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_EQImpl( ::tensorflow::internal::GetReferenceableValue(module_protos.size()), ::tensorflow::internal::GetReferenceableValue(module_configs.size()), &quot;module_protos.size()&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;module_configs.size()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 425) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="local col1 ref" href="#81module_protos" title='module_protos' data-ref="81module_protos">module_protos</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(), <a class="local col2 ref" href="#82module_configs" title='module_configs' data-ref="82module_configs">module_configs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="426">426</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col7 decl" id="87modules" title='modules' data-type='std::vector&lt;std::unique_ptr&lt;HloModule&gt; &gt;' data-ref="87modules">modules</dfn>;</td></tr>
<tr><th id="427">427</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="88i" title='i' data-type='int64' data-ref="88i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#88i" title='i' data-ref="88i">i</a> &lt; <a class="local col1 ref" href="#81module_protos" title='module_protos' data-ref="81module_protos">module_protos</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col8 ref" href="#88i" title='i' data-ref="88i">i</a>) {</td></tr>
<tr><th id="428">428</th><td>    <em>const</em> <a class="type" href="hlo.pb.h.html#xla::HloModuleProto" title='xla::HloModuleProto' data-ref="xla::HloModuleProto">HloModuleProto</a>* <dfn class="local col9 decl" id="89proto" title='proto' data-type='const xla::HloModuleProto *' data-ref="89proto">proto</dfn> = <a class="local col1 ref" href="#81module_protos" title='module_protos' data-ref="81module_protos">module_protos</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col8 ref" href="#88i" title='i' data-ref="88i">i</a>]</a>;</td></tr>
<tr><th id="429">429</th><td>    <em>const</em> <a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&amp; <dfn class="local col0 decl" id="90config" title='config' data-type='const xla::HloModuleConfig &amp;' data-ref="90config">config</dfn> = <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col2 ref" href="#82module_configs" title='module_configs' data-ref="82module_configs">module_configs</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#88i" title='i' data-ref="88i">i</a>]</a>;</td></tr>
<tr><th id="430">430</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value17 = (HloModule::CreateFromProto(*proto, config)); if ((__builtin_expect(!_status_or_value17.ok(), 0))) { return _status_or_value17.status(); } auto module = std::move(_status_or_value17.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col1 decl" id="91module" title='module' data-type='std::unique_ptr&lt;xla::HloModule, std::default_delete&lt;xla::HloModule&gt; &gt;' data-ref="91module">module</dfn>,</td></tr>
<tr><th id="431">431</th><td>                        <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>::<a class="ref" href="hlo_module.h.html#_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE" title='xla::HloModule::CreateFromProto' data-ref="_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE">CreateFromProto</a>(*<a class="local col9 ref" href="#89proto" title='proto' data-ref="89proto">proto</a>, <a class="local col0 ref" href="#90config" title='config' data-ref="90config">config</a>));</td></tr>
<tr><th id="432">432</th><td>    <a class="local col7 ref" href="#87modules" title='modules' data-ref="87modules">modules</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#430" title='module' data-ref="91module">module</a></span>));</td></tr>
<tr><th id="433">433</th><td>  }</td></tr>
<tr><th id="434">434</th><td></td></tr>
<tr><th id="435">435</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value19 = (backend-&gt;compiler()-&gt;Compile(std::move(modules), std::move(executors), device_allocator)); if ((__builtin_expect(!_status_or_value19.ok(), 0))) { return _status_or_value19.status(); } std::vector&lt;std::unique_ptr&lt;Executable&gt;&gt; executables = std::move(_status_or_value19.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="436">436</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <dfn class="local col2 decl" id="92executables" title='executables' data-type='std::vector&lt;std::unique_ptr&lt;Executable&gt; &gt;' data-ref="92executables">executables</dfn>,</td></tr>
<tr><th id="437">437</th><td>      <a class="local col3 ref" href="#83backend" title='backend' data-ref="83backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler7CompileESt6vectorISt10unique_ptrINS_9HloModuleESt14default_deleteIS3_EESaIS6_EES1_IS1_IPN9perftools8gputools14StreamExecutorESaISC_EE24132" title='xla::Compiler::Compile' data-ref="_ZN3xla8Compiler7CompileESt6vectorISt10unique_ptrINS_9HloModuleESt14default_deleteIS3_EESaIS6_EES1_IS1_IPN9perftools8gputools14StreamExecutorESaISC_EE24132">Compile</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col7 ref" href="#87modules" title='modules' data-ref="87modules">modules</a></span>), <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col4 ref" href="#84executors" title='executors' data-ref="84executors">executors</a></span>),</td></tr>
<tr><th id="438">438</th><td>                                   <a class="local col5 ref" href="#85device_allocator" title='device_allocator' data-ref="85device_allocator">device_allocator</a>));</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col2 ref" href="#435" title='executables' data-ref="92executables">executables</a></span>);</td></tr>
<tr><th id="441">441</th><td>}</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service15BuildExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftoo7048551" title='xla::Service::BuildExecutable' data-ref="_ZN3xla7Service15BuildExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftoo7048551">BuildExecutable</dfn>(</td></tr>
<tr><th id="444">444</th><td>    <em>const</em> <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&amp; <dfn class="local col3 decl" id="93versioned_handle" title='versioned_handle' data-type='const xla::VersionedComputationHandle &amp;' data-ref="93versioned_handle">versioned_handle</dfn>,</td></tr>
<tr><th id="445">445</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col4 decl" id="94module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="94module_config">module_config</dfn>, <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col5 decl" id="95backend" title='backend' data-type='xla::Backend *' data-ref="95backend">backend</dfn>,</td></tr>
<tr><th id="446">446</th><td>    <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col6 decl" id="96executor" title='executor' data-type='se::StreamExecutor *' data-ref="96executor">executor</dfn>, <a class="type" href="device_memory_allocator.h.html#xla::DeviceMemoryAllocator" title='xla::DeviceMemoryAllocator' data-ref="xla::DeviceMemoryAllocator">DeviceMemoryAllocator</a>* <dfn class="local col7 decl" id="97device_allocator" title='device_allocator' data-type='xla::DeviceMemoryAllocator *' data-ref="97device_allocator">device_allocator</dfn>) {</td></tr>
<tr><th id="447">447</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 447, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"BuildExecutable on service %p with handle %s"</q>, <b>this</b>,</td></tr>
<tr><th id="448">448</th><td>                    <a class="local col3 ref" href="#93versioned_handle" title='versioned_handle' data-ref="93versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#_ZNK3xla26VersionedComputationHandle8ToStringEv" title='xla::VersionedComputationHandle::ToString' data-ref="_ZNK3xla26VersionedComputationHandle8ToStringEv">ToString</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td>  <i>// Dump computation proto state if flag is set.</i></td></tr>
<tr><th id="451">451</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1Ev" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1Ev"></a><dfn class="local col8 decl" id="98session_module" title='session_module' data-type='std::unique_ptr&lt;SessionModule&gt;' data-ref="98session_module">session_module</dfn>;</td></tr>
<tr><th id="452">452</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col9 decl" id="99directory_path" title='directory_path' data-type='const string &amp;' data-ref="99directory_path">directory_path</dfn> =</td></tr>
<tr><th id="453">453</th><td>      <a class="local col4 ref" href="#94module_config" title='module_config' data-ref="94module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions24xla_dump_computations_toEv" title='xla::DebugOptions::xla_dump_computations_to' data-ref="_ZNK3xla12DebugOptions24xla_dump_computations_toEv">xla_dump_computations_to</a>();</td></tr>
<tr><th id="454">454</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col0 decl" id="100other_directory_path" title='other_directory_path' data-type='const string &amp;' data-ref="100other_directory_path">other_directory_path</dfn> =</td></tr>
<tr><th id="455">455</th><td>      <a class="local col4 ref" href="#94module_config" title='module_config' data-ref="94module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions22xla_dump_executions_toEv" title='xla::DebugOptions::xla_dump_executions_to' data-ref="_ZNK3xla12DebugOptions22xla_dump_executions_toEv">xla_dump_executions_to</a>();</td></tr>
<tr><th id="456">456</th><td>  <b>if</b> (!<a class="local col9 ref" href="#99directory_path" title='directory_path' data-ref="99directory_path">directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>() || !<a class="local col0 ref" href="#100other_directory_path" title='other_directory_path' data-ref="100other_directory_path">other_directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="457">457</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value21 = (computation_tracker_.SnapshotComputation(versioned_handle.handle)); if ((__builtin_expect(!_status_or_value21.ok(), 0))) { return _status_or_value21.status(); } session_module = std::move(_status_or_value21.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="458">458</th><td>        <a class="local col8 ref" href="#98session_module" title='session_module' data-ref="98session_module">session_module</a>,</td></tr>
<tr><th id="459">459</th><td>        <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE" title='xla::ComputationTracker::SnapshotComputation' data-ref="_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE">SnapshotComputation</a>(<a class="local col3 ref" href="#93versioned_handle" title='versioned_handle' data-ref="93versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::handle" title='xla::VersionedComputationHandle::handle' data-ref="xla::VersionedComputationHandle::handle">handle</a>));</td></tr>
<tr><th id="460">460</th><td>    <b>if</b> (!<a class="local col9 ref" href="#99directory_path" title='directory_path' data-ref="99directory_path">directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="461">461</th><td>      <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col1 decl" id="101filename" title='filename' data-type='string' data-ref="101filename">filename</dfn> = <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(<q>"computation_%lld__%s__version_%lld"</q>,</td></tr>
<tr><th id="462">462</th><td>                               <a class="local col3 ref" href="#93versioned_handle" title='versioned_handle' data-ref="93versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::handle" title='xla::VersionedComputationHandle::handle' data-ref="xla::VersionedComputationHandle::handle">handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla17ComputationHandle6handleEv" title='xla::ComputationHandle::handle' data-ref="_ZNK3xla17ComputationHandle6handleEv">handle</a>(),</td></tr>
<tr><th id="463">463</th><td>                               <a class="local col8 ref" href="#98session_module" title='session_module' data-ref="98session_module">session_module</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="session.pb.h.html#_ZNK3xla13SessionModule5entryEv" title='xla::SessionModule::entry' data-ref="_ZNK3xla13SessionModule5entryEv">entry</a>().<a class="ref" href="session.pb.h.html#_ZNK3xla18SessionComputation4nameEv" title='xla::SessionComputation::name' data-ref="_ZNK3xla18SessionComputation4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>(),</td></tr>
<tr><th id="464">464</th><td>                               <a class="local col3 ref" href="#93versioned_handle" title='versioned_handle' data-ref="93versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>);</td></tr>
<tr><th id="465">465</th><td>      <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (Executable::DumpToDirectory(directory_path, filename, *session_module)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>::<a class="ref" href="executable.h.html#_ZN3xla10Executable15DumpToDirectoryERKSsSsRKNS_13SessionModuleE" title='xla::Executable::DumpToDirectory' data-ref="_ZN3xla10Executable15DumpToDirectoryERKSsSsRKNS_13SessionModuleE">DumpToDirectory</a>(<a class="local col9 ref" href="#99directory_path" title='directory_path' data-ref="99directory_path">directory_path</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1ERKSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1ERKSbIT_T0_T1_E"></a><a class="local col1 ref" href="#101filename" title='filename' data-ref="101filename">filename</a>,</td></tr>
<tr><th id="466">466</th><td>                                                     <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col8 ref" href="#98session_module" title='session_module' data-ref="98session_module">session_module</a>));</td></tr>
<tr><th id="467">467</th><td>    }</td></tr>
<tr><th id="468">468</th><td>  }</td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value23 = (computation_tracker_.BuildHloModule(versioned_handle, *module_config, true)); if ((__builtin_expect(!_status_or_value23.ok(), 0))) { return _status_or_value23.status(); } std::unique_ptr&lt;HloModule&gt; module = std::move(_status_or_value23.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="471">471</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt; <dfn class="local col2 decl" id="102module" title='module' data-type='std::unique_ptr&lt;HloModule&gt;' data-ref="102module">module</dfn>,</td></tr>
<tr><th id="472">472</th><td>      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb" title='xla::ComputationTracker::BuildHloModule' data-ref="_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb">BuildHloModule</a>(<a class="local col3 ref" href="#93versioned_handle" title='versioned_handle' data-ref="93versioned_handle">versioned_handle</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col4 ref" href="#94module_config" title='module_config' data-ref="94module_config">module_config</a>,</td></tr>
<tr><th id="473">473</th><td>                                          <i>/*include_unreachable_instructions=*/</i></td></tr>
<tr><th id="474">474</th><td>                                          <b>true</b>));</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (MaybeDumpHloModule(*module)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="member" href="#_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE" title='xla::Service::MaybeDumpHloModule' data-ref="_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE">MaybeDumpHloModule</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col2 ref" href="#470" title='module' data-ref="102module">module</a>));</td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value25 = (backend-&gt;compiler()-&gt;RunHloPasses(std::move(module), executor, device_allocator)); if ((__builtin_expect(!_status_or_value25.ok(), 0))) { return _status_or_value25.status(); } module = std::move(_status_or_value25.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="479">479</th><td>      <a class="local col2 ref" href="#470" title='module' data-ref="102module">module</a>, <a class="local col5 ref" href="#95backend" title='backend' data-ref="95backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler12RunHloPassesESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE" title='xla::Compiler::RunHloPasses' data-ref="_ZN3xla8Compiler12RunHloPassesESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE">RunHloPasses</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col2 ref" href="#470" title='module' data-ref="102module">module</a></span>), <a class="local col6 ref" href="#96executor" title='executor' data-ref="96executor">executor</a>,</td></tr>
<tr><th id="480">480</th><td>                                                <a class="local col7 ref" href="#97device_allocator" title='device_allocator' data-ref="97device_allocator">device_allocator</a>));</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value27 = (backend-&gt;compiler()-&gt;RunBackend( std::move(module), executor, device_allocator)); if ((__builtin_expect(!_status_or_value27.ok(), 0))) { return _status_or_value27.status(); } std::unique_ptr&lt;Executable&gt; executable = std::move(_status_or_value27.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col3 decl" id="103executable" title='executable' data-type='std::unique_ptr&lt;Executable&gt;' data-ref="103executable">executable</dfn>,</td></tr>
<tr><th id="483">483</th><td>                      <a class="local col5 ref" href="#95backend" title='backend' data-ref="95backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler10RunBackendESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE" title='xla::Compiler::RunBackend' data-ref="_ZN3xla8Compiler10RunBackendESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE">RunBackend</a>(</td></tr>
<tr><th id="484">484</th><td>                          <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col2 ref" href="#470" title='module' data-ref="102module">module</a></span>), <a class="local col6 ref" href="#96executor" title='executor' data-ref="96executor">executor</a>, <a class="local col7 ref" href="#97device_allocator" title='device_allocator' data-ref="97device_allocator">device_allocator</a>));</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>  <b>if</b> (!<a class="local col0 ref" href="#100other_directory_path" title='other_directory_path' data-ref="100other_directory_path">other_directory_path</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="487">487</th><td>    <a class="local col3 ref" href="#482" title='executable' data-ref="103executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZN3xla10Executable18set_session_moduleESt10unique_ptrINS_13SessionModuleESt14default_deleteIS2_EE" title='xla::Executable::set_session_module' data-ref="_ZN3xla10Executable18set_session_moduleESt10unique_ptrINS_13SessionModuleESt14default_deleteIS2_EE">set_session_module</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col8 ref" href="#98session_module" title='session_module' data-ref="98session_module">session_module</a></span>));</td></tr>
<tr><th id="488">488</th><td>  }</td></tr>
<tr><th id="489">489</th><td></td></tr>
<tr><th id="490">490</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#482" title='executable' data-ref="103executable">executable</a></span>);</td></tr>
<tr><th id="491">491</th><td>}</td></tr>
<tr><th id="492">492</th><td></td></tr>
<tr><th id="493">493</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019" title='xla::Service::BuildAndCacheExecutable' data-ref="_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019">BuildAndCacheExecutable</dfn>(</td></tr>
<tr><th id="494">494</th><td>    <em>const</em> <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&amp; <dfn class="local col4 decl" id="104versioned_handle" title='versioned_handle' data-type='const xla::VersionedComputationHandle &amp;' data-ref="104versioned_handle">versioned_handle</dfn>,</td></tr>
<tr><th id="495">495</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col5 decl" id="105module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="105module_config">module_config</dfn>, <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col6 decl" id="106backend" title='backend' data-type='xla::Backend *' data-ref="106backend">backend</dfn>,</td></tr>
<tr><th id="496">496</th><td>    <span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col7 decl" id="107executor" title='executor' data-type='perftools::gputools::StreamExecutor *' data-ref="107executor">executor</dfn>, <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a>* <dfn class="local col8 decl" id="108profile" title='profile' data-type='xla::ExecutionProfile *' data-ref="108profile">profile</dfn>,</td></tr>
<tr><th id="497">497</th><td>    <a class="type" href="device_memory_allocator.h.html#xla::DeviceMemoryAllocator" title='xla::DeviceMemoryAllocator' data-ref="xla::DeviceMemoryAllocator">DeviceMemoryAllocator</a>* <dfn class="local col9 decl" id="109device_allocator" title='device_allocator' data-type='xla::DeviceMemoryAllocator *' data-ref="109device_allocator">device_allocator</dfn>) {</td></tr>
<tr><th id="498">498</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col0 decl" id="110executable" title='executable' data-type='std::shared_ptr&lt;Executable&gt;' data-ref="110executable">executable</dfn> =</td></tr>
<tr><th id="499">499</th><td>      <a class="member" href="service.h.html#xla::Service::compilation_cache_" title='xla::Service::compilation_cache_' data-ref="xla::Service::compilation_cache_">compilation_cache_</a>.<a class="ref" href="compilation_cache.h.html#_ZNK3xla16CompilationCache6LookUpERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigE" title='xla::CompilationCache::LookUp' data-ref="_ZNK3xla16CompilationCache6LookUpERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigE">LookUp</a>(<a class="local col4 ref" href="#104versioned_handle" title='versioned_handle' data-ref="104versioned_handle">versioned_handle</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col5 ref" href="#105module_config" title='module_config' data-ref="105module_config">module_config</a>);</td></tr>
<tr><th id="500">500</th><td></td></tr>
<tr><th id="501">501</th><td>  <b>if</b> (<a class="local col0 ref" href="#110executable" title='executable' data-ref="110executable">executable</a> <a class="ref" href="../../../../../include/c++/5/bits/shared_ptr.h.html#_ZStneRKSt10shared_ptrIT_EDn" title='std::operator!=' data-ref="_ZStneRKSt10shared_ptrIT_EDn">!=</a> <b>nullptr</b>) {</td></tr>
<tr><th id="502">502</th><td>    <i>// Executable found in the computation cache.</i></td></tr>
<tr><th id="503">503</th><td>    <b>if</b> (<a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="504">504</th><td>      <a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile25set_compilation_cache_hitEb" title='xla::ExecutionProfile::set_compilation_cache_hit' data-ref="_ZN3xla16ExecutionProfile25set_compilation_cache_hitEb">set_compilation_cache_hit</a>(<b>true</b>);</td></tr>
<tr><th id="505">505</th><td>    }</td></tr>
<tr><th id="506">506</th><td>    <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col0 ref" href="#110executable" title='executable' data-ref="110executable">executable</a>;</td></tr>
<tr><th id="507">507</th><td>  }</td></tr>
<tr><th id="508">508</th><td></td></tr>
<tr><th id="509">509</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint64" title='tensorflow::uint64' data-type='unsigned long long' data-ref="tensorflow::uint64">uint64</a> <dfn class="local col1 decl" id="111start_micros" title='start_micros' data-type='uint64' data-ref="111start_micros">start_micros</dfn> =</td></tr>
<tr><th id="510">510</th><td>      <i>// Avoid reading the clock if we don't want timing info</i></td></tr>
<tr><th id="511">511</th><td>      (<a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a> != <b>nullptr</b>) ? <span class="namespace">tensorflow::</span><a class="type" href="../../../core/platform/env.h.html#tensorflow::Env" title='tensorflow::Env' data-ref="tensorflow::Env">Env</a>::<a class="ref" href="../../../core/platform/env.h.html#_ZN10tensorflow3Env7DefaultEv" title='tensorflow::Env::Default' data-ref="_ZN10tensorflow3Env7DefaultEv">Default</a>()-&gt;<a class="virtual ref" href="../../../core/platform/env.h.html#_ZN10tensorflow3Env9NowMicrosEv" title='tensorflow::Env::NowMicros' data-ref="_ZN10tensorflow3Env9NowMicrosEv">NowMicros</a>() : <var>0</var>;</td></tr>
<tr><th id="512">512</th><td></td></tr>
<tr><th id="513">513</th><td>  <i>// Take a copy of the module config, as compilation introduces layouts where</i></td></tr>
<tr><th id="514">514</th><td><i>  // layouts were optional before.</i></td></tr>
<tr><th id="515">515</th><td>  <a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a> <dfn class="local col2 decl" id="112original_module_config" title='original_module_config' data-type='xla::HloModuleConfig' data-ref="112original_module_config">original_module_config</dfn> = <a class="ref fake" href="hlo_module_config.h.html#34" title='xla::HloModuleConfig::HloModuleConfig' data-ref="_ZN3xla15HloModuleConfigC1ERKS0_"></a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col5 ref" href="#105module_config" title='module_config' data-ref="105module_config">module_config</a>;</td></tr>
<tr><th id="516">516</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value29 = (BuildExecutable(versioned_handle, std::move(module_config), backend, executor, device_allocator)); if ((__builtin_expect(!_status_or_value29.ok(), 0))) { return _status_or_value29.status(); } std::unique_ptr&lt;Executable&gt; executable_unique_ptr = std::move(_status_or_value29.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="517">517</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col3 decl" id="113executable_unique_ptr" title='executable_unique_ptr' data-type='std::unique_ptr&lt;Executable&gt;' data-ref="113executable_unique_ptr">executable_unique_ptr</dfn>,</td></tr>
<tr><th id="518">518</th><td>      <a class="member" href="#_ZN3xla7Service15BuildExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftoo7048551" title='xla::Service::BuildExecutable' data-ref="_ZN3xla7Service15BuildExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftoo7048551">BuildExecutable</a>(<a class="local col4 ref" href="#104versioned_handle" title='versioned_handle' data-ref="104versioned_handle">versioned_handle</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col5 ref" href="#105module_config" title='module_config' data-ref="105module_config">module_config</a></span>), <a class="local col6 ref" href="#106backend" title='backend' data-ref="106backend">backend</a>,</td></tr>
<tr><th id="519">519</th><td>                      <a class="local col7 ref" href="#107executor" title='executor' data-ref="107executor">executor</a>, <a class="local col9 ref" href="#109device_allocator" title='device_allocator' data-ref="109device_allocator">device_allocator</a>));</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>  <b>if</b> (<a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="522">522</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint64" title='tensorflow::uint64' data-type='unsigned long long' data-ref="tensorflow::uint64">uint64</a> <dfn class="local col4 decl" id="114end_micros" title='end_micros' data-type='uint64' data-ref="114end_micros">end_micros</dfn> = <span class="namespace">tensorflow::</span><a class="type" href="../../../core/platform/env.h.html#tensorflow::Env" title='tensorflow::Env' data-ref="tensorflow::Env">Env</a>::<a class="ref" href="../../../core/platform/env.h.html#_ZN10tensorflow3Env7DefaultEv" title='tensorflow::Env::Default' data-ref="_ZN10tensorflow3Env7DefaultEv">Default</a>()-&gt;<a class="virtual ref" href="../../../core/platform/env.h.html#_ZN10tensorflow3Env9NowMicrosEv" title='tensorflow::Env::NowMicros' data-ref="_ZN10tensorflow3Env9NowMicrosEv">NowMicros</a>();</td></tr>
<tr><th id="523">523</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint64" title='tensorflow::uint64' data-type='unsigned long long' data-ref="tensorflow::uint64">uint64</a> <dfn class="local col5 decl" id="115milliseconds" title='milliseconds' data-type='uint64' data-ref="115milliseconds">milliseconds</dfn> = (<a class="local col4 ref" href="#114end_micros" title='end_micros' data-ref="114end_micros">end_micros</a> - <a class="local col1 ref" href="#111start_micros" title='start_micros' data-ref="111start_micros">start_micros</a>) / <var>1000</var>;</td></tr>
<tr><th id="524">524</th><td>    <a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile25set_compilation_cache_hitEb" title='xla::ExecutionProfile::set_compilation_cache_hit' data-ref="_ZN3xla16ExecutionProfile25set_compilation_cache_hitEb">set_compilation_cache_hit</a>(<b>false</b>);</td></tr>
<tr><th id="525">525</th><td>    <a class="local col8 ref" href="#108profile" title='profile' data-ref="108profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile19set_compile_time_msEl" title='xla::ExecutionProfile::set_compile_time_ms' data-ref="_ZN3xla16ExecutionProfile19set_compile_time_msEl">set_compile_time_ms</a>(<a class="local col5 ref" href="#115milliseconds" title='milliseconds' data-ref="115milliseconds">milliseconds</a>);</td></tr>
<tr><th id="526">526</th><td>  }</td></tr>
<tr><th id="527">527</th><td></td></tr>
<tr><th id="528">528</th><td>  <i>// Insert executable into the cache.</i></td></tr>
<tr><th id="529">529</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><a class="member" href="service.h.html#xla::Service::compilation_cache_" title='xla::Service::compilation_cache_' data-ref="xla::Service::compilation_cache_">compilation_cache_</a>.<a class="ref" href="compilation_cache.h.html#_ZN3xla16CompilationCache6InsertESt10unique_ptrINS_10ExecutableESt14default_deleteIS2_EERKNS_15HloModuleConfigE" title='xla::CompilationCache::Insert' data-ref="_ZN3xla16CompilationCache6InsertESt10unique_ptrINS_10ExecutableESt14default_deleteIS2_EERKNS_15HloModuleConfigE">Insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#516" title='executable_unique_ptr' data-ref="113executable_unique_ptr">executable_unique_ptr</a></span>),</td></tr>
<tr><th id="530">530</th><td>                                   <a class="local col2 ref" href="#112original_module_config" title='original_module_config' data-ref="112original_module_config">original_module_config</a>);</td></tr>
<tr><th id="531">531</th><td>}</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt;&gt;</td></tr>
<tr><th id="534">534</th><td><a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253" title='xla::Service::ExecuteParallelAndRegisterResult' data-ref="_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253">ExecuteParallelAndRegisterResult</dfn>(</td></tr>
<tr><th id="535">535</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>*&gt; <dfn class="local col6 decl" id="116executables" title='executables' data-type='tensorflow::gtl::ArraySlice&lt;Executable *&gt;' data-ref="116executables">executables</dfn>,</td></tr>
<tr><th id="536">536</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;&gt;</td></tr>
<tr><th id="537">537</th><td>        <dfn class="local col7 decl" id="117arguments" title='arguments' data-type='tensorflow::gtl::ArraySlice&lt;std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt; &gt;' data-ref="117arguments">arguments</dfn>,</td></tr>
<tr><th id="538">538</th><td>    <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col8 decl" id="118backend" title='backend' data-type='xla::Backend *' data-ref="118backend">backend</dfn>, <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a>&gt; <dfn class="local col9 decl" id="119device_handles" title='device_handles' data-type='tensorflow::gtl::ArraySlice&lt;DeviceHandle&gt;' data-ref="119device_handles">device_handles</dfn>,</td></tr>
<tr><th id="539">539</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&gt; <dfn class="local col0 decl" id="120result_tags" title='result_tags' data-type='tensorflow::gtl::ArraySlice&lt;string&gt;' data-ref="120result_tags">result_tags</dfn>,</td></tr>
<tr><th id="540">540</th><td>    <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a>* <dfn class="local col1 decl" id="121profile" title='profile' data-type='xla::ExecutionProfile *' data-ref="121profile">profile</dfn>) {</td></tr>
<tr><th id="541">541</th><td>  <i>// Streams where the computation are launched, so we can wait on the streams</i></td></tr>
<tr><th id="542">542</th><td><i>  // to complete.</i></td></tr>
<tr><th id="543">543</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col2 decl" id="122streams" title='streams' data-type='std::vector&lt;Pool&lt;se::Stream&gt;::SmartPtr&gt;' data-ref="122streams">streams</dfn>;</td></tr>
<tr><th id="544">544</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/timer.h.html#perftools::gputools::Timer" title='perftools::gputools::Timer' data-ref="perftools::gputools::Timer">Timer</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col3 decl" id="123timers" title='timers' data-type='std::vector&lt;std::unique_ptr&lt;perftools::gputools::Timer&gt; &gt;' data-ref="123timers">timers</dfn>;</td></tr>
<tr><th id="545">545</th><td></td></tr>
<tr><th id="546">546</th><td>  <i>// Global data handles for the computation results, one for each computation.</i></td></tr>
<tr><th id="547">547</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="124result_handles" title='result_handles' data-type='std::vector&lt;GlobalDataHandle&gt;' data-ref="124result_handles">result_handles</dfn>;</td></tr>
<tr><th id="548">548</th><td></td></tr>
<tr><th id="549">549</th><td>  <i>// Device ID to stream executor, populated only with devices that are being</i></td></tr>
<tr><th id="550">550</th><td><i>  // profiled.</i></td></tr>
<tr><th id="551">551</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>, <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_map.h.html#_ZNSt3mapC1Ev" title='std::map::map&lt;_Key, _Tp, _Compare, _Alloc&gt;' data-ref="_ZNSt3mapC1Ev"></a><dfn class="local col5 decl" id="125index_to_profiled_streams" title='index_to_profiled_streams' data-type='std::map&lt;int64, se::Stream *&gt;' data-ref="125index_to_profiled_streams">index_to_profiled_streams</dfn>;</td></tr>
<tr><th id="552">552</th><td></td></tr>
<tr><th id="553">553</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value31 = (backend-&gt;computation_placer()-&gt;AssignDevices( options_.number_of_replicas(), executables.size())); if ((__builtin_expect(!_status_or_value31.ok(), 0))) { return _status_or_value31.status(); } DeviceAssignment device_assignment = std::move(_status_or_value31.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="computation_placer.h.html#xla::DeviceAssignment" title='xla::DeviceAssignment' data-ref="xla::DeviceAssignment">DeviceAssignment</a> <dfn class="local col6 decl" id="126device_assignment" title='device_assignment' data-type='xla::DeviceAssignment' data-ref="126device_assignment">device_assignment</dfn>,</td></tr>
<tr><th id="554">554</th><td>                      <a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend18computation_placerEv" title='xla::Backend::computation_placer' data-ref="_ZNK3xla7Backend18computation_placerEv">computation_placer</a>()-&gt;<a class="virtual ref" href="computation_placer.h.html#_ZN3xla17ComputationPlacer13AssignDevicesEii" title='xla::ComputationPlacer::AssignDevices' data-ref="_ZN3xla17ComputationPlacer13AssignDevicesEii">AssignDevices</a>(</td></tr>
<tr><th id="555">555</th><td>                          <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(), <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>()));</td></tr>
<tr><th id="556">556</th><td></td></tr>
<tr><th id="557">557</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col7 decl" id="127i" title='i' data-type='int64' data-ref="127i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a> &lt; <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a>.<a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySlice4sizeEv" title='tensorflow::gtl::ArraySlice::size' data-ref="_ZNK10tensorflow3gtl10ArraySlice4sizeEv">size</a>(); <a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>++) {</td></tr>
<tr><th id="558">558</th><td>    <i>// Stream executors for the replicas of the current computation.</i></td></tr>
<tr><th id="559">559</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value33 = (Replicas(*backend, device_handles[i])); if ((__builtin_expect(!_status_or_value33.ok(), 0))) { return _status_or_value33.status(); } auto replicas = std::move(_status_or_value33.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col8 decl" id="128replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="128replicas">replicas</dfn>, <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(*<a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>, <a class="local col9 ref" href="#119device_handles" title='device_handles' data-ref="119device_handles">device_handles</a>[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]));</td></tr>
<tr><th id="560">560</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#251" title="while (::tensorflow::internal::CheckOpString _result = ::tensorflow::internal::Check_EQImpl( ::tensorflow::internal::GetReferenceableValue(replicas.size()), ::tensorflow::internal::GetReferenceableValue(arguments[i].size()), &quot;replicas.size()&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;arguments[i].size()&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 560) &lt;&lt; *(_result.str_)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="local col8 ref" href="#559" title='replicas' data-ref="128replicas">replicas</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(), <a class="local col7 ref" href="#117arguments" title='arguments' data-ref="117arguments">arguments</a>[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>].<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="561">561</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col9 decl" id="129result_buffers" title='result_buffers' data-type='std::vector&lt;std::unique_ptr&lt;ShapedBuffer&gt; &gt;' data-ref="129result_buffers">result_buffers</dfn>;</td></tr>
<tr><th id="562">562</th><td>    <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col0 decl" id="130replica" title='replica' data-type='int64' data-ref="130replica">replica</dfn> = <var>0</var>; <a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a> &lt; <a class="local col8 ref" href="#559" title='replicas' data-ref="128replicas">replicas</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a>) {</td></tr>
<tr><th id="563">563</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value35 = (backend-&gt;BorrowStream(replicas[replica])); if ((__builtin_expect(!_status_or_value35.ok(), 0))) { return _status_or_value35.status(); } Pool&lt;se::Stream&gt;::SmartPtr stream = std::move(_status_or_value35.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;se::<a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a> <dfn class="local col1 decl" id="131stream" title='stream' data-type='Pool&lt;se::Stream&gt;::SmartPtr' data-ref="131stream">stream</dfn>,</td></tr>
<tr><th id="564">564</th><td>                          <a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE" title='xla::Backend::BorrowStream' data-ref="_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE">BorrowStream</a>(<a class="local col8 ref" href="#559" title='replicas' data-ref="128replicas">replicas</a>[<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a>]));</td></tr>
<tr><th id="565">565</th><td>      <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#563" title='stream' data-ref="131stream">stream</a></span>));</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td>      <b>if</b> (<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a> == <var>0</var> &amp;&amp; <a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="568">568</th><td>        <a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(</td></tr>
<tr><th id="569">569</th><td>            <b>new</b> <span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/timer.h.html#perftools::gputools::Timer" title='perftools::gputools::Timer' data-ref="perftools::gputools::Timer">Timer</a><a class="ref" href="../../../stream_executor/timer.h.html#_ZN9perftools8gputools5TimerC1EPNS0_14StreamExecutorE" title='perftools::gputools::Timer::Timer' data-ref="_ZN9perftools8gputools5TimerC1EPNS0_14StreamExecutorE">(</a><a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>()<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZNK9perftools8gputools6Stream6parentEv" title='perftools::gputools::Stream::parent' data-ref="_ZNK9perftools8gputools6Stream6parentEv">parent</a>()));</td></tr>
<tr><th id="570">570</th><td>        <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>()</td></tr>
<tr><th id="571">571</th><td>            <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZN9perftools8gputools6Stream9InitTimerEPNS0_5TimerE" title='perftools::gputools::Stream::InitTimer' data-ref="_ZN9perftools8gputools6Stream9InitTimerEPNS0_5TimerE">InitTimer</a>(<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>().<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>())</td></tr>
<tr><th id="572">572</th><td>            .<a class="ref" href="../../../stream_executor/stream.h.html#_ZN9perftools8gputools6Stream14ThenStartTimerEPNS0_5TimerE" title='perftools::gputools::Stream::ThenStartTimer' data-ref="_ZN9perftools8gputools6Stream14ThenStartTimerEPNS0_5TimerE">ThenStartTimer</a>(<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>().<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="573">573</th><td>        <a class="macro" href="../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(timers.front() != nullptr), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 573) &lt;&lt; &quot;Check failed: &quot; &quot;timers.front() != nullptr&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>() <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZStneRKSt10unique_ptrIT_T0_EDn" title='std::operator!=' data-ref="_ZStneRKSt10unique_ptrIT_T0_EDn">!=</a> <b>nullptr</b>);</td></tr>
<tr><th id="574">574</th><td>      }</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td>      <b>if</b> (<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a> == <var>0</var> &amp;&amp;</td></tr>
<tr><th id="577">577</th><td>          <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable13module_configEv" title='xla::Executable::module_config' data-ref="_ZNK3xla10Executable13module_configEv">module_config</a>().<a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions15xla_hlo_profileEv" title='xla::DebugOptions::xla_hlo_profile' data-ref="_ZNK3xla12DebugOptions15xla_hlo_profileEv">xla_hlo_profile</a>() &amp;&amp;</td></tr>
<tr><th id="578">578</th><td>          <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable21hlo_profiling_enabledEv" title='xla::Executable::hlo_profiling_enabled' data-ref="_ZNK3xla10Executable21hlo_profiling_enabledEv">hlo_profiling_enabled</a>()) {</td></tr>
<tr><th id="579">579</th><td>        <a class="local col5 ref" href="#125index_to_profiled_streams" title='index_to_profiled_streams' data-ref="125index_to_profiled_streams">index_to_profiled_streams</a><a class="ref" href="../../../../../include/c++/5/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]</a> = <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>().<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>();</td></tr>
<tr><th id="580">580</th><td>      }</td></tr>
<tr><th id="581">581</th><td></td></tr>
<tr><th id="582">582</th><td>      <i>// Set up run options.</i></td></tr>
<tr><th id="583">583</th><td>      <a class="type" href="../executable_run_options.h.html#xla::ExecutableRunOptions" title='xla::ExecutableRunOptions' data-ref="xla::ExecutableRunOptions">ExecutableRunOptions</a> <a class="ref fake" href="../executable_run_options.h.html#47" title='xla::ExecutableRunOptions::ExecutableRunOptions' data-ref="_ZN3xla20ExecutableRunOptionsC1Ev"></a><dfn class="local col2 decl" id="132options" title='options' data-type='xla::ExecutableRunOptions' data-ref="132options">options</dfn>;</td></tr>
<tr><th id="584">584</th><td>      <a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE" title='xla::ExecutableRunOptions::set_stream' data-ref="_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE">set_stream</a>(<a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>().<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="585">585</th><td>      <a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE" title='xla::ExecutableRunOptions::set_allocator' data-ref="_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE">set_allocator</a>(<a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend16memory_allocatorEv" title='xla::Backend::memory_allocator' data-ref="_ZNK3xla7Backend16memory_allocatorEv">memory_allocator</a>());</td></tr>
<tr><th id="586">586</th><td>      <a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE" title='xla::ExecutableRunOptions::set_inter_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE">set_inter_op_thread_pool</a>(<a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend20inter_op_thread_poolEv" title='xla::Backend::inter_op_thread_pool' data-ref="_ZNK3xla7Backend20inter_op_thread_poolEv">inter_op_thread_pool</a>());</td></tr>
<tr><th id="587">587</th><td>      <a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE" title='xla::ExecutableRunOptions::set_intra_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE">set_intra_op_thread_pool</a>(</td></tr>
<tr><th id="588">588</th><td>          <a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv" title='xla::Backend::eigen_intra_op_thread_pool_device' data-ref="_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv">eigen_intra_op_thread_pool_device</a>());</td></tr>
<tr><th id="589">589</th><td>      <a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions21set_device_assignmentEPNS_16DeviceAssignmentE" title='xla::ExecutableRunOptions::set_device_assignment' data-ref="_ZN3xla20ExecutableRunOptions21set_device_assignmentEPNS_16DeviceAssignmentE">set_device_assignment</a>(&amp;<a class="local col6 ref" href="#553" title='device_assignment' data-ref="126device_assignment">device_assignment</a>);</td></tr>
<tr><th id="590">590</th><td>      <a class="type" href="service_executable_run_options.h.html#xla::ServiceExecutableRunOptions" title='xla::ServiceExecutableRunOptions' data-ref="xla::ServiceExecutableRunOptions">ServiceExecutableRunOptions</a> <dfn class="local col3 decl" id="133run_options" title='run_options' data-type='xla::ServiceExecutableRunOptions' data-ref="133run_options">run_options</dfn><a class="ref" href="service_executable_run_options.h.html#_ZN3xla27ServiceExecutableRunOptionsC1ENS_20ExecutableRunOptionsESt8functionIFNS_8StatusOrISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7De14859135" title='xla::ServiceExecutableRunOptions::ServiceExecutableRunOptions' data-ref="_ZN3xla27ServiceExecutableRunOptionsC1ENS_20ExecutableRunOptionsESt8functionIFNS_8StatusOrISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7De14859135">(</a><a class="ref fake" href="../executable_run_options.h.html#47" title='xla::ExecutableRunOptions::ExecutableRunOptions' data-ref="_ZN3xla20ExecutableRunOptionsC1ERKS0_"></a><a class="local col2 ref" href="#132options" title='options' data-ref="132options">options</a>,</td></tr>
<tr><th id="591">591</th><td>                                              <a class="local col8 ref" href="#118backend" title='backend' data-ref="118backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZN3xla7Backend14StreamBorrowerEv" title='xla::Backend::StreamBorrower' data-ref="_ZN3xla7Backend14StreamBorrowerEv">StreamBorrower</a>());</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td>      <i>// Asynchronously launch the computation.</i></td></tr>
<tr><th id="594">594</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value37 = (executables[i]-&gt;ExecuteAsyncOnStream( &amp;run_options, arguments[i][replica])); if ((__builtin_expect(!_status_or_value37.ok(), 0))) { return _status_or_value37.status(); } std::unique_ptr&lt;ShapedBuffer&gt; result = std::move(_status_or_value37.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt; <dfn class="local col4 decl" id="134result" title='result' data-type='std::unique_ptr&lt;ShapedBuffer&gt;' data-ref="134result">result</dfn>,</td></tr>
<tr><th id="595">595</th><td>                          <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a>[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]-&gt;<a class="virtual ref" href="executable.h.html#_ZN3xla10Executable20ExecuteAsyncOnStreamEPKNS_27ServiceExecutableRunOptionsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE" title='xla::Executable::ExecuteAsyncOnStream' data-ref="_ZN3xla10Executable20ExecuteAsyncOnStreamEPKNS_27ServiceExecutableRunOptionsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE">ExecuteAsyncOnStream</a>(</td></tr>
<tr><th id="596">596</th><td>                              &amp;<a class="local col3 ref" href="#133run_options" title='run_options' data-ref="133run_options">run_options</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#117arguments" title='arguments' data-ref="117arguments">arguments</a>[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>][<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a>]));</td></tr>
<tr><th id="597">597</th><td></td></tr>
<tr><th id="598">598</th><td>      <b>if</b> (<a class="local col0 ref" href="#130replica" title='replica' data-ref="130replica">replica</a> == <var>0</var> &amp;&amp; <a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="599">599</th><td>        <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>()<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZN9perftools8gputools6Stream13ThenStopTimerEPNS0_5TimerE" title='perftools::gputools::Stream::ThenStopTimer' data-ref="_ZN9perftools8gputools6Stream13ThenStopTimerEPNS0_5TimerE">ThenStopTimer</a>(<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector4backEv" title='std::vector::back' data-ref="_ZNSt6vector4backEv">back</a>().<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="600">600</th><td>      }</td></tr>
<tr><th id="601">601</th><td></td></tr>
<tr><th id="602">602</th><td>      <a class="local col9 ref" href="#129result_buffers" title='result_buffers' data-ref="129result_buffers">result_buffers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col4 ref" href="#594" title='result' data-ref="134result">result</a></span>));</td></tr>
<tr><th id="603">603</th><td>    }</td></tr>
<tr><th id="604">604</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value39 = (allocation_tracker_.RegisterReplicatedBuffers( std::move(result_buffers), result_tags[i])); if ((__builtin_expect(!_status_or_value39.ok(), 0))) { return _status_or_value39.status(); } GlobalDataHandle handle = std::move(_status_or_value39.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a> <dfn class="local col5 decl" id="135handle" title='handle' data-type='xla::GlobalDataHandle' data-ref="135handle">handle</dfn>,</td></tr>
<tr><th id="605">605</th><td>                        <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs" title='xla::AllocationTracker::RegisterReplicatedBuffers' data-ref="_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs">RegisterReplicatedBuffers</a>(</td></tr>
<tr><th id="606">606</th><td>                            <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col9 ref" href="#129result_buffers" title='result_buffers' data-ref="129result_buffers">result_buffers</a></span>), <a class="local col0 ref" href="#120result_tags" title='result_tags' data-ref="120result_tags">result_tags</a>[<a class="local col7 ref" href="#127i" title='i' data-ref="127i">i</a>]));</td></tr>
<tr><th id="607">607</th><td>    <a class="local col4 ref" href="#124result_handles" title='result_handles' data-ref="124result_handles">result_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col5 ref" href="#604" title='handle' data-ref="135handle">handle</a>);</td></tr>
<tr><th id="608">608</th><td>  }</td></tr>
<tr><th id="609">609</th><td></td></tr>
<tr><th id="610">610</th><td>  <i>// Wait for all executions to complete.</i></td></tr>
<tr><th id="611">611</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col6 decl" id="136i" title='i' data-type='int64' data-ref="136i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a> &lt; <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>) {</td></tr>
<tr><th id="612">612</th><td>    <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <dfn class="local col7 decl" id="137block_status" title='block_status' data-type='tensorflow::Status' data-ref="137block_status">block_status</dfn> = <a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>]</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZN9perftools8gputools6Stream18BlockHostUntilDoneEv" title='perftools::gputools::Stream::BlockHostUntilDone' data-ref="_ZN9perftools8gputools6Stream18BlockHostUntilDoneEv">BlockHostUntilDone</a>();</td></tr>
<tr><th id="613">613</th><td>    <b>if</b> (!<a class="local col7 ref" href="#137block_status" title='block_status' data-ref="137block_status">block_status</a>.<a class="ref" href="../../../core/lib/core/status.h.html#_ZNK10tensorflow6Status2okEv" title='tensorflow::Status::ok' data-ref="_ZNK10tensorflow6Status2okEv">ok</a>()) {</td></tr>
<tr><th id="614">614</th><td>      <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla13InternalErrorEPKcz" title='xla::InternalError' data-ref="_ZN3xla13InternalErrorEPKcz">InternalError</a>(<q>"failed to complete execution for stream %lld: %s"</q>,</td></tr>
<tr><th id="615">615</th><td>                           <a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>, <a class="local col7 ref" href="#137block_status" title='block_status' data-ref="137block_status">block_status</a>.<a class="ref" href="../../../core/lib/core/status.h.html#_ZNK10tensorflow6Status13error_messageEv" title='tensorflow::Status::error_message' data-ref="_ZNK10tensorflow6Status13error_messageEv">error_message</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="616">616</th><td>    }</td></tr>
<tr><th id="617">617</th><td>  }</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td>  <i>// For every stream that had profiling enabled, obtain and debug-dump the HLO</i></td></tr>
<tr><th id="620">620</th><td><i>  // profile.</i></td></tr>
<tr><th id="621">621</th><td>  <b>for</b> (<em>auto</em>&amp; <dfn class="local col8 decl" id="138index_to_profiled_stream" title='index_to_profiled_stream' data-type='std::pair&lt;const long long, perftools::gputools::Stream *&gt; &amp;' data-ref="138index_to_profiled_stream">index_to_profiled_stream</dfn> : <a class="local col5 ref" href="#125index_to_profiled_streams" title='index_to_profiled_streams' data-ref="125index_to_profiled_streams">index_to_profiled_streams</a>) {</td></tr>
<tr><th id="622">622</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col9 decl" id="139device" title='device' data-type='int64' data-ref="139device">device</dfn> = <a class="local col8 ref" href="#138index_to_profiled_stream" title='index_to_profiled_stream' data-ref="138index_to_profiled_stream">index_to_profiled_stream</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;const long long, perftools::gputools::Stream *&gt;::first' data-ref="std::pair::first">first</a>;</td></tr>
<tr><th id="623">623</th><td>    <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>* <dfn class="local col0 decl" id="140stream" title='stream' data-type='se::Stream *' data-ref="140stream">stream</dfn> = <a class="local col8 ref" href="#138index_to_profiled_stream" title='index_to_profiled_stream' data-ref="138index_to_profiled_stream">index_to_profiled_stream</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair::second" title='std::pair&lt;const long long, perftools::gputools::Stream *&gt;::second' data-ref="std::pair::second">second</a>;</td></tr>
<tr><th id="624">624</th><td>    <a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>* <dfn class="local col1 decl" id="141executable" title='executable' data-type='xla::Executable *' data-ref="141executable">executable</dfn> = <a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<a class="local col9 ref" href="#139device" title='device' data-ref="139device">device</a>]</a>;</td></tr>
<tr><th id="625">625</th><td>    <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&amp; <dfn class="local col2 decl" id="142module" title='module' data-type='const xla::HloModule &amp;' data-ref="142module">module</dfn> = <a class="local col1 ref" href="#141executable" title='executable' data-ref="141executable">executable</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable6moduleEv" title='xla::Executable::module' data-ref="_ZNK3xla10Executable6moduleEv">module</a>();</td></tr>
<tr><th id="626">626</th><td>    <a class="type" href="hlo_execution_profile.h.html#xla::HloExecutionProfile" title='xla::HloExecutionProfile' data-ref="xla::HloExecutionProfile">HloExecutionProfile</a> <dfn class="local col3 decl" id="143hlo_profile" title='hlo_profile' data-type='xla::HloExecutionProfile' data-ref="143hlo_profile">hlo_profile</dfn><a class="ref" href="hlo_execution_profile.h.html#_ZN3xla19HloExecutionProfileC1EPKNS_21HloProfilePrinterDataEPKNS_18HloProfileIndexMapE" title='xla::HloExecutionProfile::HloExecutionProfile' data-ref="_ZN3xla19HloExecutionProfileC1EPKNS_21HloProfilePrinterDataEPKNS_18HloProfileIndexMapE">(</a>&amp;<a class="local col1 ref" href="#141executable" title='executable' data-ref="141executable">executable</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable24hlo_profile_printer_dataEv" title='xla::Executable::hlo_profile_printer_data' data-ref="_ZNK3xla10Executable24hlo_profile_printer_dataEv">hlo_profile_printer_data</a>(),</td></tr>
<tr><th id="627">627</th><td>                                    &amp;<a class="local col1 ref" href="#141executable" title='executable' data-ref="141executable">executable</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable21hlo_profile_index_mapEv" title='xla::Executable::hlo_profile_index_map' data-ref="_ZNK3xla10Executable21hlo_profile_index_mapEv">hlo_profile_index_map</a>());</td></tr>
<tr><th id="628">628</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (executable-&gt;PopulateExecutionProfile(&amp;hlo_profile, stream-&gt;parent())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="629">629</th><td>        <a class="local col1 ref" href="#141executable" title='executable' data-ref="141executable">executable</a>-&gt;<a class="virtual ref" href="executable.h.html#_ZN3xla10Executable24PopulateExecutionProfileEPNS_19HloExecutionProfileEPN9perftools8gputools14StreamExecutorE" title='xla::Executable::PopulateExecutionProfile' data-ref="_ZN3xla10Executable24PopulateExecutionProfileEPNS_19HloExecutionProfileEPN9perftools8gputools14StreamExecutorE">PopulateExecutionProfile</a>(&amp;<a class="local col3 ref" href="#143hlo_profile" title='hlo_profile' data-ref="143hlo_profile">hlo_profile</a>, <a class="local col0 ref" href="#140stream" title='stream' data-ref="140stream">stream</a>-&gt;<a class="ref" href="../../../stream_executor/stream.h.html#_ZNK9perftools8gputools6Stream6parentEv" title='perftools::gputools::Stream::parent' data-ref="_ZNK9perftools8gputools6Stream6parentEv">parent</a>()));</td></tr>
<tr><th id="630">630</th><td>    <a class="macro" href="../util.h.html#533" title="::xla::LogLines(tensorflow::INFO, hlo_profile.ToString(streams[0]-&gt;parent()-&gt;GetDeviceDescription()), &quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 632)" data-ref="_M/XLA_LOG_LINES">XLA_LOG_LINES</a>(</td></tr>
<tr><th id="631">631</th><td>        tensorflow::<a class="ref" href="../../../core/platform/default/logging.h.html#tensorflow::INFO" title='tensorflow::INFO' data-ref="tensorflow::INFO">INFO</a>,</td></tr>
<tr><th id="632">632</th><td>        <a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1ERKSs" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1ERKSs"></a><a class="local col3 ref" href="#143hlo_profile" title='hlo_profile' data-ref="143hlo_profile">hlo_profile</a>.<a class="ref" href="hlo_execution_profile.h.html#_ZNK3xla19HloExecutionProfile8ToStringERKN9perftools8gputools17DeviceDescriptionE" title='xla::HloExecutionProfile::ToString' data-ref="_ZNK3xla19HloExecutionProfile8ToStringERKN9perftools8gputools17DeviceDescriptionE">ToString</a>(<a class="local col2 ref" href="#122streams" title='streams' data-ref="122streams">streams</a>[<var>0</var>]<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZNK9perftools8gputools6Stream6parentEv" title='perftools::gputools::Stream::parent' data-ref="_ZNK9perftools8gputools6Stream6parentEv">parent</a>()-&gt;<a class="ref" href="../../../stream_executor/stream_executor_pimpl.h.html#_ZNK9perftools8gputools14StreamExecutor20GetDeviceDescriptionEv" title='perftools::gputools::StreamExecutor::GetDeviceDescription' data-ref="_ZNK9perftools8gputools14StreamExecutor20GetDeviceDescriptionEv">GetDeviceDescription</a>()));</td></tr>
<tr><th id="633">633</th><td>    <span class="namespace">hlo_graph_dumper::</span><a class="ref" href="hlo_graph_dumper.h.html#_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE" title='xla::hlo_graph_dumper::MaybeDumpHloModule' data-ref="_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE">MaybeDumpHloModule</a>(<a class="local col2 ref" href="#142module" title='module' data-ref="142module">module</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"Service::Execute"</q>,</td></tr>
<tr><th id="634">634</th><td>                                         &amp;<a class="local col3 ref" href="#143hlo_profile" title='hlo_profile' data-ref="143hlo_profile">hlo_profile</a>);</td></tr>
<tr><th id="635">635</th><td>  }</td></tr>
<tr><th id="636">636</th><td></td></tr>
<tr><th id="637">637</th><td>  <b>if</b> (<a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="638">638</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(!timers.empty()), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 638) &lt;&lt; &quot;Check failed: &quot; &quot;!timers.empty()&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(!<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv">empty</a>());</td></tr>
<tr><th id="639">639</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint64" title='tensorflow::uint64' data-type='unsigned long long' data-ref="tensorflow::uint64">uint64</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="144timer_nanoseconds" title='timer_nanoseconds' data-type='std::vector&lt;uint64&gt;' data-ref="144timer_nanoseconds">timer_nanoseconds</dfn>;</td></tr>
<tr><th id="640">640</th><td>    <a class="local col4 ref" href="#144timer_nanoseconds" title='timer_nanoseconds' data-ref="144timer_nanoseconds">timer_nanoseconds</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector7reserveEm" title='std::vector::reserve' data-ref="_ZNSt6vector7reserveEm">reserve</a>(<a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="641">641</th><td>    <b>for</b> (<em>auto</em>&amp; <dfn class="local col5 decl" id="145timer" title='timer' data-type='std::unique_ptr&lt;perftools::gputools::Timer, std::default_delete&lt;perftools::gputools::Timer&gt; &gt; &amp;' data-ref="145timer">timer</dfn> : <a class="local col3 ref" href="#123timers" title='timers' data-ref="123timers">timers</a>) {</td></tr>
<tr><th id="642">642</th><td>      <a class="local col4 ref" href="#144timer_nanoseconds" title='timer_nanoseconds' data-ref="144timer_nanoseconds">timer_nanoseconds</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<a class="local col5 ref" href="#145timer" title='timer' data-ref="145timer">timer</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/timer.h.html#_ZNK9perftools8gputools5Timer11NanosecondsEv" title='perftools::gputools::Timer::Nanoseconds' data-ref="_ZNK9perftools8gputools5Timer11NanosecondsEv">Nanoseconds</a>());</td></tr>
<tr><th id="643">643</th><td>    }</td></tr>
<tr><th id="644">644</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint64" title='tensorflow::uint64' data-type='unsigned long long' data-ref="tensorflow::uint64">uint64</a> <dfn class="local col6 decl" id="146nanoseconds" title='nanoseconds' data-type='uint64' data-ref="146nanoseconds">nanoseconds</dfn> =</td></tr>
<tr><th id="645">645</th><td>        <a class="ref" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/stl_algo.h.html#_ZSt11max_elementT_S_" title='std::max_element' data-ref="_ZSt11max_elementT_S_">max_element</a>(<a class="local col4 ref" href="#144timer_nanoseconds" title='timer_nanoseconds' data-ref="144timer_nanoseconds">timer_nanoseconds</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>(), <a class="local col4 ref" href="#144timer_nanoseconds" title='timer_nanoseconds' data-ref="144timer_nanoseconds">timer_nanoseconds</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>());</td></tr>
<tr><th id="646">646</th><td></td></tr>
<tr><th id="647">647</th><td>    <i>// Merge in run-time profile information from execution_profile on the</i></td></tr>
<tr><th id="648">648</th><td><i>    // zeroth device.</i></td></tr>
<tr><th id="649">649</th><td>    <a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile9MergeFromERKS0_" title='xla::ExecutionProfile::MergeFrom' data-ref="_ZN3xla16ExecutionProfile9MergeFromERKS0_">MergeFrom</a>(<a class="local col6 ref" href="#116executables" title='executables' data-ref="116executables">executables</a><a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE" title='tensorflow::gtl::ArraySlice::operator[]' data-ref="_ZNK10tensorflow3gtl10ArraySliceixENS0_20array_slice_internal14ArraySliceImplIT_E9size_typeE">[<var>0</var>]</a>-&gt;<a class="ref" href="executable.h.html#_ZNK3xla10Executable17execution_profileEv" title='xla::Executable::execution_profile' data-ref="_ZNK3xla10Executable17execution_profileEv">execution_profile</a>());</td></tr>
<tr><th id="650">650</th><td></td></tr>
<tr><th id="651">651</th><td>    <i>// Overall execution time (in nanoseconds) from the executor timer.</i></td></tr>
<tr><th id="652">652</th><td>    <a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile32set_compute_and_transfer_time_nsEl" title='xla::ExecutionProfile::set_compute_and_transfer_time_ns' data-ref="_ZN3xla16ExecutionProfile32set_compute_and_transfer_time_nsEl">set_compute_and_transfer_time_ns</a>(<a class="local col6 ref" href="#146nanoseconds" title='nanoseconds' data-ref="146nanoseconds">nanoseconds</a>);</td></tr>
<tr><th id="653">653</th><td></td></tr>
<tr><th id="654">654</th><td>    <i>// TODO(b/28123297): On GPU we end up including transfer time in</i></td></tr>
<tr><th id="655">655</th><td><i>    // the compute time this way. Instead, we should get the correct</i></td></tr>
<tr><th id="656">656</th><td><i>    // value by measuring it. Setting the field here at least lets</i></td></tr>
<tr><th id="657">657</th><td><i>    // benchmarks provide *some* value for GPU computations.</i></td></tr>
<tr><th id="658">658</th><td><i>    //</i></td></tr>
<tr><th id="659">659</th><td><i>    // TODO(b/28447609): The value in compute_and_transfer_time_ns is actually</i></td></tr>
<tr><th id="660">660</th><td><i>    // the compute time without the transfer time, so this way we get the</i></td></tr>
<tr><th id="661">661</th><td><i>    // correct compute time. We should instead have the correct value for</i></td></tr>
<tr><th id="662">662</th><td><i>    // compute_and_transfer_time and set compute_time to the compute time.</i></td></tr>
<tr><th id="663">663</th><td>    <b>if</b> (<a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla16ExecutionProfile15compute_time_nsEv" title='xla::ExecutionProfile::compute_time_ns' data-ref="_ZNK3xla16ExecutionProfile15compute_time_nsEv">compute_time_ns</a>() == <var>0</var>) {</td></tr>
<tr><th id="664">664</th><td>      <a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfile19set_compute_time_nsEl" title='xla::ExecutionProfile::set_compute_time_ns' data-ref="_ZN3xla16ExecutionProfile19set_compute_time_nsEl">set_compute_time_ns</a>(<a class="local col1 ref" href="#121profile" title='profile' data-ref="121profile">profile</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla16ExecutionProfile28compute_and_transfer_time_nsEv" title='xla::ExecutionProfile::compute_and_transfer_time_ns' data-ref="_ZNK3xla16ExecutionProfile28compute_and_transfer_time_nsEv">compute_and_transfer_time_ns</a>());</td></tr>
<tr><th id="665">665</th><td>    }</td></tr>
<tr><th id="666">666</th><td>  }</td></tr>
<tr><th id="667">667</th><td></td></tr>
<tr><th id="668">668</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col4 ref" href="#124result_handles" title='result_handles' data-ref="124result_handles">result_handles</a>;</td></tr>
<tr><th id="669">669</th><td>}</td></tr>
<tr><th id="670">670</th><td></td></tr>
<tr><th id="671">671</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE" title='xla::Service::ExecuteAndRegisterResult' data-ref="_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE">ExecuteAndRegisterResult</dfn>(</td></tr>
<tr><th id="672">672</th><td>    <a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>* <dfn class="local col7 decl" id="147executable" title='executable' data-type='xla::Executable *' data-ref="147executable">executable</dfn>,</td></tr>
<tr><th id="673">673</th><td>    <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;</td></tr>
<tr><th id="674">674</th><td>        <dfn class="local col8 decl" id="148arguments" title='arguments' data-type='const tensorflow::gtl::ArraySlice&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="148arguments">arguments</dfn>,</td></tr>
<tr><th id="675">675</th><td>    <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col9 decl" id="149backend" title='backend' data-type='xla::Backend *' data-ref="149backend">backend</dfn>, <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col0 decl" id="150result_tag" title='result_tag' data-type='const string &amp;' data-ref="150result_tag">result_tag</dfn>, <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a>* <dfn class="local col1 decl" id="151profile" title='profile' data-type='xla::ExecutionProfile *' data-ref="151profile">profile</dfn>) {</td></tr>
<tr><th id="676">676</th><td>  <i>// Set up streams.</i></td></tr>
<tr><th id="677">677</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col2 decl" id="152streams" title='streams' data-type='std::vector&lt;Pool&lt;se::Stream&gt;::SmartPtr&gt;' data-ref="152streams">streams</dfn>;</td></tr>
<tr><th id="678">678</th><td></td></tr>
<tr><th id="679">679</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value41 = (Replicas(*backend, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value41.ok(), 0))) { return _status_or_value41.status(); } auto replicas = std::move(_status_or_value41.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col3 decl" id="153replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="153replicas">replicas</dfn>,</td></tr>
<tr><th id="680">680</th><td>                      <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(*<a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>, <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="681">681</th><td>  <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(!replicas.empty()), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 681, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;!replicas.empty()&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(!<a class="local col3 ref" href="#679" title='replicas' data-ref="153replicas">replicas</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv">empty</a>());</td></tr>
<tr><th id="682">682</th><td>  <b>for</b> (<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col4 decl" id="154executor" title='executor' data-type='se::StreamExecutor *' data-ref="154executor">executor</dfn> : <a class="local col3 ref" href="#679" title='replicas' data-ref="153replicas">replicas</a>) {</td></tr>
<tr><th id="683">683</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value43 = (backend-&gt;BorrowStream(executor)); if ((__builtin_expect(!_status_or_value43.ok(), 0))) { return _status_or_value43.status(); } Pool&lt;se::Stream&gt;::SmartPtr stream = std::move(_status_or_value43.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;se::<a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a> <dfn class="local col5 decl" id="155stream" title='stream' data-type='Pool&lt;se::Stream&gt;::SmartPtr' data-ref="155stream">stream</dfn>,</td></tr>
<tr><th id="684">684</th><td>                        <a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE" title='xla::Backend::BorrowStream' data-ref="_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE">BorrowStream</a>(<a class="local col4 ref" href="#154executor" title='executor' data-ref="154executor">executor</a>));</td></tr>
<tr><th id="685">685</th><td>    <a class="local col2 ref" href="#152streams" title='streams' data-ref="152streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col5 ref" href="#683" title='stream' data-ref="155stream">stream</a></span>));</td></tr>
<tr><th id="686">686</th><td>  }</td></tr>
<tr><th id="687">687</th><td></td></tr>
<tr><th id="688">688</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value45 = (backend-&gt;computation_placer()-&gt;AssignDevices( options_.number_of_replicas(), 1)); if ((__builtin_expect(!_status_or_value45.ok(), 0))) { return _status_or_value45.status(); } DeviceAssignment device_assignment = std::move(_status_or_value45.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="computation_placer.h.html#xla::DeviceAssignment" title='xla::DeviceAssignment' data-ref="xla::DeviceAssignment">DeviceAssignment</a> <dfn class="local col6 decl" id="156device_assignment" title='device_assignment' data-type='xla::DeviceAssignment' data-ref="156device_assignment">device_assignment</dfn>,</td></tr>
<tr><th id="689">689</th><td>                      <a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend18computation_placerEv" title='xla::Backend::computation_placer' data-ref="_ZNK3xla7Backend18computation_placerEv">computation_placer</a>()-&gt;<a class="virtual ref" href="computation_placer.h.html#_ZN3xla17ComputationPlacer13AssignDevicesEii" title='xla::ComputationPlacer::AssignDevices' data-ref="_ZN3xla17ComputationPlacer13AssignDevicesEii">AssignDevices</a>(</td></tr>
<tr><th id="690">690</th><td>                          <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(),</td></tr>
<tr><th id="691">691</th><td>                          <i>/*computation_count=*/</i><var>1</var>));</td></tr>
<tr><th id="692">692</th><td></td></tr>
<tr><th id="693">693</th><td>  <i>// Set up run options.</i></td></tr>
<tr><th id="694">694</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="service_executable_run_options.h.html#xla::ServiceExecutableRunOptions" title='xla::ServiceExecutableRunOptions' data-ref="xla::ServiceExecutableRunOptions">ServiceExecutableRunOptions</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col7 decl" id="157run_options" title='run_options' data-type='std::vector&lt;ServiceExecutableRunOptions&gt;' data-ref="157run_options">run_options</dfn>;</td></tr>
<tr><th id="695">695</th><td>  <b>for</b> (<em>const</em> <a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a>&amp; <dfn class="local col8 decl" id="158stream" title='stream' data-type='const Pool&lt;se::Stream&gt;::SmartPtr &amp;' data-ref="158stream">stream</dfn> : <a class="local col2 ref" href="#152streams" title='streams' data-ref="152streams">streams</a>) {</td></tr>
<tr><th id="696">696</th><td>    <a class="type" href="../executable_run_options.h.html#xla::ExecutableRunOptions" title='xla::ExecutableRunOptions' data-ref="xla::ExecutableRunOptions">ExecutableRunOptions</a> <a class="ref fake" href="../executable_run_options.h.html#47" title='xla::ExecutableRunOptions::ExecutableRunOptions' data-ref="_ZN3xla20ExecutableRunOptionsC1Ev"></a><dfn class="local col9 decl" id="159options" title='options' data-type='xla::ExecutableRunOptions' data-ref="159options">options</dfn>;</td></tr>
<tr><th id="697">697</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE" title='xla::ExecutableRunOptions::set_stream' data-ref="_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE">set_stream</a>(<a class="local col8 ref" href="#158stream" title='stream' data-ref="158stream">stream</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="698">698</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions18set_device_ordinalEi" title='xla::ExecutableRunOptions::set_device_ordinal' data-ref="_ZN3xla20ExecutableRunOptions18set_device_ordinalEi">set_device_ordinal</a>(<a class="local col8 ref" href="#158stream" title='stream' data-ref="158stream">stream</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../../stream_executor/stream.h.html#_ZNK9perftools8gputools6Stream6parentEv" title='perftools::gputools::Stream::parent' data-ref="_ZNK9perftools8gputools6Stream6parentEv">parent</a>()-&gt;<a class="ref" href="../../../stream_executor/stream_executor_pimpl.h.html#_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv" title='perftools::gputools::StreamExecutor::device_ordinal' data-ref="_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv">device_ordinal</a>());</td></tr>
<tr><th id="699">699</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE" title='xla::ExecutableRunOptions::set_allocator' data-ref="_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE">set_allocator</a>(<a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend16memory_allocatorEv" title='xla::Backend::memory_allocator' data-ref="_ZNK3xla7Backend16memory_allocatorEv">memory_allocator</a>());</td></tr>
<tr><th id="700">700</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE" title='xla::ExecutableRunOptions::set_inter_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE">set_inter_op_thread_pool</a>(<a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend20inter_op_thread_poolEv" title='xla::Backend::inter_op_thread_pool' data-ref="_ZNK3xla7Backend20inter_op_thread_poolEv">inter_op_thread_pool</a>());</td></tr>
<tr><th id="701">701</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE" title='xla::ExecutableRunOptions::set_intra_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE">set_intra_op_thread_pool</a>(</td></tr>
<tr><th id="702">702</th><td>        <a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv" title='xla::Backend::eigen_intra_op_thread_pool_device' data-ref="_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv">eigen_intra_op_thread_pool_device</a>());</td></tr>
<tr><th id="703">703</th><td>    <a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions21set_device_assignmentEPNS_16DeviceAssignmentE" title='xla::ExecutableRunOptions::set_device_assignment' data-ref="_ZN3xla20ExecutableRunOptions21set_device_assignmentEPNS_16DeviceAssignmentE">set_device_assignment</a>(&amp;<a class="local col6 ref" href="#688" title='device_assignment' data-ref="156device_assignment">device_assignment</a>);</td></tr>
<tr><th id="704">704</th><td>    <a class="local col7 ref" href="#157run_options" title='run_options' data-ref="157run_options">run_options</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(<span class='refarg'><a class="local col9 ref" href="#159options" title='options' data-ref="159options">options</a></span>, <a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZN3xla7Backend14StreamBorrowerEv" title='xla::Backend::StreamBorrower' data-ref="_ZN3xla7Backend14StreamBorrowerEv">StreamBorrower</a>(),</td></tr>
<tr><th id="705">705</th><td>                             <a class="local col9 ref" href="#149backend" title='backend' data-ref="149backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend20inter_op_thread_poolEv" title='xla::Backend::inter_op_thread_pool' data-ref="_ZNK3xla7Backend20inter_op_thread_poolEv">inter_op_thread_pool</a>());</td></tr>
<tr><th id="706">706</th><td>  }</td></tr>
<tr><th id="707">707</th><td></td></tr>
<tr><th id="708">708</th><td>  <b>if</b> (<a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>() == <var>1</var>) {</td></tr>
<tr><th id="709">709</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value47 = (executable-&gt;ExecuteOnStreamWrapper(&amp;run_options[0], profile, arguments[0])); if ((__builtin_expect(!_status_or_value47.ok(), 0))) { return _status_or_value47.status(); } auto result = std::move(_status_or_value47.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="710">710</th><td>        <em>auto</em> <dfn class="local col0 decl" id="160result" title='result' data-type='std::unique_ptr&lt;xla::ShapedBuffer, std::default_delete&lt;xla::ShapedBuffer&gt; &gt;' data-ref="160result">result</dfn>, <a class="local col7 ref" href="#147executable" title='executable' data-ref="147executable">executable</a>-&gt;<a class="ref" href="executable.h.html#_ZN3xla10Executable22ExecuteOnStreamWrapperEPKNS_27ServiceExecutableRunOptionsEPNS_16ExecutionProfileEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE" title='xla::Executable::ExecuteOnStreamWrapper' data-ref="_ZN3xla10Executable22ExecuteOnStreamWrapperEPKNS_27ServiceExecutableRunOptionsEPNS_16ExecutionProfileEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE">ExecuteOnStreamWrapper</a>(&amp;<a class="local col7 ref" href="#157run_options" title='run_options' data-ref="157run_options">run_options</a>[<var>0</var>],</td></tr>
<tr><th id="711">711</th><td>                                                        <a class="local col1 ref" href="#151profile" title='profile' data-ref="151profile">profile</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col8 ref" href="#148arguments" title='arguments' data-ref="148arguments">arguments</a>[<var>0</var>]));</td></tr>
<tr><th id="712">712</th><td>    <b>return</b> <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker8RegisterESt10unique_ptrINS_12ShapedBufferESt14default_deleteIS2_EERKSs" title='xla::AllocationTracker::Register' data-ref="_ZN3xla17AllocationTracker8RegisterESt10unique_ptrINS_12ShapedBufferESt14default_deleteIS2_EERKSs">Register</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col0 ref" href="#709" title='result' data-ref="160result">result</a></span>), <a class="local col0 ref" href="#150result_tag" title='result_tag' data-ref="150result_tag">result_tag</a>);</td></tr>
<tr><th id="713">713</th><td>  }</td></tr>
<tr><th id="714">714</th><td></td></tr>
<tr><th id="715">715</th><td>  <i>// TODO(b/69985541): Support profiling also on this path.</i></td></tr>
<tr><th id="716">716</th><td></td></tr>
<tr><th id="717">717</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;</td></tr>
<tr><th id="718">718</th><td>      <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="161replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;tensorflow::gtl::ArraySlice&lt;const ShapedBuffer *&gt; &gt;' data-ref="161replicated_arguments">replicated_arguments</dfn>;</td></tr>
<tr><th id="719">719</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col2 decl" id="162arg" title='arg' data-type='const std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt; &amp;' data-ref="162arg">arg</dfn> : <a class="local col8 ref" href="#148arguments" title='arguments' data-ref="148arguments">arguments</a>) {</td></tr>
<tr><th id="720">720</th><td>    <a class="local col1 ref" href="#161replicated_arguments" title='replicated_arguments' data-ref="161replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(<a class="local col2 ref" href="#162arg" title='arg' data-ref="162arg">arg</a>);</td></tr>
<tr><th id="721">721</th><td>  }</td></tr>
<tr><th id="722">722</th><td></td></tr>
<tr><th id="723">723</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value49 = (executable-&gt;ExecuteOnStreams( run_options, replicated_arguments)); if ((__builtin_expect(!_status_or_value49.ok(), 0))) { return _status_or_value49.status(); } auto results = std::move(_status_or_value49.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col3 decl" id="163results" title='results' data-type='std::vector&lt;std::unique_ptr&lt;xla::ShapedBuffer, std::default_delete&lt;xla::ShapedBuffer&gt; &gt;, std::allocator&lt;std::unique_ptr&lt;xla::ShapedBuffer, std::default_delete&lt;xla::ShapedBuffer&gt; &gt; &gt; &gt;' data-ref="163results">results</dfn>, <a class="local col7 ref" href="#147executable" title='executable' data-ref="147executable">executable</a>-&gt;<a class="virtual ref" href="executable.h.html#_ZN3xla10Executable16ExecuteOnStreamsEN10tensorflow3gtl10ArraySliceIKNS_27ServiceExecutableRunOptionsEEENS3_INS3_IPKNS_12ShapedBufferEEEEE" title='xla::Executable::ExecuteOnStreams' data-ref="_ZN3xla10Executable16ExecuteOnStreamsEN10tensorflow3gtl10ArraySliceIKNS_27ServiceExecutableRunOptionsEEENS3_INS3_IPKNS_12ShapedBufferEEEEE">ExecuteOnStreams</a>(</td></tr>
<tr><th id="724">724</th><td>                                        <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col7 ref" href="#157run_options" title='run_options' data-ref="157run_options">run_options</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col1 ref" href="#161replicated_arguments" title='replicated_arguments' data-ref="161replicated_arguments">replicated_arguments</a>));</td></tr>
<tr><th id="725">725</th><td>  <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(!results.empty()), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 725, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;!results.empty()&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(!<a class="local col3 ref" href="#723" title='results' data-ref="163results">results</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv">empty</a>());</td></tr>
<tr><th id="726">726</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs" title='xla::AllocationTracker::RegisterReplicatedBuffers' data-ref="_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs">RegisterReplicatedBuffers</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#723" title='results' data-ref="163results">results</a></span>),</td></tr>
<tr><th id="727">727</th><td>                                                       <a class="local col0 ref" href="#150result_tag" title='result_tag' data-ref="150result_tag">result_tag</a>);</td></tr>
<tr><th id="728">728</th><td>}</td></tr>
<tr><th id="729">729</th><td></td></tr>
<tr><th id="730">730</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service14SetReturnValueEPKNS_21SetReturnValueRequestEPNS_22SetReturnValueResponseE" title='xla::Service::SetReturnValue' data-ref="_ZN3xla7Service14SetReturnValueEPKNS_21SetReturnValueRequestEPNS_22SetReturnValueResponseE">SetReturnValue</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::SetReturnValueRequest" title='xla::SetReturnValueRequest' data-ref="xla::SetReturnValueRequest">SetReturnValueRequest</a>* <dfn class="local col4 decl" id="164arg" title='arg' data-type='const xla::SetReturnValueRequest *' data-ref="164arg">arg</dfn>,</td></tr>
<tr><th id="731">731</th><td>                                           <a class="type" href="../xla.pb.h.html#xla::SetReturnValueResponse" title='xla::SetReturnValueResponse' data-ref="xla::SetReturnValueResponse">SetReturnValueResponse</a>* <dfn class="local col5 decl" id="165results" title='results' data-type='xla::SetReturnValueResponse *' data-ref="165results">results</dfn>) {</td></tr>
<tr><th id="732">732</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value51 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value51.ok(), 0))) { return _status_or_value51.status(); } UserComputation * computation = std::move(_status_or_value51.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col6 decl" id="166computation" title='computation' data-type='xla::UserComputation *' data-ref="166computation">computation</dfn>,</td></tr>
<tr><th id="733">733</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col4 ref" href="#164arg" title='arg' data-ref="164arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla21SetReturnValueRequest11computationEv" title='xla::SetReturnValueRequest::computation' data-ref="_ZNK3xla21SetReturnValueRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="734">734</th><td>  <b>return</b> <a class="local col6 ref" href="#732" title='computation' data-ref="166computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation14SetReturnValueERKNS_21ComputationDataHandleE" title='xla::UserComputation::SetReturnValue' data-ref="_ZN3xla15UserComputation14SetReturnValueERKNS_21ComputationDataHandleE">SetReturnValue</a>(<a class="local col4 ref" href="#164arg" title='arg' data-ref="164arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla21SetReturnValueRequest7operandEv" title='xla::SetReturnValueRequest::operand' data-ref="_ZNK3xla21SetReturnValueRequest7operandEv">operand</a>());</td></tr>
<tr><th id="735">735</th><td>}</td></tr>
<tr><th id="736">736</th><td></td></tr>
<tr><th id="737">737</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt;</td></tr>
<tr><th id="738">738</th><td><a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx" title='xla::Service::GetExecutors' data-ref="_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx">GetExecutors</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>&amp; <dfn class="local col7 decl" id="167execution_options" title='execution_options' data-type='const xla::ExecutionOptions &amp;' data-ref="167execution_options">execution_options</dfn>,</td></tr>
<tr><th id="739">739</th><td>                      <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="168requests_size" title='requests_size' data-type='int64' data-ref="168requests_size">requests_size</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col9 decl" id="169request_index" title='request_index' data-type='int64' data-ref="169request_index">request_index</dfn>) <em>const</em> {</td></tr>
<tr><th id="740">740</th><td>  <b>if</b> (<a class="local col7 ref" href="#167execution_options" title='execution_options' data-ref="167execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::empty' data-ref="_ZNK6google8protobuf16RepeatedPtrField5emptyEv">empty</span>()) {</td></tr>
<tr><th id="741">741</th><td>    <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(</td></tr>
<tr><th id="742">742</th><td>        <q>"device handles must be given to execute parallel computations"</q>);</td></tr>
<tr><th id="743">743</th><td>  }</td></tr>
<tr><th id="744">744</th><td>  <b>if</b> (<a class="local col8 ref" href="#168requests_size" title='requests_size' data-ref="168requests_size">requests_size</a> &gt; <var>1</var> &amp;&amp; <a class="local col7 ref" href="#167execution_options" title='execution_options' data-ref="167execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>() &gt; <var>1</var>) {</td></tr>
<tr><th id="745">745</th><td>    <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EON10tensorflow6StatusE" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EON10tensorflow6StatusE"></a><a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="746">746</th><td>        <q>"Parallel requests with multiple device handles is not supported. "</q></td></tr>
<tr><th id="747">747</th><td>        <q>"Found %lld parallel requests, with request %lld containing %d device "</q></td></tr>
<tr><th id="748">748</th><td>        <q>"handles."</q>,</td></tr>
<tr><th id="749">749</th><td>        <a class="local col8 ref" href="#168requests_size" title='requests_size' data-ref="168requests_size">requests_size</a>, <a class="local col9 ref" href="#169request_index" title='request_index' data-ref="169request_index">request_index</a>, <a class="local col7 ref" href="#167execution_options" title='execution_options' data-ref="167execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>());</td></tr>
<tr><th id="750">750</th><td>  }</td></tr>
<tr><th id="751">751</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="170executors" title='executors' data-type='std::vector&lt;perftools::gputools::StreamExecutor *&gt;' data-ref="170executors">executors</dfn>;</td></tr>
<tr><th id="752">752</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col1 decl" id="171device_handle" title='device_handle' data-type='const xla::DeviceHandle &amp;' data-ref="171device_handle">device_handle</dfn> : <a class="local col7 ref" href="#167execution_options" title='execution_options' data-ref="167execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>()) {</td></tr>
<tr><th id="753">753</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value53 = (Replicas(*execute_backend_, device_handle)); if ((__builtin_expect(!_status_or_value53.ok(), 0))) { return _status_or_value53.status(); } auto replicas = std::move(_status_or_value53.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col2 decl" id="172replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="172replicas">replicas</dfn>,</td></tr>
<tr><th id="754">754</th><td>                        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="local col1 ref" href="#171device_handle" title='device_handle' data-ref="171device_handle">device_handle</a>));</td></tr>
<tr><th id="755">755</th><td>    <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col3 decl" id="173executor" title='executor' data-type='se::StreamExecutor *' data-ref="173executor">executor</dfn> = <a class="local col2 ref" href="#753" title='replicas' data-ref="172replicas">replicas</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<var>0</var>]</a>;</td></tr>
<tr><th id="756">756</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(executor != nullptr), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 756) &lt;&lt; &quot;Check failed: &quot; &quot;executor != nullptr&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(<a class="local col3 ref" href="#173executor" title='executor' data-ref="173executor">executor</a> != <b>nullptr</b>);</td></tr>
<tr><th id="757">757</th><td>    <a class="local col0 ref" href="#170executors" title='executors' data-ref="170executors">executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col3 ref" href="#173executor" title='executor' data-ref="173executor">executor</a>);</td></tr>
<tr><th id="758">758</th><td>  }</td></tr>
<tr><th id="759">759</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col0 ref" href="#170executors" title='executors' data-ref="170executors">executors</a>;</td></tr>
<tr><th id="760">760</th><td>}</td></tr>
<tr><th id="761">761</th><td></td></tr>
<tr><th id="762">762</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE" title='xla::Service::GetArguments' data-ref="_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE">GetArguments</dfn>(</td></tr>
<tr><th id="763">763</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>&amp; <dfn class="local col4 decl" id="174execution_options" title='execution_options' data-type='const xla::ExecutionOptions &amp;' data-ref="174execution_options">execution_options</dfn>,</td></tr>
<tr><th id="764">764</th><td>    <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/array_slice.h.html#tensorflow::gtl::ArraySlice" title='tensorflow::gtl::ArraySlice' data-ref="tensorflow::gtl::ArraySlice">ArraySlice</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>*&gt; <dfn class="local col5 decl" id="175arguments" title='arguments' data-type='tensorflow::gtl::ArraySlice&lt;const GlobalDataHandle *&gt;' data-ref="175arguments">arguments</dfn>) {</td></tr>
<tr><th id="765">765</th><td>  <i>// Resolve the allocations for the arguments of the computation, and create</i></td></tr>
<tr><th id="766">766</th><td><i>  // a vector of device memory offsets for the arguments from the allocations.</i></td></tr>
<tr><th id="767">767</th><td><i>  // In the case of partitioned computations, assume all arguments go on the</i></td></tr>
<tr><th id="768">768</th><td><i>  // zeroth core.</i></td></tr>
<tr><th id="769">769</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value55 = (Replicas(*execute_backend_, execution_options.device_handles(0))); if ((__builtin_expect(!_status_or_value55.ok(), 0))) { return _status_or_value55.status(); } auto replicas = std::move(_status_or_value55.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="770">770</th><td>      <em>auto</em> <dfn class="local col6 decl" id="176replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="176replicas">replicas</dfn>,</td></tr>
<tr><th id="771">771</th><td>      <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="local col4 ref" href="#174execution_options" title='execution_options' data-ref="174execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEi" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEi">device_handles</a>(<var>0</var>)));</td></tr>
<tr><th id="772">772</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value57 = (ResolveAndValidateArguments(arguments, replicas)); if ((__builtin_expect(!_status_or_value57.ok(), 0))) { return _status_or_value57.status(); } std::vector&lt;std::vector&lt;const ShapedBuffer*&gt;&gt; replicated_arguments = std::move(_status_or_value57.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="773">773</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt; <dfn class="local col7 decl" id="177replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="177replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="774">774</th><td>      <a class="member" href="#_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE" title='xla::Service::ResolveAndValidateArguments' data-ref="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE">ResolveAndValidateArguments</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#108" title='tensorflow::gtl::ArraySlice&lt;const xla::GlobalDataHandle *&gt;::ArraySlice' data-ref="_ZN10tensorflow3gtl10ArraySliceIPKN3xla16GlobalDataHandleEEC1ERKS6_"></a><a class="local col5 ref" href="#175arguments" title='arguments' data-ref="175arguments">arguments</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col6 ref" href="#769" title='replicas' data-ref="176replicas">replicas</a>));</td></tr>
<tr><th id="775">775</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col7 ref" href="#772" title='replicated_arguments' data-ref="177replicated_arguments">replicated_arguments</a>;</td></tr>
<tr><th id="776">776</th><td>}</td></tr>
<tr><th id="777">777</th><td></td></tr>
<tr><th id="778">778</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service15ExecuteParallelEPKNS_22ExecuteParallelRequestEPNS_23ExecuteParallelResponseE" title='xla::Service::ExecuteParallel' data-ref="_ZN3xla7Service15ExecuteParallelEPKNS_22ExecuteParallelRequestEPNS_23ExecuteParallelResponseE">ExecuteParallel</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelRequest" title='xla::ExecuteParallelRequest' data-ref="xla::ExecuteParallelRequest">ExecuteParallelRequest</a>* <dfn class="local col8 decl" id="178arg" title='arg' data-type='const xla::ExecuteParallelRequest *' data-ref="178arg">arg</dfn>,</td></tr>
<tr><th id="779">779</th><td>                                            <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelResponse" title='xla::ExecuteParallelResponse' data-ref="xla::ExecuteParallelResponse">ExecuteParallelResponse</a>* <dfn class="local col9 decl" id="179result" title='result' data-type='xla::ExecuteParallelResponse *' data-ref="179result">result</dfn>) {</td></tr>
<tr><th id="780">780</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 780, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"running execute-parallel request: "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<span class='ref' title='google::protobuf::Message::ShortDebugString' data-ref="_ZNK6google8protobuf7Message16ShortDebugStringEv">ShortDebugString</span>();</td></tr>
<tr><th id="781">781</th><td></td></tr>
<tr><th id="782">782</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="180all_arguments" title='all_arguments' data-type='std::vector&lt;std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt; &gt;' data-ref="180all_arguments">all_arguments</dfn>;</td></tr>
<tr><th id="783">783</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="181all_executors" title='all_executors' data-type='std::vector&lt;std::vector&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="181all_executors">all_executors</dfn>;</td></tr>
<tr><th id="784">784</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col2 decl" id="182versioned_handles" title='versioned_handles' data-type='std::vector&lt;VersionedComputationHandle&gt;' data-ref="182versioned_handles">versioned_handles</dfn>;</td></tr>
<tr><th id="785">785</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col3 decl" id="183module_configs" title='module_configs' data-type='std::vector&lt;std::unique_ptr&lt;HloModuleConfig&gt; &gt;' data-ref="183module_configs">module_configs</dfn>;</td></tr>
<tr><th id="786">786</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="184computation_names" title='computation_names' data-type='std::vector&lt;string&gt;' data-ref="184computation_names">computation_names</dfn>;</td></tr>
<tr><th id="787">787</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col5 decl" id="185device_handles" title='device_handles' data-type='std::vector&lt;DeviceHandle&gt;' data-ref="185device_handles">device_handles</dfn>;</td></tr>
<tr><th id="788">788</th><td></td></tr>
<tr><th id="789">789</th><td>  <em>int</em> <dfn class="local col6 decl" id="186num_requested_devices" title='num_requested_devices' data-type='int' data-ref="186num_requested_devices">num_requested_devices</dfn> =</td></tr>
<tr><th id="790">790</th><td>      <span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/stl_numeric.h.html#_ZSt10accumulateT_S_T0_T1_" title='std::accumulate' data-ref="_ZSt10accumulateT_S_T0_T1_">accumulate</a>(<a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest8requestsEv" title='xla::ExecuteParallelRequest::requests' data-ref="_ZNK3xla22ExecuteParallelRequest8requestsEv">requests</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::begin' data-ref="_ZNK6google8protobuf16RepeatedPtrField5beginEv">begin</span>(), <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest8requestsEv" title='xla::ExecuteParallelRequest::requests' data-ref="_ZNK3xla22ExecuteParallelRequest8requestsEv">requests</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::end' data-ref="_ZNK6google8protobuf16RepeatedPtrField3endEv">end</span>(), <var>0</var>,</td></tr>
<tr><th id="791">791</th><td>                      [](<em>int</em> <dfn class="local col7 decl" id="187a" title='a' data-type='int' data-ref="187a">a</dfn>, <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteRequest" title='xla::ExecuteRequest' data-ref="xla::ExecuteRequest">ExecuteRequest</a>&amp; <dfn class="local col8 decl" id="188r" title='r' data-type='const xla::ExecuteRequest &amp;' data-ref="188r">r</dfn>) -&gt; <em>int</em> {</td></tr>
<tr><th id="792">792</th><td>                        <b>return</b> <a class="local col7 ref" href="#187a" title='a' data-ref="187a">a</a> + <a class="local col8 ref" href="#188r" title='r' data-ref="188r">r</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest17execution_optionsEv" title='xla::ExecuteRequest::execution_options' data-ref="_ZNK3xla14ExecuteRequest17execution_optionsEv">execution_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>();</td></tr>
<tr><th id="793">793</th><td>                      });</td></tr>
<tr><th id="794">794</th><td>  <b>if</b> (<a class="local col6 ref" href="#186num_requested_devices" title='num_requested_devices' data-ref="186num_requested_devices">num_requested_devices</a> * <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>() &gt;</td></tr>
<tr><th id="795">795</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>()) {</td></tr>
<tr><th id="796">796</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(</td></tr>
<tr><th id="797">797</th><td>        <q>"there are not enough stream executors to execute %d computations"</q>,</td></tr>
<tr><th id="798">798</th><td>        <a class="local col6 ref" href="#186num_requested_devices" title='num_requested_devices' data-ref="186num_requested_devices">num_requested_devices</a>);</td></tr>
<tr><th id="799">799</th><td>  }</td></tr>
<tr><th id="800">800</th><td></td></tr>
<tr><th id="801">801</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col9 decl" id="189i" title='i' data-type='int64' data-ref="189i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a> &lt; <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest13requests_sizeEv" title='xla::ExecuteParallelRequest::requests_size' data-ref="_ZNK3xla22ExecuteParallelRequest13requests_sizeEv">requests_size</a>(); ++<a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>) {</td></tr>
<tr><th id="802">802</th><td>    <i>// Get the stream executor for the i'th computation. This stream executor</i></td></tr>
<tr><th id="803">803</th><td><i>    // is one of the executors to run the replicated computation.</i></td></tr>
<tr><th id="804">804</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>&amp; <dfn class="local col0 decl" id="190execution_options" title='execution_options' data-type='const xla::ExecutionOptions &amp;' data-ref="190execution_options">execution_options</dfn> =</td></tr>
<tr><th id="805">805</th><td>        <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest8requestsEi" title='xla::ExecuteParallelRequest::requests' data-ref="_ZNK3xla22ExecuteParallelRequest8requestsEi">requests</a>(<a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>).<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest17execution_optionsEv" title='xla::ExecuteRequest::execution_options' data-ref="_ZNK3xla14ExecuteRequest17execution_optionsEv">execution_options</a>();</td></tr>
<tr><th id="806">806</th><td></td></tr>
<tr><th id="807">807</th><td>    <i>// Get the executors.</i></td></tr>
<tr><th id="808">808</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value59 = (GetExecutors(execution_options, arg-&gt;requests_size(), i)); if ((__builtin_expect(!_status_or_value59.ok(), 0))) { return _status_or_value59.status(); } auto executors = std::move(_status_or_value59.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col1 decl" id="191executors" title='executors' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="191executors">executors</dfn>, <a class="member" href="#_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx" title='xla::Service::GetExecutors' data-ref="_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx">GetExecutors</a>(<a class="local col0 ref" href="#190execution_options" title='execution_options' data-ref="190execution_options">execution_options</a>,</td></tr>
<tr><th id="809">809</th><td>                                                     <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest13requests_sizeEv" title='xla::ExecuteParallelRequest::requests_size' data-ref="_ZNK3xla22ExecuteParallelRequest13requests_sizeEv">requests_size</a>(), <a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>));</td></tr>
<tr><th id="810">810</th><td></td></tr>
<tr><th id="811">811</th><td>    <i>// Resolve the UserComputation object associated with the requested</i></td></tr>
<tr><th id="812">812</th><td><i>    // computation and compute the program shape.</i></td></tr>
<tr><th id="813">813</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteRequest" title='xla::ExecuteRequest' data-ref="xla::ExecuteRequest">ExecuteRequest</a>&amp; <dfn class="local col2 decl" id="192request" title='request' data-type='const xla::ExecuteRequest &amp;' data-ref="192request">request</dfn> = <a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ExecuteParallelRequest8requestsEi" title='xla::ExecuteParallelRequest::requests' data-ref="_ZNK3xla22ExecuteParallelRequest8requestsEi">requests</a>(<a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>);</td></tr>
<tr><th id="814">814</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value61 = (computation_tracker_.Resolve(request.computation())); if ((__builtin_expect(!_status_or_value61.ok(), 0))) { return _status_or_value61.status(); } UserComputation * user_computation = std::move(_status_or_value61.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col3 decl" id="193user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="193user_computation">user_computation</dfn>,</td></tr>
<tr><th id="815">815</th><td>                        <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col2 ref" href="#192request" title='request' data-ref="192request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest11computationEv" title='xla::ExecuteRequest::computation' data-ref="_ZNK3xla14ExecuteRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="816">816</th><td>    <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col4 decl" id="194versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="194versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="817">817</th><td>        <a class="local col3 ref" href="#814" title='user_computation' data-ref="193user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation18GetVersionedHandleEv" title='xla::UserComputation::GetVersionedHandle' data-ref="_ZNK3xla15UserComputation18GetVersionedHandleEv">GetVersionedHandle</a>();</td></tr>
<tr><th id="818">818</th><td>    <b>if</b> (<a class="local col3 ref" href="#814" title='user_computation' data-ref="193user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation13request_countEx" title='xla::UserComputation::request_count' data-ref="_ZNK3xla15UserComputation13request_countEx">request_count</a>(<a class="local col4 ref" href="#194versioned_handle" title='versioned_handle' data-ref="194versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>) == <var>0</var>) {</td></tr>
<tr><th id="819">819</th><td>      <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="820">820</th><td>    }</td></tr>
<tr><th id="821">821</th><td></td></tr>
<tr><th id="822">822</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value63 = (user_computation-&gt;ComputeProgramShape(versioned_handle.version)); if ((__builtin_expect(!_status_or_value63.ok(), 0))) { return _status_or_value63.status(); } std::shared_ptr&lt;const ProgramShape&gt; program_shape = std::move(_status_or_value63.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="823">823</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a>&gt; <dfn class="local col5 decl" id="195program_shape" title='program_shape' data-type='std::shared_ptr&lt;const ProgramShape&gt;' data-ref="195program_shape">program_shape</dfn>,</td></tr>
<tr><th id="824">824</th><td>        <a class="local col3 ref" href="#814" title='user_computation' data-ref="193user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation19ComputeProgramShapeEx" title='xla::UserComputation::ComputeProgramShape' data-ref="_ZNK3xla15UserComputation19ComputeProgramShapeEx">ComputeProgramShape</a>(<a class="local col4 ref" href="#194versioned_handle" title='versioned_handle' data-ref="194versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>));</td></tr>
<tr><th id="825">825</th><td></td></tr>
<tr><th id="826">826</th><td>    <i>// Get the replicated arguments.</i></td></tr>
<tr><th id="827">827</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value65 = (GetArguments(execution_options, request.arguments())); if ((__builtin_expect(!_status_or_value65.ok(), 0))) { return _status_or_value65.status(); } auto replicated_arguments = std::move(_status_or_value65.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col6 decl" id="196replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt;, std::allocator&lt;std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt; &gt; &gt;' data-ref="196replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="828">828</th><td>                        <a class="member" href="#_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE" title='xla::Service::GetArguments' data-ref="_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE">GetArguments</a>(<a class="local col0 ref" href="#190execution_options" title='execution_options' data-ref="190execution_options">execution_options</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col2 ref" href="#192request" title='request' data-ref="192request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest9argumentsEv" title='xla::ExecuteRequest::arguments' data-ref="_ZNK3xla14ExecuteRequest9argumentsEv">arguments</a>()));</td></tr>
<tr><th id="829">829</th><td></td></tr>
<tr><th id="830">830</th><td>    <i>// Create an HloModuleConfig object for the computation, given the shape of</i></td></tr>
<tr><th id="831">831</th><td><i>    // the program and the argument allocations. Here, we care only about the</i></td></tr>
<tr><th id="832">832</th><td><i>    // shapes of the arguments, so, it is sufficient to use the arguments of</i></td></tr>
<tr><th id="833">833</th><td><i>    // replica 0.</i></td></tr>
<tr><th id="834">834</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value67 = (CreateModuleConfig(*program_shape, replicated_arguments.front(), request.execution_options(), user_computation)); if ((__builtin_expect(!_status_or_value67.ok(), 0))) { return _status_or_value67.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value67.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="835">835</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col7 decl" id="197module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="197module_config">module_config</dfn>,</td></tr>
<tr><th id="836">836</th><td>        <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrdeEv" title='std::__shared_ptr::operator*' data-ref="_ZNKSt12__shared_ptrdeEv">*</a><a class="local col5 ref" href="#822" title='program_shape' data-ref="195program_shape">program_shape</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col6 ref" href="#827" title='replicated_arguments' data-ref="196replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="837">837</th><td>                           <a class="local col2 ref" href="#192request" title='request' data-ref="192request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest17execution_optionsEv" title='xla::ExecuteRequest::execution_options' data-ref="_ZNK3xla14ExecuteRequest17execution_optionsEv">execution_options</a>(), <a class="local col3 ref" href="#814" title='user_computation' data-ref="193user_computation">user_computation</a>));</td></tr>
<tr><th id="838">838</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((3) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 838, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>3</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"ExecuteParallel created HloModuleConfig computation layout: "</q></td></tr>
<tr><th id="839">839</th><td>            <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col7 ref" href="#834" title='module_config' data-ref="197module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig24entry_computation_layoutEv" title='xla::HloModuleConfig::entry_computation_layout' data-ref="_ZNK3xla15HloModuleConfig24entry_computation_layoutEv">entry_computation_layout</a>().<a class="ref" href="computation_layout.h.html#_ZNK3xla17ComputationLayout8ToStringEv" title='xla::ComputationLayout::ToString' data-ref="_ZNK3xla17ComputationLayout8ToStringEv">ToString</a>();</td></tr>
<tr><th id="840">840</th><td></td></tr>
<tr><th id="841">841</th><td>    <i>// Adds to the vectors to build and execute the computations after the loop.</i></td></tr>
<tr><th id="842">842</th><td>    <a class="local col0 ref" href="#180all_arguments" title='all_arguments' data-ref="180all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col6 ref" href="#827" title='replicated_arguments' data-ref="196replicated_arguments">replicated_arguments</a>);</td></tr>
<tr><th id="843">843</th><td>    <a class="local col0 ref" href="#180all_arguments" title='all_arguments' data-ref="180all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col0 ref" href="#180all_arguments" title='all_arguments' data-ref="180all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <a class="local col1 ref" href="#808" title='executors' data-ref="191executors">executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() - <var>1</var>, <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_"></a>{<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev">{</a>}});</td></tr>
<tr><th id="844">844</th><td>    <a class="local col2 ref" href="#182versioned_handles" title='versioned_handles' data-ref="182versioned_handles">versioned_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col4 ref" href="#194versioned_handle" title='versioned_handle' data-ref="194versioned_handle">versioned_handle</a>);</td></tr>
<tr><th id="845">845</th><td>    <a class="local col3 ref" href="#183module_configs" title='module_configs' data-ref="183module_configs">module_configs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col7 ref" href="#834" title='module_config' data-ref="197module_config">module_config</a></span>));</td></tr>
<tr><th id="846">846</th><td>    <a class="local col4 ref" href="#184computation_names" title='computation_names' data-ref="184computation_names">computation_names</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col4 ref" href="#184computation_names" title='computation_names' data-ref="184computation_names">computation_names</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <a class="local col1 ref" href="#808" title='executors' data-ref="191executors">executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(),</td></tr>
<tr><th id="847">847</th><td>                             <a class="local col3 ref" href="#814" title='user_computation' data-ref="193user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation4nameEv" title='xla::UserComputation::name' data-ref="_ZNK3xla15UserComputation4nameEv">name</a>());</td></tr>
<tr><th id="848">848</th><td>    <a class="local col1 ref" href="#181all_executors" title='all_executors' data-ref="181all_executors">all_executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col1 ref" href="#808" title='executors' data-ref="191executors">executors</a>);</td></tr>
<tr><th id="849">849</th><td>    <a class="local col5 ref" href="#185device_handles" title='device_handles' data-ref="185device_handles">device_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEET_SE_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEET_SE_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col5 ref" href="#185device_handles" title='device_handles' data-ref="185device_handles">device_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(),</td></tr>
<tr><th id="850">850</th><td>                          <a class="local col0 ref" href="#190execution_options" title='execution_options' data-ref="190execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::begin' data-ref="_ZNK6google8protobuf16RepeatedPtrField5beginEv">begin</span>(),</td></tr>
<tr><th id="851">851</th><td>                          <a class="local col0 ref" href="#190execution_options" title='execution_options' data-ref="190execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::end' data-ref="_ZNK6google8protobuf16RepeatedPtrField3endEv">end</span>());</td></tr>
<tr><th id="852">852</th><td>  }</td></tr>
<tr><th id="853">853</th><td></td></tr>
<tr><th id="854">854</th><td>  <i>// Build the user computations into HloModules and compile to generate the</i></td></tr>
<tr><th id="855">855</th><td><i>  // executables.</i></td></tr>
<tr><th id="856">856</th><td><i>  //</i></td></tr>
<tr><th id="857">857</th><td><i>  // TODO(jlebar): There's currently no way to pass a device allocator to</i></td></tr>
<tr><th id="858">858</th><td><i>  // ExecuteParallel, so we have to pass a null device_allocator below.</i></td></tr>
<tr><th id="859">859</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value69 = (BuildExecutables(versioned_handles, std::move(module_configs), execute_backend_.get(), all_executors, nullptr)); if ((__builtin_expect(!_status_or_value69.ok(), 0))) { return _status_or_value69.status(); } std::vector&lt;std::unique_ptr&lt;Executable&gt;&gt; executables = std::move(_status_or_value69.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="860">860</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <dfn class="local col8 decl" id="198executables" title='executables' data-type='std::vector&lt;std::unique_ptr&lt;Executable&gt; &gt;' data-ref="198executables">executables</dfn>,</td></tr>
<tr><th id="861">861</th><td>      <a class="member" href="#_ZN3xla7Service16BuildExecutablesESt6vectorINS_26VersionedComputationHandleESaIS2_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS6_EESa337873" title='xla::Service::BuildExecutables' data-ref="_ZN3xla7Service16BuildExecutablesESt6vectorINS_26VersionedComputationHandleESaIS2_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS6_EESa337873">BuildExecutables</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="local col2 ref" href="#182versioned_handles" title='versioned_handles' data-ref="182versioned_handles">versioned_handles</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#183module_configs" title='module_configs' data-ref="183module_configs">module_configs</a></span>),</td></tr>
<tr><th id="862">862</th><td>                       <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="local col1 ref" href="#181all_executors" title='all_executors' data-ref="181all_executors">all_executors</a>,</td></tr>
<tr><th id="863">863</th><td>                       <i>/*device_allocator=*/</i><b>nullptr</b>));</td></tr>
<tr><th id="864">864</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col9 decl" id="199executable_ptrs" title='executable_ptrs' data-type='std::vector&lt;Executable *&gt;' data-ref="199executable_ptrs">executable_ptrs</dfn>;</td></tr>
<tr><th id="865">865</th><td>  <a class="local col9 ref" href="#199executable_ptrs" title='executable_ptrs' data-ref="199executable_ptrs">executable_ptrs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector7reserveEm" title='std::vector::reserve' data-ref="_ZNSt6vector7reserveEm">reserve</a>(<a class="local col8 ref" href="#859" title='executables' data-ref="198executables">executables</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="866">866</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col0 decl" id="200executable" title='executable' data-type='const std::unique_ptr&lt;xla::Executable, std::default_delete&lt;xla::Executable&gt; &gt; &amp;' data-ref="200executable">executable</dfn> : <a class="local col8 ref" href="#859" title='executables' data-ref="198executables">executables</a>) {</td></tr>
<tr><th id="867">867</th><td>    <a class="local col9 ref" href="#199executable_ptrs" title='executable_ptrs' data-ref="199executable_ptrs">executable_ptrs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<a class="local col0 ref" href="#200executable" title='executable' data-ref="200executable">executable</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="868">868</th><td>  }</td></tr>
<tr><th id="869">869</th><td></td></tr>
<tr><th id="870">870</th><td>  <i>// Execute the generated executables in parallel and return the device</i></td></tr>
<tr><th id="871">871</th><td><i>  // handles for each computation's output.</i></td></tr>
<tr><th id="872">872</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileC1Ev" title='xla::ExecutionProfile::ExecutionProfile' data-ref="_ZN3xla16ExecutionProfileC1Ev"></a><dfn class="local col1 decl" id="201profile" title='profile' data-type='xla::ExecutionProfile' data-ref="201profile">profile</dfn>;</td></tr>
<tr><th id="873">873</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value71 = (ExecuteParallelAndRegisterResult(executable_ptrs, all_arguments, execute_backend_.get(), device_handles, computation_names, &amp;profile)); if ((__builtin_expect(!_status_or_value71.ok(), 0))) { return _status_or_value71.status(); } std::vector&lt;GlobalDataHandle&gt; outputs = std::move(_status_or_value71.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="874">874</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt; <dfn class="local col2 decl" id="202outputs" title='outputs' data-type='std::vector&lt;GlobalDataHandle&gt;' data-ref="202outputs">outputs</dfn>,</td></tr>
<tr><th id="875">875</th><td>      <a class="member" href="#_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253" title='xla::Service::ExecuteParallelAndRegisterResult' data-ref="_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253">ExecuteParallelAndRegisterResult</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col9 ref" href="#199executable_ptrs" title='executable_ptrs' data-ref="199executable_ptrs">executable_ptrs</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col0 ref" href="#180all_arguments" title='all_arguments' data-ref="180all_arguments">all_arguments</a>,</td></tr>
<tr><th id="876">876</th><td>                                       <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col5 ref" href="#185device_handles" title='device_handles' data-ref="185device_handles">device_handles</a>,</td></tr>
<tr><th id="877">877</th><td>                                       <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#184computation_names" title='computation_names' data-ref="184computation_names">computation_names</a>, &amp;<a class="local col1 ref" href="#201profile" title='profile' data-ref="201profile">profile</a>));</td></tr>
<tr><th id="878">878</th><td>  <b>for</b> (<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&amp; <dfn class="local col3 decl" id="203output" title='output' data-type='const xla::GlobalDataHandle &amp;' data-ref="203output">output</dfn> : <a class="local col2 ref" href="#873" title='outputs' data-ref="202outputs">outputs</a>) {</td></tr>
<tr><th id="879">879</th><td>    <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseC1Ev" title='xla::ExecuteResponse::ExecuteResponse' data-ref="_ZN3xla15ExecuteResponseC1Ev"></a><dfn class="local col4 decl" id="204response" title='response' data-type='xla::ExecuteResponse' data-ref="204response">response</dfn>;</td></tr>
<tr><th id="880">880</th><td>    *<a class="local col4 ref" href="#204response" title='response' data-ref="204response">response</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse14mutable_outputEv" title='xla::ExecuteResponse::mutable_output' data-ref="_ZN3xla15ExecuteResponse14mutable_outputEv">mutable_output</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16GlobalDataHandleaSERKS0_" title='xla::GlobalDataHandle::operator=' data-ref="_ZN3xla16GlobalDataHandleaSERKS0_">=</a> <a class="local col3 ref" href="#203output" title='output' data-ref="203output">output</a>;</td></tr>
<tr><th id="881">881</th><td>    *<a class="local col4 ref" href="#204response" title='response' data-ref="204response">response</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse15mutable_profileEv" title='xla::ExecuteResponse::mutable_profile' data-ref="_ZN3xla15ExecuteResponse15mutable_profileEv">mutable_profile</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileaSERKS0_" title='xla::ExecutionProfile::operator=' data-ref="_ZN3xla16ExecutionProfileaSERKS0_">=</a> <a class="local col1 ref" href="#201profile" title='profile' data-ref="201profile">profile</a>;</td></tr>
<tr><th id="882">882</th><td>    *<a class="local col9 ref" href="#179result" title='result' data-ref="179result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla23ExecuteParallelResponse13add_responsesEv" title='xla::ExecuteParallelResponse::add_responses' data-ref="_ZN3xla23ExecuteParallelResponse13add_responsesEv">add_responses</a>() <a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseaSERKS0_" title='xla::ExecuteResponse::operator=' data-ref="_ZN3xla15ExecuteResponseaSERKS0_">=</a> <a class="local col4 ref" href="#204response" title='response' data-ref="204response">response</a>;</td></tr>
<tr><th id="883">883</th><td>  }</td></tr>
<tr><th id="884">884</th><td></td></tr>
<tr><th id="885">885</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 885, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'execute-parallel' request"</q>;</td></tr>
<tr><th id="886">886</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="887">887</th><td>}</td></tr>
<tr><th id="888">888</th><td></td></tr>
<tr><th id="889">889</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service20ExecuteGraphParallelEPKNS_27ExecuteGraphParallelRequestEPNS_23ExecuteParallelResponseE" title='xla::Service::ExecuteGraphParallel' data-ref="_ZN3xla7Service20ExecuteGraphParallelEPKNS_27ExecuteGraphParallelRequestEPNS_23ExecuteParallelResponseE">ExecuteGraphParallel</dfn>(</td></tr>
<tr><th id="890">890</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphParallelRequest" title='xla::ExecuteGraphParallelRequest' data-ref="xla::ExecuteGraphParallelRequest">ExecuteGraphParallelRequest</a>* <dfn class="local col5 decl" id="205arg" title='arg' data-type='const xla::ExecuteGraphParallelRequest *' data-ref="205arg">arg</dfn>, <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelResponse" title='xla::ExecuteParallelResponse' data-ref="xla::ExecuteParallelResponse">ExecuteParallelResponse</a>* <dfn class="local col6 decl" id="206result" title='result' data-type='xla::ExecuteParallelResponse *' data-ref="206result">result</dfn>) {</td></tr>
<tr><th id="891">891</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 891, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"running execute-graph-parallel request"</q>;</td></tr>
<tr><th id="892">892</th><td></td></tr>
<tr><th id="893">893</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col7 decl" id="207all_arguments" title='all_arguments' data-type='std::vector&lt;std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt; &gt;' data-ref="207all_arguments">all_arguments</dfn>;</td></tr>
<tr><th id="894">894</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col8 decl" id="208all_executors" title='all_executors' data-type='std::vector&lt;std::vector&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="208all_executors">all_executors</dfn>;</td></tr>
<tr><th id="895">895</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="hlo.pb.h.html#xla::HloModuleProto" title='xla::HloModuleProto' data-ref="xla::HloModuleProto">HloModuleProto</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col9 decl" id="209module_protos" title='module_protos' data-type='std::vector&lt;const HloModuleProto *&gt;' data-ref="209module_protos">module_protos</dfn>;</td></tr>
<tr><th id="896">896</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="210module_configs" title='module_configs' data-type='std::vector&lt;std::unique_ptr&lt;HloModuleConfig&gt; &gt;' data-ref="210module_configs">module_configs</dfn>;</td></tr>
<tr><th id="897">897</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="211computation_names" title='computation_names' data-type='std::vector&lt;string&gt;' data-ref="211computation_names">computation_names</dfn>;</td></tr>
<tr><th id="898">898</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col2 decl" id="212device_handles" title='device_handles' data-type='std::vector&lt;DeviceHandle&gt;' data-ref="212device_handles">device_handles</dfn>;</td></tr>
<tr><th id="899">899</th><td></td></tr>
<tr><th id="900">900</th><td>  <em>int</em> <dfn class="local col3 decl" id="213num_requested_devices" title='num_requested_devices' data-type='int' data-ref="213num_requested_devices">num_requested_devices</dfn> =</td></tr>
<tr><th id="901">901</th><td>      <span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/stl_numeric.h.html#_ZSt10accumulateT_S_T0_T1_" title='std::accumulate' data-ref="_ZSt10accumulateT_S_T0_T1_">accumulate</a>(<a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest8requestsEv" title='xla::ExecuteGraphParallelRequest::requests' data-ref="_ZNK3xla27ExecuteGraphParallelRequest8requestsEv">requests</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::begin' data-ref="_ZNK6google8protobuf16RepeatedPtrField5beginEv">begin</span>(), <a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest8requestsEv" title='xla::ExecuteGraphParallelRequest::requests' data-ref="_ZNK3xla27ExecuteGraphParallelRequest8requestsEv">requests</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::end' data-ref="_ZNK6google8protobuf16RepeatedPtrField3endEv">end</span>(), <var>0</var>,</td></tr>
<tr><th id="902">902</th><td>                      [](<em>int</em> <dfn class="local col4 decl" id="214a" title='a' data-type='int' data-ref="214a">a</dfn>, <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphRequest" title='xla::ExecuteGraphRequest' data-ref="xla::ExecuteGraphRequest">ExecuteGraphRequest</a>&amp; <dfn class="local col5 decl" id="215r" title='r' data-type='const xla::ExecuteGraphRequest &amp;' data-ref="215r">r</dfn>) -&gt; <em>int</em> {</td></tr>
<tr><th id="903">903</th><td>                        <b>return</b> <a class="local col4 ref" href="#214a" title='a' data-ref="214a">a</a> + <a class="local col5 ref" href="#215r" title='r' data-ref="215r">r</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest17execution_optionsEv" title='xla::ExecuteGraphRequest::execution_options' data-ref="_ZNK3xla19ExecuteGraphRequest17execution_optionsEv">execution_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>();</td></tr>
<tr><th id="904">904</th><td>                      });</td></tr>
<tr><th id="905">905</th><td>  <b>if</b> (<a class="local col3 ref" href="#213num_requested_devices" title='num_requested_devices' data-ref="213num_requested_devices">num_requested_devices</a> * <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>() &gt;</td></tr>
<tr><th id="906">906</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>()) {</td></tr>
<tr><th id="907">907</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(</td></tr>
<tr><th id="908">908</th><td>        <q>"there are not enough stream executors to execute %d computations"</q>,</td></tr>
<tr><th id="909">909</th><td>        <a class="local col3 ref" href="#213num_requested_devices" title='num_requested_devices' data-ref="213num_requested_devices">num_requested_devices</a>);</td></tr>
<tr><th id="910">910</th><td>  }</td></tr>
<tr><th id="911">911</th><td></td></tr>
<tr><th id="912">912</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col6 decl" id="216i" title='i' data-type='int64' data-ref="216i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#216i" title='i' data-ref="216i">i</a> &lt; <a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest13requests_sizeEv" title='xla::ExecuteGraphParallelRequest::requests_size' data-ref="_ZNK3xla27ExecuteGraphParallelRequest13requests_sizeEv">requests_size</a>(); ++<a class="local col6 ref" href="#216i" title='i' data-ref="216i">i</a>) {</td></tr>
<tr><th id="913">913</th><td>    <i>// Get the stream executor for the i'th computation. This stream executor</i></td></tr>
<tr><th id="914">914</th><td><i>    // is one of the executors to run the replicated computation.</i></td></tr>
<tr><th id="915">915</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a>&amp; <dfn class="local col7 decl" id="217execution_options" title='execution_options' data-type='const xla::ExecutionOptions &amp;' data-ref="217execution_options">execution_options</dfn> =</td></tr>
<tr><th id="916">916</th><td>        <a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest8requestsEi" title='xla::ExecuteGraphParallelRequest::requests' data-ref="_ZNK3xla27ExecuteGraphParallelRequest8requestsEi">requests</a>(<a class="local col6 ref" href="#216i" title='i' data-ref="216i">i</a>).<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest17execution_optionsEv" title='xla::ExecuteGraphRequest::execution_options' data-ref="_ZNK3xla19ExecuteGraphRequest17execution_optionsEv">execution_options</a>();</td></tr>
<tr><th id="917">917</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphRequest" title='xla::ExecuteGraphRequest' data-ref="xla::ExecuteGraphRequest">ExecuteGraphRequest</a>&amp; <dfn class="local col8 decl" id="218request" title='request' data-type='const xla::ExecuteGraphRequest &amp;' data-ref="218request">request</dfn> = <a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest8requestsEi" title='xla::ExecuteGraphParallelRequest::requests' data-ref="_ZNK3xla27ExecuteGraphParallelRequest8requestsEi">requests</a>(<a class="local col6 ref" href="#216i" title='i' data-ref="216i">i</a>);</td></tr>
<tr><th id="918">918</th><td>    <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(request.has_computation()), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 918, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;request.has_computation()&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(<a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest15has_computationEv" title='xla::ExecuteGraphRequest::has_computation' data-ref="_ZNK3xla19ExecuteGraphRequest15has_computationEv">has_computation</a>()) <a class="ref" href="../status_macros.h.html#_ZN3xla13status_macros15MakeErrorStream25MakeErrorStreamWithOutputlsERKT_" title='xla::status_macros::MakeErrorStream::MakeErrorStreamWithOutput::operator&lt;&lt;' data-ref="_ZN3xla13status_macros15MakeErrorStream25MakeErrorStreamWithOutputlsERKT_">&lt;&lt;</a> <q>"computations may not be empty"</q>;</td></tr>
<tr><th id="919">919</th><td>    <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(request.computation().has_program_shape()), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 919, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;request.computation().has_program_shape()&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(<a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto17has_program_shapeEv" title='xla::HloModuleProto::has_program_shape' data-ref="_ZNK3xla14HloModuleProto17has_program_shapeEv">has_program_shape</a>())</td></tr>
<tr><th id="920">920</th><td>        <a class="ref" href="../status_macros.h.html#_ZN3xla13status_macros15MakeErrorStream25MakeErrorStreamWithOutputlsERKT_" title='xla::status_macros::MakeErrorStream::MakeErrorStreamWithOutput::operator&lt;&lt;' data-ref="_ZN3xla13status_macros15MakeErrorStream25MakeErrorStreamWithOutputlsERKT_">&lt;&lt;</a> <q>"programe shape may not be empty"</q>;</td></tr>
<tr><th id="921">921</th><td></td></tr>
<tr><th id="922">922</th><td>    <i>// Get the executors.</i></td></tr>
<tr><th id="923">923</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value73 = (GetExecutors(execution_options, arg-&gt;requests_size(), i)); if ((__builtin_expect(!_status_or_value73.ok(), 0))) { return _status_or_value73.status(); } auto executors = std::move(_status_or_value73.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col9 decl" id="219executors" title='executors' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="219executors">executors</dfn>, <a class="member" href="#_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx" title='xla::Service::GetExecutors' data-ref="_ZNK3xla7Service12GetExecutorsERKNS_16ExecutionOptionsExx">GetExecutors</a>(<a class="local col7 ref" href="#217execution_options" title='execution_options' data-ref="217execution_options">execution_options</a>,</td></tr>
<tr><th id="924">924</th><td>                                                     <a class="local col5 ref" href="#205arg" title='arg' data-ref="205arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla27ExecuteGraphParallelRequest13requests_sizeEv" title='xla::ExecuteGraphParallelRequest::requests_size' data-ref="_ZNK3xla27ExecuteGraphParallelRequest13requests_sizeEv">requests_size</a>(), <a class="local col6 ref" href="#216i" title='i' data-ref="216i">i</a>));</td></tr>
<tr><th id="925">925</th><td></td></tr>
<tr><th id="926">926</th><td>    <i>// Get the replicated arguments.</i></td></tr>
<tr><th id="927">927</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value75 = (GetArguments(execution_options, request.arguments())); if ((__builtin_expect(!_status_or_value75.ok(), 0))) { return _status_or_value75.status(); } auto replicated_arguments = std::move(_status_or_value75.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col0 decl" id="220replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt;, std::allocator&lt;std::vector&lt;const xla::ShapedBuffer *, std::allocator&lt;const xla::ShapedBuffer *&gt; &gt; &gt; &gt;' data-ref="220replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="928">928</th><td>                        <a class="member" href="#_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE" title='xla::Service::GetArguments' data-ref="_ZN3xla7Service12GetArgumentsERKNS_16ExecutionOptionsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEE">GetArguments</a>(<a class="local col7 ref" href="#217execution_options" title='execution_options' data-ref="217execution_options">execution_options</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest9argumentsEv" title='xla::ExecuteGraphRequest::arguments' data-ref="_ZNK3xla19ExecuteGraphRequest9argumentsEv">arguments</a>()));</td></tr>
<tr><th id="929">929</th><td></td></tr>
<tr><th id="930">930</th><td>    <i>// Create an HloModuleConfig object for the computation, given the shape of</i></td></tr>
<tr><th id="931">931</th><td><i>    // the program and the argument allocations. Here, we care only about the</i></td></tr>
<tr><th id="932">932</th><td><i>    // shapes of the arguments, so, it is sufficient to use the arguments of</i></td></tr>
<tr><th id="933">933</th><td><i>    // replica 0.</i></td></tr>
<tr><th id="934">934</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value77 = (CreateModuleConfig(request.computation().program_shape(), replicated_arguments.front(), request.execution_options(), nullptr)); if ((__builtin_expect(!_status_or_value77.ok(), 0))) { return _status_or_value77.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value77.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="935">935</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col1 decl" id="221module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="221module_config">module_config</dfn>,</td></tr>
<tr><th id="936">936</th><td>        <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto13program_shapeEv" title='xla::HloModuleProto::program_shape' data-ref="_ZNK3xla14HloModuleProto13program_shapeEv">program_shape</a>(),</td></tr>
<tr><th id="937">937</th><td>                           <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col0 ref" href="#927" title='replicated_arguments' data-ref="220replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="938">938</th><td>                           <a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest17execution_optionsEv" title='xla::ExecuteGraphRequest::execution_options' data-ref="_ZNK3xla19ExecuteGraphRequest17execution_optionsEv">execution_options</a>(),</td></tr>
<tr><th id="939">939</th><td>                           <i>/*user_computation=*/</i><b>nullptr</b>));</td></tr>
<tr><th id="940">940</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((3) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 940, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>3</var>)</td></tr>
<tr><th id="941">941</th><td>        <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"ExecuteGraphParallel created HloModuleConfig computation layout: "</q></td></tr>
<tr><th id="942">942</th><td>        <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col1 ref" href="#934" title='module_config' data-ref="221module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig24entry_computation_layoutEv" title='xla::HloModuleConfig::entry_computation_layout' data-ref="_ZNK3xla15HloModuleConfig24entry_computation_layoutEv">entry_computation_layout</a>().<a class="ref" href="computation_layout.h.html#_ZNK3xla17ComputationLayout8ToStringEv" title='xla::ComputationLayout::ToString' data-ref="_ZNK3xla17ComputationLayout8ToStringEv">ToString</a>();</td></tr>
<tr><th id="943">943</th><td></td></tr>
<tr><th id="944">944</th><td>    <i>// Adds to the vectors to build and execute the computations after the loop.</i></td></tr>
<tr><th id="945">945</th><td>    <a class="local col7 ref" href="#207all_arguments" title='all_arguments' data-ref="207all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col0 ref" href="#927" title='replicated_arguments' data-ref="220replicated_arguments">replicated_arguments</a>);</td></tr>
<tr><th id="946">946</th><td>    <a class="local col7 ref" href="#207all_arguments" title='all_arguments' data-ref="207all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col7 ref" href="#207all_arguments" title='all_arguments' data-ref="207all_arguments">all_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <a class="local col9 ref" href="#923" title='executors' data-ref="219executors">executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() - <var>1</var>, <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_"></a>{<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev">{</a>}});</td></tr>
<tr><th id="947">947</th><td>    <a class="local col9 ref" href="#209module_protos" title='module_protos' data-ref="209module_protos">module_protos</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(&amp;<a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>());</td></tr>
<tr><th id="948">948</th><td>    <a class="local col0 ref" href="#210module_configs" title='module_configs' data-ref="210module_configs">module_configs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#934" title='module_config' data-ref="221module_config">module_config</a></span>));</td></tr>
<tr><th id="949">949</th><td>    <a class="local col1 ref" href="#211computation_names" title='computation_names' data-ref="211computation_names">computation_names</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEEmRKS4_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col1 ref" href="#211computation_names" title='computation_names' data-ref="211computation_names">computation_names</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <a class="local col9 ref" href="#923" title='executors' data-ref="219executors">executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(),</td></tr>
<tr><th id="950">950</th><td>                             <a class="local col8 ref" href="#218request" title='request' data-ref="218request">request</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto4nameEv" title='xla::HloModuleProto::name' data-ref="_ZNK3xla14HloModuleProto4nameEv">name</a>());</td></tr>
<tr><th id="951">951</th><td>    <a class="local col8 ref" href="#208all_executors" title='all_executors' data-ref="208all_executors">all_executors</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col9 ref" href="#923" title='executors' data-ref="219executors">executors</a>);</td></tr>
<tr><th id="952">952</th><td>    <a class="local col2 ref" href="#212device_handles" title='device_handles' data-ref="212device_handles">device_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEET_SE_" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeEE13const_pointerESt6vectorIS4_S5_EEET_SE_">insert</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col2 ref" href="#212device_handles" title='device_handles' data-ref="212device_handles">device_handles</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(),</td></tr>
<tr><th id="953">953</th><td>                          <a class="local col7 ref" href="#217execution_options" title='execution_options' data-ref="217execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::begin' data-ref="_ZNK6google8protobuf16RepeatedPtrField5beginEv">begin</span>(),</td></tr>
<tr><th id="954">954</th><td>                          <a class="local col7 ref" href="#217execution_options" title='execution_options' data-ref="217execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions14device_handlesEv" title='xla::ExecutionOptions::device_handles' data-ref="_ZNK3xla16ExecutionOptions14device_handlesEv">device_handles</a>().<span class='ref' title='google::protobuf::RepeatedPtrField::end' data-ref="_ZNK6google8protobuf16RepeatedPtrField3endEv">end</span>());</td></tr>
<tr><th id="955">955</th><td>  }</td></tr>
<tr><th id="956">956</th><td></td></tr>
<tr><th id="957">957</th><td>  <i>// Build the HloModules and compile to generate the executables.</i></td></tr>
<tr><th id="958">958</th><td><i>  //</i></td></tr>
<tr><th id="959">959</th><td><i>  // TODO(jlebar): There's currently no way to pass a device allocator to</i></td></tr>
<tr><th id="960">960</th><td><i>  // ExecuteGraphParallel, so we have to pass a null device_allocator below.</i></td></tr>
<tr><th id="961">961</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value79 = (BuildExecutables(module_protos, std::move(module_configs), execute_backend_.get(), all_executors, nullptr)); if ((__builtin_expect(!_status_or_value79.ok(), 0))) { return _status_or_value79.status(); } std::vector&lt;std::unique_ptr&lt;Executable&gt;&gt; executables = std::move(_status_or_value79.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <dfn class="local col2 decl" id="222executables" title='executables' data-type='std::vector&lt;std::unique_ptr&lt;Executable&gt; &gt;' data-ref="222executables">executables</dfn>,</td></tr>
<tr><th id="962">962</th><td>                      <a class="member" href="#_ZN3xla7Service16BuildExecutablesERKSt6vectorIPKNS_14HloModuleProtoESaIS4_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteISA_EESaISD_EEPN5384957" title='xla::Service::BuildExecutables' data-ref="_ZN3xla7Service16BuildExecutablesERKSt6vectorIPKNS_14HloModuleProtoESaIS4_EES1_ISt10unique_ptrINS_15HloModuleConfigESt14default_deleteISA_EESaISD_EEPN5384957">BuildExecutables</a>(<a class="local col9 ref" href="#209module_protos" title='module_protos' data-ref="209module_protos">module_protos</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col0 ref" href="#210module_configs" title='module_configs' data-ref="210module_configs">module_configs</a></span>),</td></tr>
<tr><th id="963">963</th><td>                                       <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="local col8 ref" href="#208all_executors" title='all_executors' data-ref="208all_executors">all_executors</a>,</td></tr>
<tr><th id="964">964</th><td>                                       <i>/*device_allocator=*/</i><b>nullptr</b>));</td></tr>
<tr><th id="965">965</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col3 decl" id="223executable_ptrs" title='executable_ptrs' data-type='std::vector&lt;Executable *&gt;' data-ref="223executable_ptrs">executable_ptrs</dfn>;</td></tr>
<tr><th id="966">966</th><td>  <a class="local col3 ref" href="#223executable_ptrs" title='executable_ptrs' data-ref="223executable_ptrs">executable_ptrs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector7reserveEm" title='std::vector::reserve' data-ref="_ZNSt6vector7reserveEm">reserve</a>(<a class="local col2 ref" href="#961" title='executables' data-ref="222executables">executables</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="967">967</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col4 decl" id="224executable" title='executable' data-type='const std::unique_ptr&lt;xla::Executable, std::default_delete&lt;xla::Executable&gt; &gt; &amp;' data-ref="224executable">executable</dfn> : <a class="local col2 ref" href="#961" title='executables' data-ref="222executables">executables</a>) {</td></tr>
<tr><th id="968">968</th><td>    <a class="local col3 ref" href="#223executable_ptrs" title='executable_ptrs' data-ref="223executable_ptrs">executable_ptrs</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<a class="local col4 ref" href="#224executable" title='executable' data-ref="224executable">executable</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="969">969</th><td>  }</td></tr>
<tr><th id="970">970</th><td></td></tr>
<tr><th id="971">971</th><td>  <i>// Execute the generated executables in parallel and return the device</i></td></tr>
<tr><th id="972">972</th><td><i>  // handles for each computation's output.</i></td></tr>
<tr><th id="973">973</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileC1Ev" title='xla::ExecutionProfile::ExecutionProfile' data-ref="_ZN3xla16ExecutionProfileC1Ev"></a><dfn class="local col5 decl" id="225profile" title='profile' data-type='xla::ExecutionProfile' data-ref="225profile">profile</dfn>;</td></tr>
<tr><th id="974">974</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value81 = (ExecuteParallelAndRegisterResult(executable_ptrs, all_arguments, execute_backend_.get(), device_handles, computation_names, &amp;profile)); if ((__builtin_expect(!_status_or_value81.ok(), 0))) { return _status_or_value81.status(); } std::vector&lt;GlobalDataHandle&gt; outputs = std::move(_status_or_value81.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="975">975</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&gt; <dfn class="local col6 decl" id="226outputs" title='outputs' data-type='std::vector&lt;GlobalDataHandle&gt;' data-ref="226outputs">outputs</dfn>,</td></tr>
<tr><th id="976">976</th><td>      <a class="member" href="#_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253" title='xla::Service::ExecuteParallelAndRegisterResult' data-ref="_ZN3xla7Service32ExecuteParallelAndRegisterResultEN10tensorflow3gtl10ArraySliceIPNS_10ExecutableEEENS3_ISt6vectorIS7_IPKNS_12ShapedBufferESaISA_EESaIS14271253">ExecuteParallelAndRegisterResult</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col3 ref" href="#223executable_ptrs" title='executable_ptrs' data-ref="223executable_ptrs">executable_ptrs</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#207all_arguments" title='all_arguments' data-ref="207all_arguments">all_arguments</a>,</td></tr>
<tr><th id="977">977</th><td>                                       <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col2 ref" href="#212device_handles" title='device_handles' data-ref="212device_handles">device_handles</a>,</td></tr>
<tr><th id="978">978</th><td>                                       <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col1 ref" href="#211computation_names" title='computation_names' data-ref="211computation_names">computation_names</a>, &amp;<a class="local col5 ref" href="#225profile" title='profile' data-ref="225profile">profile</a>));</td></tr>
<tr><th id="979">979</th><td>  <b>for</b> (<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a>&amp; <dfn class="local col7 decl" id="227output" title='output' data-type='const xla::GlobalDataHandle &amp;' data-ref="227output">output</dfn> : <a class="local col6 ref" href="#974" title='outputs' data-ref="226outputs">outputs</a>) {</td></tr>
<tr><th id="980">980</th><td>    <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseC1Ev" title='xla::ExecuteResponse::ExecuteResponse' data-ref="_ZN3xla15ExecuteResponseC1Ev"></a><dfn class="local col8 decl" id="228response" title='response' data-type='xla::ExecuteResponse' data-ref="228response">response</dfn>;</td></tr>
<tr><th id="981">981</th><td>    *<a class="local col8 ref" href="#228response" title='response' data-ref="228response">response</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse14mutable_outputEv" title='xla::ExecuteResponse::mutable_output' data-ref="_ZN3xla15ExecuteResponse14mutable_outputEv">mutable_output</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16GlobalDataHandleaSERKS0_" title='xla::GlobalDataHandle::operator=' data-ref="_ZN3xla16GlobalDataHandleaSERKS0_">=</a> <a class="local col7 ref" href="#227output" title='output' data-ref="227output">output</a>;</td></tr>
<tr><th id="982">982</th><td>    *<a class="local col8 ref" href="#228response" title='response' data-ref="228response">response</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse15mutable_profileEv" title='xla::ExecuteResponse::mutable_profile' data-ref="_ZN3xla15ExecuteResponse15mutable_profileEv">mutable_profile</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileaSERKS0_" title='xla::ExecutionProfile::operator=' data-ref="_ZN3xla16ExecutionProfileaSERKS0_">=</a> <a class="local col5 ref" href="#225profile" title='profile' data-ref="225profile">profile</a>;</td></tr>
<tr><th id="983">983</th><td>    *<a class="local col6 ref" href="#206result" title='result' data-ref="206result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla23ExecuteParallelResponse13add_responsesEv" title='xla::ExecuteParallelResponse::add_responses' data-ref="_ZN3xla23ExecuteParallelResponse13add_responsesEv">add_responses</a>() <a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseaSERKS0_" title='xla::ExecuteResponse::operator=' data-ref="_ZN3xla15ExecuteResponseaSERKS0_">=</a> <a class="local col8 ref" href="#228response" title='response' data-ref="228response">response</a>;</td></tr>
<tr><th id="984">984</th><td>  }</td></tr>
<tr><th id="985">985</th><td></td></tr>
<tr><th id="986">986</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 986, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'execute-graph-parallel' request"</q>;</td></tr>
<tr><th id="987">987</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="988">988</th><td>}</td></tr>
<tr><th id="989">989</th><td></td></tr>
<tr><th id="990">990</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16GetDeviceHandlesEPKNS_23GetDeviceHandlesRequestEPNS_24GetDeviceHandlesResponseE" title='xla::Service::GetDeviceHandles' data-ref="_ZN3xla7Service16GetDeviceHandlesEPKNS_23GetDeviceHandlesRequestEPNS_24GetDeviceHandlesResponseE">GetDeviceHandles</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::GetDeviceHandlesRequest" title='xla::GetDeviceHandlesRequest' data-ref="xla::GetDeviceHandlesRequest">GetDeviceHandlesRequest</a>* <dfn class="local col9 decl" id="229arg" title='arg' data-type='const xla::GetDeviceHandlesRequest *' data-ref="229arg">arg</dfn>,</td></tr>
<tr><th id="991">991</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::GetDeviceHandlesResponse" title='xla::GetDeviceHandlesResponse' data-ref="xla::GetDeviceHandlesResponse">GetDeviceHandlesResponse</a>* <dfn class="local col0 decl" id="230result" title='result' data-type='xla::GetDeviceHandlesResponse *' data-ref="230result">result</dfn>) {</td></tr>
<tr><th id="992">992</th><td>  <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col1 decl" id="231available_device_count" title='available_device_count' data-type='const int64' data-ref="231available_device_count">available_device_count</dfn> = <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend12device_countEv" title='xla::Backend::device_count' data-ref="_ZNK3xla7Backend12device_countEv">device_count</a>();</td></tr>
<tr><th id="993">993</th><td>  <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col2 decl" id="232replica_count" title='replica_count' data-type='const int64' data-ref="232replica_count">replica_count</dfn> = <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>();</td></tr>
<tr><th id="994">994</th><td>  <b>if</b> (<a class="local col2 ref" href="#232replica_count" title='replica_count' data-ref="232replica_count">replica_count</a> &lt;= <var>0</var>) {</td></tr>
<tr><th id="995">995</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(<q>"Replica count must be a positive integer"</q>);</td></tr>
<tr><th id="996">996</th><td>  }</td></tr>
<tr><th id="997">997</th><td>  <b>if</b> (<a class="local col1 ref" href="#231available_device_count" title='available_device_count' data-ref="231available_device_count">available_device_count</a> &lt; <a class="local col9 ref" href="#229arg" title='arg' data-ref="229arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23GetDeviceHandlesRequest12device_countEv" title='xla::GetDeviceHandlesRequest::device_count' data-ref="_ZNK3xla23GetDeviceHandlesRequest12device_countEv">device_count</a>() * <a class="local col2 ref" href="#232replica_count" title='replica_count' data-ref="232replica_count">replica_count</a>) {</td></tr>
<tr><th id="998">998</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla17ResourceExhaustedEPKcz" title='xla::ResourceExhausted' data-ref="_ZN3xla17ResourceExhaustedEPKcz">ResourceExhausted</a>(</td></tr>
<tr><th id="999">999</th><td>        <q>"Requested device count (%lld) exceeds the number of available devices "</q></td></tr>
<tr><th id="1000">1000</th><td>        <q>"on the target (%lld)"</q>,</td></tr>
<tr><th id="1001">1001</th><td>        <a class="local col9 ref" href="#229arg" title='arg' data-ref="229arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23GetDeviceHandlesRequest12device_countEv" title='xla::GetDeviceHandlesRequest::device_count' data-ref="_ZNK3xla23GetDeviceHandlesRequest12device_countEv">device_count</a>(), <a class="local col1 ref" href="#231available_device_count" title='available_device_count' data-ref="231available_device_count">available_device_count</a>);</td></tr>
<tr><th id="1002">1002</th><td>  }</td></tr>
<tr><th id="1003">1003</th><td></td></tr>
<tr><th id="1004">1004</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="233i" title='i' data-type='int64' data-ref="233i">i</dfn> = <var>0</var>; <a class="local col3 ref" href="#233i" title='i' data-ref="233i">i</a> &lt; <a class="local col9 ref" href="#229arg" title='arg' data-ref="229arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23GetDeviceHandlesRequest12device_countEv" title='xla::GetDeviceHandlesRequest::device_count' data-ref="_ZNK3xla23GetDeviceHandlesRequest12device_countEv">device_count</a>(); ++<a class="local col3 ref" href="#233i" title='i' data-ref="233i">i</a>) {</td></tr>
<tr><th id="1005">1005</th><td>    <a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandleC1Ev" title='xla::DeviceHandle::DeviceHandle' data-ref="_ZN3xla12DeviceHandleC1Ev"></a><dfn class="local col4 decl" id="234device_handle" title='device_handle' data-type='xla::DeviceHandle' data-ref="234device_handle">device_handle</dfn>;</td></tr>
<tr><th id="1006">1006</th><td>    <a class="local col4 ref" href="#234device_handle" title='device_handle' data-ref="234device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandle10set_handleEl" title='xla::DeviceHandle::set_handle' data-ref="_ZN3xla12DeviceHandle10set_handleEl">set_handle</a>(<a class="local col3 ref" href="#233i" title='i' data-ref="233i">i</a>);</td></tr>
<tr><th id="1007">1007</th><td>    <a class="local col4 ref" href="#234device_handle" title='device_handle' data-ref="234device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandle16set_device_countEl" title='xla::DeviceHandle::set_device_count' data-ref="_ZN3xla12DeviceHandle16set_device_countEl">set_device_count</a>(<a class="local col9 ref" href="#229arg" title='arg' data-ref="229arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23GetDeviceHandlesRequest12device_countEv" title='xla::GetDeviceHandlesRequest::device_count' data-ref="_ZNK3xla23GetDeviceHandlesRequest12device_countEv">device_count</a>());</td></tr>
<tr><th id="1008">1008</th><td>    *<a class="local col0 ref" href="#230result" title='result' data-ref="230result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24GetDeviceHandlesResponse18add_device_handlesEv" title='xla::GetDeviceHandlesResponse::add_device_handles' data-ref="_ZN3xla24GetDeviceHandlesResponse18add_device_handlesEv">add_device_handles</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandleaSERKS0_" title='xla::DeviceHandle::operator=' data-ref="_ZN3xla12DeviceHandleaSERKS0_">=</a> <a class="local col4 ref" href="#234device_handle" title='device_handle' data-ref="234device_handle">device_handle</a>;</td></tr>
<tr><th id="1009">1009</th><td>  }</td></tr>
<tr><th id="1010">1010</th><td></td></tr>
<tr><th id="1011">1011</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1012">1012</th><td>}</td></tr>
<tr><th id="1013">1013</th><td></td></tr>
<tr><th id="1014">1014</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service13ExecuteOneToNEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE" title='xla::Service::ExecuteOneToN' data-ref="_ZN3xla7Service13ExecuteOneToNEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE">ExecuteOneToN</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteRequest" title='xla::ExecuteRequest' data-ref="xla::ExecuteRequest">ExecuteRequest</a>* <dfn class="local col5 decl" id="235arg" title='arg' data-type='const xla::ExecuteRequest *' data-ref="235arg">arg</dfn>,</td></tr>
<tr><th id="1015">1015</th><td>                                          <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a>* <dfn class="local col6 decl" id="236result" title='result' data-type='xla::ExecuteResponse *' data-ref="236result">result</dfn>) {</td></tr>
<tr><th id="1016">1016</th><td>  <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelRequest" title='xla::ExecuteParallelRequest' data-ref="xla::ExecuteParallelRequest">ExecuteParallelRequest</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla22ExecuteParallelRequestC1Ev" title='xla::ExecuteParallelRequest::ExecuteParallelRequest' data-ref="_ZN3xla22ExecuteParallelRequestC1Ev"></a><dfn class="local col7 decl" id="237parallel_arg" title='parallel_arg' data-type='xla::ExecuteParallelRequest' data-ref="237parallel_arg">parallel_arg</dfn>;</td></tr>
<tr><th id="1017">1017</th><td>  *<a class="local col7 ref" href="#237parallel_arg" title='parallel_arg' data-ref="237parallel_arg">parallel_arg</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla22ExecuteParallelRequest12add_requestsEv" title='xla::ExecuteParallelRequest::add_requests' data-ref="_ZN3xla22ExecuteParallelRequest12add_requestsEv">add_requests</a>() <a class="ref" href="../xla.pb.h.html#_ZN3xla14ExecuteRequestaSERKS0_" title='xla::ExecuteRequest::operator=' data-ref="_ZN3xla14ExecuteRequestaSERKS0_">=</a> *<a class="local col5 ref" href="#235arg" title='arg' data-ref="235arg">arg</a>;</td></tr>
<tr><th id="1018">1018</th><td>  <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelResponse" title='xla::ExecuteParallelResponse' data-ref="xla::ExecuteParallelResponse">ExecuteParallelResponse</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla23ExecuteParallelResponseC1Ev" title='xla::ExecuteParallelResponse::ExecuteParallelResponse' data-ref="_ZN3xla23ExecuteParallelResponseC1Ev"></a><dfn class="local col8 decl" id="238parallel_result" title='parallel_result' data-type='xla::ExecuteParallelResponse' data-ref="238parallel_result">parallel_result</dfn>;</td></tr>
<tr><th id="1019">1019</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (ExecuteParallel(&amp;parallel_arg, &amp;parallel_result)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="virtual member" href="#_ZN3xla7Service15ExecuteParallelEPKNS_22ExecuteParallelRequestEPNS_23ExecuteParallelResponseE" title='xla::Service::ExecuteParallel' data-ref="_ZN3xla7Service15ExecuteParallelEPKNS_22ExecuteParallelRequestEPNS_23ExecuteParallelResponseE">ExecuteParallel</a>(&amp;<a class="local col7 ref" href="#237parallel_arg" title='parallel_arg' data-ref="237parallel_arg">parallel_arg</a>, &amp;<a class="local col8 ref" href="#238parallel_result" title='parallel_result' data-ref="238parallel_result">parallel_result</a>));</td></tr>
<tr><th id="1020">1020</th><td>  <b>return</b> <a class="member" href="#_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE" title='xla::Service::PickParallelResponse' data-ref="_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE">PickParallelResponse</a>(<a class="local col8 ref" href="#238parallel_result" title='parallel_result' data-ref="238parallel_result">parallel_result</a>, <a class="local col6 ref" href="#236result" title='result' data-ref="236result">result</a>);</td></tr>
<tr><th id="1021">1021</th><td>}</td></tr>
<tr><th id="1022">1022</th><td></td></tr>
<tr><th id="1023">1023</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service13ExecuteOneToNEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE" title='xla::Service::ExecuteOneToN' data-ref="_ZN3xla7Service13ExecuteOneToNEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE">ExecuteOneToN</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphRequest" title='xla::ExecuteGraphRequest' data-ref="xla::ExecuteGraphRequest">ExecuteGraphRequest</a>* <dfn class="local col9 decl" id="239arg" title='arg' data-type='const xla::ExecuteGraphRequest *' data-ref="239arg">arg</dfn>,</td></tr>
<tr><th id="1024">1024</th><td>                                          <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a>* <dfn class="local col0 decl" id="240result" title='result' data-type='xla::ExecuteResponse *' data-ref="240result">result</dfn>) {</td></tr>
<tr><th id="1025">1025</th><td>  <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphParallelRequest" title='xla::ExecuteGraphParallelRequest' data-ref="xla::ExecuteGraphParallelRequest">ExecuteGraphParallelRequest</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla27ExecuteGraphParallelRequestC1Ev" title='xla::ExecuteGraphParallelRequest::ExecuteGraphParallelRequest' data-ref="_ZN3xla27ExecuteGraphParallelRequestC1Ev"></a><dfn class="local col1 decl" id="241parallel_arg" title='parallel_arg' data-type='xla::ExecuteGraphParallelRequest' data-ref="241parallel_arg">parallel_arg</dfn>;</td></tr>
<tr><th id="1026">1026</th><td>  *<a class="local col1 ref" href="#241parallel_arg" title='parallel_arg' data-ref="241parallel_arg">parallel_arg</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla27ExecuteGraphParallelRequest12add_requestsEv" title='xla::ExecuteGraphParallelRequest::add_requests' data-ref="_ZN3xla27ExecuteGraphParallelRequest12add_requestsEv">add_requests</a>() <a class="ref" href="../xla.pb.h.html#_ZN3xla19ExecuteGraphRequestaSERKS0_" title='xla::ExecuteGraphRequest::operator=' data-ref="_ZN3xla19ExecuteGraphRequestaSERKS0_">=</a> *<a class="local col9 ref" href="#239arg" title='arg' data-ref="239arg">arg</a>;</td></tr>
<tr><th id="1027">1027</th><td>  <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelResponse" title='xla::ExecuteParallelResponse' data-ref="xla::ExecuteParallelResponse">ExecuteParallelResponse</a> <a class="ref fake" href="../xla.pb.h.html#_ZN3xla23ExecuteParallelResponseC1Ev" title='xla::ExecuteParallelResponse::ExecuteParallelResponse' data-ref="_ZN3xla23ExecuteParallelResponseC1Ev"></a><dfn class="local col2 decl" id="242parallel_result" title='parallel_result' data-type='xla::ExecuteParallelResponse' data-ref="242parallel_result">parallel_result</dfn>;</td></tr>
<tr><th id="1028">1028</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (ExecuteGraphParallel(&amp;parallel_arg, &amp;parallel_result)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="virtual member" href="#_ZN3xla7Service20ExecuteGraphParallelEPKNS_27ExecuteGraphParallelRequestEPNS_23ExecuteParallelResponseE" title='xla::Service::ExecuteGraphParallel' data-ref="_ZN3xla7Service20ExecuteGraphParallelEPKNS_27ExecuteGraphParallelRequestEPNS_23ExecuteParallelResponseE">ExecuteGraphParallel</a>(&amp;<a class="local col1 ref" href="#241parallel_arg" title='parallel_arg' data-ref="241parallel_arg">parallel_arg</a>, &amp;<a class="local col2 ref" href="#242parallel_result" title='parallel_result' data-ref="242parallel_result">parallel_result</a>));</td></tr>
<tr><th id="1029">1029</th><td>  <b>return</b> <a class="member" href="#_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE" title='xla::Service::PickParallelResponse' data-ref="_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE">PickParallelResponse</a>(<a class="local col2 ref" href="#242parallel_result" title='parallel_result' data-ref="242parallel_result">parallel_result</a>, <a class="local col0 ref" href="#240result" title='result' data-ref="240result">result</a>);</td></tr>
<tr><th id="1030">1030</th><td>}</td></tr>
<tr><th id="1031">1031</th><td></td></tr>
<tr><th id="1032">1032</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE" title='xla::Service::PickParallelResponse' data-ref="_ZN3xla7Service20PickParallelResponseERKNS_23ExecuteParallelResponseEPNS_15ExecuteResponseE">PickParallelResponse</dfn>(</td></tr>
<tr><th id="1033">1033</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteParallelResponse" title='xla::ExecuteParallelResponse' data-ref="xla::ExecuteParallelResponse">ExecuteParallelResponse</a>&amp; <dfn class="local col3 decl" id="243parallel_result" title='parallel_result' data-type='const xla::ExecuteParallelResponse &amp;' data-ref="243parallel_result">parallel_result</dfn>, <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a>* <dfn class="local col4 decl" id="244result" title='result' data-type='xla::ExecuteResponse *' data-ref="244result">result</dfn>) {</td></tr>
<tr><th id="1034">1034</th><td>  <i>// The "result device" selection is a bit hacky, but better than assuming it</i></td></tr>
<tr><th id="1035">1035</th><td><i>  // is device 0. We have b/76035356 for restructuring the client API to clean</i></td></tr>
<tr><th id="1036">1036</th><td><i>  // up the current asymmetries and support more functionalities.</i></td></tr>
<tr><th id="1037">1037</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col5 decl" id="245i" title='i' data-type='int64' data-ref="245i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#245i" title='i' data-ref="245i">i</a> &lt; <a class="local col3 ref" href="#243parallel_result" title='parallel_result' data-ref="243parallel_result">parallel_result</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ExecuteParallelResponse14responses_sizeEv" title='xla::ExecuteParallelResponse::responses_size' data-ref="_ZNK3xla23ExecuteParallelResponse14responses_sizeEv">responses_size</a>(); ++<a class="local col5 ref" href="#245i" title='i' data-ref="245i">i</a>) {</td></tr>
<tr><th id="1038">1038</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value83 = (allocation_tracker_.ResolveForReplica( parallel_result.responses(i).output(), 0)); if ((__builtin_expect(!_status_or_value83.ok(), 0))) { return _status_or_value83.status(); } const ShapedBuffer* buffer = std::move(_status_or_value83.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col6 decl" id="246buffer" title='buffer' data-type='const xla::ShapedBuffer *' data-ref="246buffer">buffer</dfn>,</td></tr>
<tr><th id="1039">1039</th><td>                        <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi" title='xla::AllocationTracker::ResolveForReplica' data-ref="_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi">ResolveForReplica</a>(</td></tr>
<tr><th id="1040">1040</th><td>                            <a class="local col3 ref" href="#243parallel_result" title='parallel_result' data-ref="243parallel_result">parallel_result</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ExecuteParallelResponse9responsesEi" title='xla::ExecuteParallelResponse::responses' data-ref="_ZNK3xla23ExecuteParallelResponse9responsesEi">responses</a>(<a class="local col5 ref" href="#245i" title='i' data-ref="245i">i</a>).<a class="ref" href="../xla.pb.h.html#_ZNK3xla15ExecuteResponse6outputEv" title='xla::ExecuteResponse::output' data-ref="_ZNK3xla15ExecuteResponse6outputEv">output</a>(), <var>0</var>));</td></tr>
<tr><th id="1041">1041</th><td>    <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>&amp; <dfn class="local col7 decl" id="247shape" title='shape' data-type='const xla::Shape &amp;' data-ref="247shape">shape</dfn> = <a class="local col6 ref" href="#1038" title='buffer' data-ref="246buffer">buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer13on_host_shapeEv" title='xla::ShapedBuffer::on_host_shape' data-ref="_ZNK3xla12ShapedBuffer13on_host_shapeEv">on_host_shape</a>();</td></tr>
<tr><th id="1042">1042</th><td>    <b>if</b> (!<a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil12IsEmptyTupleERKNS_5ShapeE" title='xla::ShapeUtil::IsEmptyTuple' data-ref="_ZN3xla9ShapeUtil12IsEmptyTupleERKNS_5ShapeE">IsEmptyTuple</a>(<a class="local col7 ref" href="#247shape" title='shape' data-ref="247shape">shape</a>)) {</td></tr>
<tr><th id="1043">1043</th><td>      *<a class="local col4 ref" href="#244result" title='result' data-ref="244result">result</a> <a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseaSERKS0_" title='xla::ExecuteResponse::operator=' data-ref="_ZN3xla15ExecuteResponseaSERKS0_">=</a> <a class="local col3 ref" href="#243parallel_result" title='parallel_result' data-ref="243parallel_result">parallel_result</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ExecuteParallelResponse9responsesEi" title='xla::ExecuteParallelResponse::responses' data-ref="_ZNK3xla23ExecuteParallelResponse9responsesEi">responses</a>(<a class="local col5 ref" href="#245i" title='i' data-ref="245i">i</a>);</td></tr>
<tr><th id="1044">1044</th><td>      <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((3) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1044, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>3</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"Fetching result from device "</q> <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZNSt13basic_ostreamlsEx" title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEx">&lt;&lt;</a> <a class="local col5 ref" href="#245i" title='i' data-ref="245i">i</a> <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>": "</q></td></tr>
<tr><th id="1045">1045</th><td>              <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(<a class="local col7 ref" href="#247shape" title='shape' data-ref="247shape">shape</a>);</td></tr>
<tr><th id="1046">1046</th><td>      <b>return</b> <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1047">1047</th><td>    }</td></tr>
<tr><th id="1048">1048</th><td>  }</td></tr>
<tr><th id="1049">1049</th><td>  <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(parallel_result.responses_size() &gt; 0), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1049, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;parallel_result.responses_size() &gt; 0&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(<a class="local col3 ref" href="#243parallel_result" title='parallel_result' data-ref="243parallel_result">parallel_result</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ExecuteParallelResponse14responses_sizeEv" title='xla::ExecuteParallelResponse::responses_size' data-ref="_ZNK3xla23ExecuteParallelResponse14responses_sizeEv">responses_size</a>() &gt; <var>0</var>);</td></tr>
<tr><th id="1050">1050</th><td>  *<a class="local col4 ref" href="#244result" title='result' data-ref="244result">result</a> <a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponseaSERKS0_" title='xla::ExecuteResponse::operator=' data-ref="_ZN3xla15ExecuteResponseaSERKS0_">=</a> <a class="local col3 ref" href="#243parallel_result" title='parallel_result' data-ref="243parallel_result">parallel_result</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ExecuteParallelResponse9responsesEi" title='xla::ExecuteParallelResponse::responses' data-ref="_ZNK3xla23ExecuteParallelResponse9responsesEi">responses</a>(<var>0</var>);</td></tr>
<tr><th id="1051">1051</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1051, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"Defaulting to device 0 result"</q>;</td></tr>
<tr><th id="1052">1052</th><td>  <b>return</b> <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1053">1053</th><td>}</td></tr>
<tr><th id="1054">1054</th><td></td></tr>
<tr><th id="1055">1055</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service7ExecuteEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE" title='xla::Service::Execute' data-ref="_ZN3xla7Service7ExecuteEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE">Execute</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteRequest" title='xla::ExecuteRequest' data-ref="xla::ExecuteRequest">ExecuteRequest</a>* <dfn class="local col8 decl" id="248arg" title='arg' data-type='const xla::ExecuteRequest *' data-ref="248arg">arg</dfn>,</td></tr>
<tr><th id="1056">1056</th><td>                                    <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a>* <dfn class="local col9 decl" id="249result" title='result' data-type='xla::ExecuteResponse *' data-ref="249result">result</dfn>) {</td></tr>
<tr><th id="1057">1057</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1057, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"running execute request: "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>-&gt;<span class='ref' title='google::protobuf::Message::ShortDebugString' data-ref="_ZNK6google8protobuf7Message16ShortDebugStringEv">ShortDebugString</span>();</td></tr>
<tr><th id="1058">1058</th><td></td></tr>
<tr><th id="1059">1059</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value85 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value85.ok(), 0))) { return _status_or_value85.status(); } UserComputation * user_computation = std::move(_status_or_value85.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col0 decl" id="250user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="250user_computation">user_computation</dfn>,</td></tr>
<tr><th id="1060">1060</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest11computationEv" title='xla::ExecuteRequest::computation' data-ref="_ZNK3xla14ExecuteRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1061">1061</th><td></td></tr>
<tr><th id="1062">1062</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col1 decl" id="251versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="251versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1063">1063</th><td>      <a class="local col0 ref" href="#1059" title='user_computation' data-ref="250user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation18GetVersionedHandleEv" title='xla::UserComputation::GetVersionedHandle' data-ref="_ZNK3xla15UserComputation18GetVersionedHandleEv">GetVersionedHandle</a>();</td></tr>
<tr><th id="1064">1064</th><td></td></tr>
<tr><th id="1065">1065</th><td>  <b>if</b> (<a class="local col0 ref" href="#1059" title='user_computation' data-ref="250user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation13request_countEx" title='xla::UserComputation::request_count' data-ref="_ZNK3xla15UserComputation13request_countEx">request_count</a>(<a class="local col1 ref" href="#251versioned_handle" title='versioned_handle' data-ref="251versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>) == <var>0</var>) {</td></tr>
<tr><th id="1066">1066</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="1067">1067</th><td>  }</td></tr>
<tr><th id="1068">1068</th><td></td></tr>
<tr><th id="1069">1069</th><td>  <i>// If we received multiple device handles, we must partition the module.</i></td></tr>
<tr><th id="1070">1070</th><td>  <b>if</b> (<a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest17execution_optionsEv" title='xla::ExecuteRequest::execution_options' data-ref="_ZNK3xla14ExecuteRequest17execution_optionsEv">execution_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>() &gt; <var>1</var>) {</td></tr>
<tr><th id="1071">1071</th><td>    <b>return</b> <a class="member" href="#_ZN3xla7Service13ExecuteOneToNEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE" title='xla::Service::ExecuteOneToN' data-ref="_ZN3xla7Service13ExecuteOneToNEPKNS_14ExecuteRequestEPNS_15ExecuteResponseE">ExecuteOneToN</a>(<a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>, <a class="local col9 ref" href="#249result" title='result' data-ref="249result">result</a>);</td></tr>
<tr><th id="1072">1072</th><td>  }</td></tr>
<tr><th id="1073">1073</th><td></td></tr>
<tr><th id="1074">1074</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value87 = (user_computation-&gt;ComputeProgramShape(versioned_handle.version)); if ((__builtin_expect(!_status_or_value87.ok(), 0))) { return _status_or_value87.status(); } std::shared_ptr&lt;const ProgramShape&gt; program_shape = std::move(_status_or_value87.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1075">1075</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a>&gt; <dfn class="local col2 decl" id="252program_shape" title='program_shape' data-type='std::shared_ptr&lt;const ProgramShape&gt;' data-ref="252program_shape">program_shape</dfn>,</td></tr>
<tr><th id="1076">1076</th><td>      <a class="local col0 ref" href="#1059" title='user_computation' data-ref="250user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation19ComputeProgramShapeEx" title='xla::UserComputation::ComputeProgramShape' data-ref="_ZNK3xla15UserComputation19ComputeProgramShapeEx">ComputeProgramShape</a>(<a class="local col1 ref" href="#251versioned_handle" title='versioned_handle' data-ref="251versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>));</td></tr>
<tr><th id="1077">1077</th><td></td></tr>
<tr><th id="1078">1078</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value89 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value89.ok(), 0))) { return _status_or_value89.status(); } auto replicas = std::move(_status_or_value89.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col3 decl" id="253replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="253replicas">replicas</dfn>, <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>,</td></tr>
<tr><th id="1079">1079</th><td>                                              <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1080">1080</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value91 = (ResolveAndValidateArguments(arg-&gt;arguments(), replicas)); if ((__builtin_expect(!_status_or_value91.ok(), 0))) { return _status_or_value91.status(); } std::vector&lt;std::vector&lt;const ShapedBuffer*&gt;&gt; replicated_arguments = std::move(_status_or_value91.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1081">1081</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt; <dfn class="local col4 decl" id="254replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="254replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="1082">1082</th><td>      <a class="member" href="#_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE" title='xla::Service::ResolveAndValidateArguments' data-ref="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE">ResolveAndValidateArguments</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest9argumentsEv" title='xla::ExecuteRequest::arguments' data-ref="_ZNK3xla14ExecuteRequest9argumentsEv">arguments</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col3 ref" href="#1078" title='replicas' data-ref="253replicas">replicas</a>));</td></tr>
<tr><th id="1083">1083</th><td></td></tr>
<tr><th id="1084">1084</th><td>  <i>// Since we care only about the shapes of the arguments, it is sufficient to</i></td></tr>
<tr><th id="1085">1085</th><td><i>  // use the arguments of replica 0.</i></td></tr>
<tr><th id="1086">1086</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value93 = (CreateModuleConfig(*program_shape, replicated_arguments.front(), arg-&gt;execution_options(), user_computation)); if ((__builtin_expect(!_status_or_value93.ok(), 0))) { return _status_or_value93.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value93.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1087">1087</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col5 decl" id="255module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="255module_config">module_config</dfn>,</td></tr>
<tr><th id="1088">1088</th><td>      <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrdeEv" title='std::__shared_ptr::operator*' data-ref="_ZNKSt12__shared_ptrdeEv">*</a><a class="local col2 ref" href="#1074" title='program_shape' data-ref="252program_shape">program_shape</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#1080" title='replicated_arguments' data-ref="254replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="1089">1089</th><td>                         <a class="local col8 ref" href="#248arg" title='arg' data-ref="248arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla14ExecuteRequest17execution_optionsEv" title='xla::ExecuteRequest::execution_options' data-ref="_ZNK3xla14ExecuteRequest17execution_optionsEv">execution_options</a>(), <a class="local col0 ref" href="#1059" title='user_computation' data-ref="250user_computation">user_computation</a>));</td></tr>
<tr><th id="1090">1090</th><td></td></tr>
<tr><th id="1091">1091</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((3) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1091, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>3</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"Execute created HloModuleConfig computation layout: "</q></td></tr>
<tr><th id="1092">1092</th><td>          <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col5 ref" href="#1086" title='module_config' data-ref="255module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig24entry_computation_layoutEv" title='xla::HloModuleConfig::entry_computation_layout' data-ref="_ZNK3xla15HloModuleConfig24entry_computation_layoutEv">entry_computation_layout</a>().<a class="ref" href="computation_layout.h.html#_ZNK3xla17ComputationLayout8ToStringEv" title='xla::ComputationLayout::ToString' data-ref="_ZNK3xla17ComputationLayout8ToStringEv">ToString</a>();</td></tr>
<tr><th id="1093">1093</th><td></td></tr>
<tr><th id="1094">1094</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value95 = (BuildAndCacheExecutable(versioned_handle, std::move(module_config), execute_backend_.get(), execute_backend_-&gt;default_stream_executor(), result-&gt;mutable_profile())); if ((__builtin_expect(!_status_or_value95.ok(), 0))) { return _status_or_value95.status(); } std::shared_ptr&lt;Executable&gt; executable = std::move(_status_or_value95.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1095">1095</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col6 decl" id="256executable" title='executable' data-type='std::shared_ptr&lt;Executable&gt;' data-ref="256executable">executable</dfn>,</td></tr>
<tr><th id="1096">1096</th><td>      <a class="member" href="#_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019" title='xla::Service::BuildAndCacheExecutable' data-ref="_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019">BuildAndCacheExecutable</a>(<a class="local col1 ref" href="#251versioned_handle" title='versioned_handle' data-ref="251versioned_handle">versioned_handle</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col5 ref" href="#1086" title='module_config' data-ref="255module_config">module_config</a></span>),</td></tr>
<tr><th id="1097">1097</th><td>                              <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(),</td></tr>
<tr><th id="1098">1098</th><td>                              <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend23default_stream_executorEv" title='xla::Backend::default_stream_executor' data-ref="_ZNK3xla7Backend23default_stream_executorEv">default_stream_executor</a>(),</td></tr>
<tr><th id="1099">1099</th><td>                              <a class="local col9 ref" href="#249result" title='result' data-ref="249result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse15mutable_profileEv" title='xla::ExecuteResponse::mutable_profile' data-ref="_ZN3xla15ExecuteResponse15mutable_profileEv">mutable_profile</a>()));</td></tr>
<tr><th id="1100">1100</th><td></td></tr>
<tr><th id="1101">1101</th><td>  <b>if</b> (<a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZNK3xla10Executable7dumpingEv" title='xla::Executable::dumping' data-ref="_ZNK3xla10Executable7dumpingEv">dumping</a>()) {</td></tr>
<tr><th id="1102">1102</th><td>    <a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZNK3xla10Executable14session_moduleEv" title='xla::Executable::session_module' data-ref="_ZNK3xla10Executable14session_moduleEv">session_module</a>()-&gt;<a class="ref" href="session.pb.h.html#_ZN3xla13SessionModule22set_execution_platformERKSs" title='xla::SessionModule::set_execution_platform' data-ref="_ZN3xla13SessionModule22set_execution_platformERKSs">set_execution_platform</a>(</td></tr>
<tr><th id="1103">1103</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend8platformEv" title='xla::Backend::platform' data-ref="_ZNK3xla7Backend8platformEv">platform</a>()-&gt;<a class="virtual ref" href="../../../stream_executor/platform.h.html#_ZNK9perftools8gputools8Platform4NameEv" title='perftools::gputools::Platform::Name' data-ref="_ZNK9perftools8gputools8Platform4NameEv">Name</a>());</td></tr>
<tr><th id="1104">1104</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (RecordArguments( replicated_arguments.front(), execute_backend_-&gt;default_stream_executor(), execute_backend_-&gt;transfer_manager(), executable-&gt;session_module())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="tu ref" href="#_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832" title='xla::(anonymous namespace)::RecordArguments' data-use='c' data-ref="_ZN3xla12_GLOBAL__N_115RecordArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEEPN9perftools8gputools14StreamExecutorEPNS_15TransferManager3546832">RecordArguments</a>(</td></tr>
<tr><th id="1105">1105</th><td>        <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#1080" title='replicated_arguments' data-ref="254replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="1106">1106</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend23default_stream_executorEv" title='xla::Backend::default_stream_executor' data-ref="_ZNK3xla7Backend23default_stream_executorEv">default_stream_executor</a>(),</td></tr>
<tr><th id="1107">1107</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>(), <a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZNK3xla10Executable14session_moduleEv" title='xla::Executable::session_module' data-ref="_ZNK3xla10Executable14session_moduleEv">session_module</a>()));</td></tr>
<tr><th id="1108">1108</th><td>  }</td></tr>
<tr><th id="1109">1109</th><td></td></tr>
<tr><th id="1110">1110</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value97 = (ExecuteAndRegisterResult( executable.get(), replicated_arguments, execute_backend_.get(), &quot;result of &quot; + user_computation-&gt;name(), result-&gt;mutable_profile())); if ((__builtin_expect(!_status_or_value97.ok(), 0))) { return _status_or_value97.status(); } *result-&gt;mutable_output() = std::move(_status_or_value97.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1111">1111</th><td>      *<a class="local col9 ref" href="#249result" title='result' data-ref="249result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse14mutable_outputEv" title='xla::ExecuteResponse::mutable_output' data-ref="_ZN3xla15ExecuteResponse14mutable_outputEv">mutable_output</a>(),</td></tr>
<tr><th id="1112">1112</th><td>      <a class="member" href="#_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE" title='xla::Service::ExecuteAndRegisterResult' data-ref="_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE">ExecuteAndRegisterResult</a>(</td></tr>
<tr><th id="1113">1113</th><td>          <a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a>.<a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv">get</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#1080" title='replicated_arguments' data-ref="254replicated_arguments">replicated_arguments</a>, <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(),</td></tr>
<tr><th id="1114">1114</th><td>          <q>"result of "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.tcc.html#_ZStplPKT_RKSbIS_T0_T1_E" title='std::operator+' data-ref="_ZStplPKT_RKSbIS_T0_T1_E">+</a> <a class="local col0 ref" href="#1059" title='user_computation' data-ref="250user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation4nameEv" title='xla::UserComputation::name' data-ref="_ZNK3xla15UserComputation4nameEv">name</a>(), <a class="local col9 ref" href="#249result" title='result' data-ref="249result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse15mutable_profileEv" title='xla::ExecuteResponse::mutable_profile' data-ref="_ZN3xla15ExecuteResponse15mutable_profileEv">mutable_profile</a>()));</td></tr>
<tr><th id="1115">1115</th><td></td></tr>
<tr><th id="1116">1116</th><td>  <b>if</b> (<a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZNK3xla10Executable7dumpingEv" title='xla::Executable::dumping' data-ref="_ZNK3xla10Executable7dumpingEv">dumping</a>()) {</td></tr>
<tr><th id="1117">1117</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value99 = (allocation_tracker_.ResolveForReplica(result-&gt;output(), 0)); if ((__builtin_expect(!_status_or_value99.ok(), 0))) { return _status_or_value99.status(); } const ShapedBuffer* result_buffer = std::move(_status_or_value99.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1118">1118</th><td>        <em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col7 decl" id="257result_buffer" title='result_buffer' data-type='const xla::ShapedBuffer *' data-ref="257result_buffer">result_buffer</dfn>,</td></tr>
<tr><th id="1119">1119</th><td>        <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi" title='xla::AllocationTracker::ResolveForReplica' data-ref="_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi">ResolveForReplica</a>(<a class="local col9 ref" href="#249result" title='result' data-ref="249result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla15ExecuteResponse6outputEv" title='xla::ExecuteResponse::output' data-ref="_ZNK3xla15ExecuteResponse6outputEv">output</a>(), <var>0</var>));</td></tr>
<tr><th id="1120">1120</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (RecordResult( *result_buffer, execute_backend_-&gt;default_stream_executor(), execute_backend_-&gt;transfer_manager(), executable-&gt;session_module())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="tu ref" href="#_ZN3xla12_GLOBAL__N_112RecordResultERKNS_12ShapedBufferEPN9perftools8gputools14StreamExecutorEPNS_15TransferManagerEPNS_13SessionModuleE" title='xla::(anonymous namespace)::RecordResult' data-use='c' data-ref="_ZN3xla12_GLOBAL__N_112RecordResultERKNS_12ShapedBufferEPN9perftools8gputools14StreamExecutorEPNS_15TransferManagerEPNS_13SessionModuleE">RecordResult</a>(</td></tr>
<tr><th id="1121">1121</th><td>        *<a class="local col7 ref" href="#1117" title='result_buffer' data-ref="257result_buffer">result_buffer</a>, <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend23default_stream_executorEv" title='xla::Backend::default_stream_executor' data-ref="_ZNK3xla7Backend23default_stream_executorEv">default_stream_executor</a>(),</td></tr>
<tr><th id="1122">1122</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>(), <a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZNK3xla10Executable14session_moduleEv" title='xla::Executable::session_module' data-ref="_ZNK3xla10Executable14session_moduleEv">session_module</a>()));</td></tr>
<tr><th id="1123">1123</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (executable-&gt;DumpSessionModule()); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col6 ref" href="#1094" title='executable' data-ref="256executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="ref" href="executable.h.html#_ZN3xla10Executable17DumpSessionModuleEv" title='xla::Executable::DumpSessionModule' data-ref="_ZN3xla10Executable17DumpSessionModuleEv">DumpSessionModule</a>());</td></tr>
<tr><th id="1124">1124</th><td>  }</td></tr>
<tr><th id="1125">1125</th><td></td></tr>
<tr><th id="1126">1126</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1126, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'execute' request"</q>;</td></tr>
<tr><th id="1127">1127</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1128">1128</th><td>}</td></tr>
<tr><th id="1129">1129</th><td></td></tr>
<tr><th id="1130">1130</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service15BuildExecutableERKNS_14HloModuleProtoESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftools8gputools116387209" title='xla::Service::BuildExecutable' data-ref="_ZN3xla7Service15BuildExecutableERKNS_14HloModuleProtoESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftools8gputools116387209">BuildExecutable</dfn>(</td></tr>
<tr><th id="1131">1131</th><td>    <em>const</em> <a class="type" href="hlo.pb.h.html#xla::HloModuleProto" title='xla::HloModuleProto' data-ref="xla::HloModuleProto">HloModuleProto</a>&amp; <dfn class="local col8 decl" id="258module_proto" title='module_proto' data-type='const xla::HloModuleProto &amp;' data-ref="258module_proto">module_proto</dfn>,</td></tr>
<tr><th id="1132">1132</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col9 decl" id="259module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="259module_config">module_config</dfn>, <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>* <dfn class="local col0 decl" id="260backend" title='backend' data-type='xla::Backend *' data-ref="260backend">backend</dfn>,</td></tr>
<tr><th id="1133">1133</th><td>    <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col1 decl" id="261executor" title='executor' data-type='se::StreamExecutor *' data-ref="261executor">executor</dfn>, <a class="type" href="device_memory_allocator.h.html#xla::DeviceMemoryAllocator" title='xla::DeviceMemoryAllocator' data-ref="xla::DeviceMemoryAllocator">DeviceMemoryAllocator</a>* <dfn class="local col2 decl" id="262device_allocator" title='device_allocator' data-type='xla::DeviceMemoryAllocator *' data-ref="262device_allocator">device_allocator</dfn>) {</td></tr>
<tr><th id="1134">1134</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1134, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <a class="ref" href="../../../core/lib/strings/stringprintf.h.html#_ZN10tensorflow7strings6PrintfEPKcz" title='tensorflow::strings::Printf' data-ref="_ZN10tensorflow7strings6PrintfEPKcz">Printf</a>(</td></tr>
<tr><th id="1135">1135</th><td>      <q>"BuildExecutable on service %p with serialized module proto: %s"</q>, <b>this</b>,</td></tr>
<tr><th id="1136">1136</th><td>      <a class="local col8 ref" href="#258module_proto" title='module_proto' data-ref="258module_proto">module_proto</a>.<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto4nameEv" title='xla::HloModuleProto::name' data-ref="_ZNK3xla14HloModuleProto4nameEv">name</a>().<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="1137">1137</th><td></td></tr>
<tr><th id="1138">1138</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value101 = (HloModule::CreateFromProto(module_proto, *module_config)); if ((__builtin_expect(!_status_or_value101.ok(), 0))) { return _status_or_value101.status(); } std::unique_ptr&lt;HloModule&gt; module = std::move(_status_or_value101.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt; <dfn class="local col3 decl" id="263module" title='module' data-type='std::unique_ptr&lt;HloModule&gt;' data-ref="263module">module</dfn>,</td></tr>
<tr><th id="1139">1139</th><td>                      <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>::<a class="ref" href="hlo_module.h.html#_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE" title='xla::HloModule::CreateFromProto' data-ref="_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE">CreateFromProto</a>(<a class="local col8 ref" href="#258module_proto" title='module_proto' data-ref="258module_proto">module_proto</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col9 ref" href="#259module_config" title='module_config' data-ref="259module_config">module_config</a>));</td></tr>
<tr><th id="1140">1140</th><td></td></tr>
<tr><th id="1141">1141</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (MaybeDumpHloModule(*module)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="member" href="#_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE" title='xla::Service::MaybeDumpHloModule' data-ref="_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE">MaybeDumpHloModule</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col3 ref" href="#1138" title='module' data-ref="263module">module</a>));</td></tr>
<tr><th id="1142">1142</th><td></td></tr>
<tr><th id="1143">1143</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value103 = (backend-&gt;compiler()-&gt;RunHloPasses(std::move(module), executor, device_allocator)); if ((__builtin_expect(!_status_or_value103.ok(), 0))) { return _status_or_value103.status(); } module = std::move(_status_or_value103.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1144">1144</th><td>      <a class="local col3 ref" href="#1138" title='module' data-ref="263module">module</a>, <a class="local col0 ref" href="#260backend" title='backend' data-ref="260backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler12RunHloPassesESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE" title='xla::Compiler::RunHloPasses' data-ref="_ZN3xla8Compiler12RunHloPassesESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE">RunHloPasses</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#1138" title='module' data-ref="263module">module</a></span>), <a class="local col1 ref" href="#261executor" title='executor' data-ref="261executor">executor</a>,</td></tr>
<tr><th id="1145">1145</th><td>                                                <a class="local col2 ref" href="#262device_allocator" title='device_allocator' data-ref="262device_allocator">device_allocator</a>));</td></tr>
<tr><th id="1146">1146</th><td></td></tr>
<tr><th id="1147">1147</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value105 = (backend-&gt;compiler()-&gt;RunBackend( std::move(module), executor, device_allocator)); if ((__builtin_expect(!_status_or_value105.ok(), 0))) { return _status_or_value105.status(); } std::unique_ptr&lt;Executable&gt; executable = std::move(_status_or_value105.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col4 decl" id="264executable" title='executable' data-type='std::unique_ptr&lt;Executable&gt;' data-ref="264executable">executable</dfn>,</td></tr>
<tr><th id="1148">1148</th><td>                      <a class="local col0 ref" href="#260backend" title='backend' data-ref="260backend">backend</a>-&gt;<a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZN3xla8Compiler10RunBackendESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE" title='xla::Compiler::RunBackend' data-ref="_ZN3xla8Compiler10RunBackendESt10unique_ptrINS_9HloModuleESt14default_deleteIS2_EEPN9perftools8gputools14StreamExecutorEPNS_21DeviceMemoryAllocatorE">RunBackend</a>(</td></tr>
<tr><th id="1149">1149</th><td>                          <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#1138" title='module' data-ref="263module">module</a></span>), <a class="local col1 ref" href="#261executor" title='executor' data-ref="261executor">executor</a>, <a class="local col2 ref" href="#262device_allocator" title='device_allocator' data-ref="262device_allocator">device_allocator</a>));</td></tr>
<tr><th id="1150">1150</th><td></td></tr>
<tr><th id="1151">1151</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1EOT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1EOT_"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col4 ref" href="#1147" title='executable' data-ref="264executable">executable</a></span>);</td></tr>
<tr><th id="1152">1152</th><td>}</td></tr>
<tr><th id="1153">1153</th><td></td></tr>
<tr><th id="1154">1154</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service12ExecuteGraphEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE" title='xla::Service::ExecuteGraph' data-ref="_ZN3xla7Service12ExecuteGraphEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE">ExecuteGraph</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteGraphRequest" title='xla::ExecuteGraphRequest' data-ref="xla::ExecuteGraphRequest">ExecuteGraphRequest</a>* <dfn class="local col5 decl" id="265arg" title='arg' data-type='const xla::ExecuteGraphRequest *' data-ref="265arg">arg</dfn>,</td></tr>
<tr><th id="1155">1155</th><td>                                         <a class="type" href="../xla.pb.h.html#xla::ExecuteResponse" title='xla::ExecuteResponse' data-ref="xla::ExecuteResponse">ExecuteResponse</a>* <dfn class="local col6 decl" id="266result" title='result' data-type='xla::ExecuteResponse *' data-ref="266result">result</dfn>) {</td></tr>
<tr><th id="1156">1156</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1156, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"running execute-graph request"</q>;</td></tr>
<tr><th id="1157">1157</th><td></td></tr>
<tr><th id="1158">1158</th><td>  <b>if</b> (!<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest15has_computationEv" title='xla::ExecuteGraphRequest::has_computation' data-ref="_ZNK3xla19ExecuteGraphRequest15has_computationEv">has_computation</a>()) {</td></tr>
<tr><th id="1159">1159</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="1160">1160</th><td>  }</td></tr>
<tr><th id="1161">1161</th><td>  <b>if</b> (!<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto17has_program_shapeEv" title='xla::HloModuleProto::has_program_shape' data-ref="_ZNK3xla14HloModuleProto17has_program_shapeEv">has_program_shape</a>()) {</td></tr>
<tr><th id="1162">1162</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"programe shape may not be empty"</q>);</td></tr>
<tr><th id="1163">1163</th><td>  }</td></tr>
<tr><th id="1164">1164</th><td></td></tr>
<tr><th id="1165">1165</th><td>  <i>// If we received multiple device handles, we must partition the module.</i></td></tr>
<tr><th id="1166">1166</th><td>  <b>if</b> (<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest17execution_optionsEv" title='xla::ExecuteGraphRequest::execution_options' data-ref="_ZNK3xla19ExecuteGraphRequest17execution_optionsEv">execution_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions19device_handles_sizeEv" title='xla::ExecutionOptions::device_handles_size' data-ref="_ZNK3xla16ExecutionOptions19device_handles_sizeEv">device_handles_size</a>() &gt; <var>1</var>) {</td></tr>
<tr><th id="1167">1167</th><td>    <b>return</b> <a class="member" href="#_ZN3xla7Service13ExecuteOneToNEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE" title='xla::Service::ExecuteOneToN' data-ref="_ZN3xla7Service13ExecuteOneToNEPKNS_19ExecuteGraphRequestEPNS_15ExecuteResponseE">ExecuteOneToN</a>(<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>, <a class="local col6 ref" href="#266result" title='result' data-ref="266result">result</a>);</td></tr>
<tr><th id="1168">1168</th><td>  }</td></tr>
<tr><th id="1169">1169</th><td></td></tr>
<tr><th id="1170">1170</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value107 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value107.ok(), 0))) { return _status_or_value107.status(); } auto replicas = std::move(_status_or_value107.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col7 decl" id="267replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="267replicas">replicas</dfn>, <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>,</td></tr>
<tr><th id="1171">1171</th><td>                                              <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1172">1172</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value109 = (ResolveAndValidateArguments(arg-&gt;arguments(), replicas)); if ((__builtin_expect(!_status_or_value109.ok(), 0))) { return _status_or_value109.status(); } std::vector&lt;std::vector&lt;const ShapedBuffer*&gt;&gt; replicated_arguments = std::move(_status_or_value109.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1173">1173</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt; <dfn class="local col8 decl" id="268replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="268replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="1174">1174</th><td>      <a class="member" href="#_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE" title='xla::Service::ResolveAndValidateArguments' data-ref="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE">ResolveAndValidateArguments</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest9argumentsEv" title='xla::ExecuteGraphRequest::arguments' data-ref="_ZNK3xla19ExecuteGraphRequest9argumentsEv">arguments</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#1170" title='replicas' data-ref="267replicas">replicas</a>));</td></tr>
<tr><th id="1175">1175</th><td></td></tr>
<tr><th id="1176">1176</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value111 = (CreateModuleConfig(arg-&gt;computation().program_shape(), replicated_arguments.front(), arg-&gt;execution_options())); if ((__builtin_expect(!_status_or_value111.ok(), 0))) { return _status_or_value111.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value111.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col9 decl" id="269module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="269module_config">module_config</dfn>,</td></tr>
<tr><th id="1177">1177</th><td>                      <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto13program_shapeEv" title='xla::HloModuleProto::program_shape' data-ref="_ZNK3xla14HloModuleProto13program_shapeEv">program_shape</a>(),</td></tr>
<tr><th id="1178">1178</th><td>                                         <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col8 ref" href="#1172" title='replicated_arguments' data-ref="268replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="1179">1179</th><td>                                         <a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest17execution_optionsEv" title='xla::ExecuteGraphRequest::execution_options' data-ref="_ZNK3xla19ExecuteGraphRequest17execution_optionsEv">execution_options</a>()));</td></tr>
<tr><th id="1180">1180</th><td></td></tr>
<tr><th id="1181">1181</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value113 = (BuildExecutable(arg-&gt;computation(), std::move(module_config), execute_backend_.get(), execute_backend_-&gt;default_stream_executor(), nullptr)); if ((__builtin_expect(!_status_or_value113.ok(), 0))) { return _status_or_value113.status(); } std::unique_ptr&lt;Executable&gt; executable = std::move(_status_or_value113.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1182">1182</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col0 decl" id="270executable" title='executable' data-type='std::unique_ptr&lt;Executable&gt;' data-ref="270executable">executable</dfn>,</td></tr>
<tr><th id="1183">1183</th><td>      <a class="member" href="#_ZN3xla7Service15BuildExecutableERKNS_14HloModuleProtoESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftools8gputools116387209" title='xla::Service::BuildExecutable' data-ref="_ZN3xla7Service15BuildExecutableERKNS_14HloModuleProtoESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN9perftools8gputools116387209">BuildExecutable</a>(<a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>(), <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col9 ref" href="#1176" title='module_config' data-ref="269module_config">module_config</a></span>),</td></tr>
<tr><th id="1184">1184</th><td>                      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(),</td></tr>
<tr><th id="1185">1185</th><td>                      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend23default_stream_executorEv" title='xla::Backend::default_stream_executor' data-ref="_ZNK3xla7Backend23default_stream_executorEv">default_stream_executor</a>(),</td></tr>
<tr><th id="1186">1186</th><td>                      <i>/*device_allocator=*/</i><b>nullptr</b>));</td></tr>
<tr><th id="1187">1187</th><td></td></tr>
<tr><th id="1188">1188</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value115 = (ExecuteAndRegisterResult( executable.get(), replicated_arguments, execute_backend_.get(), &quot;result of &quot; + arg-&gt;computation().name(), result-&gt;mutable_profile())); if ((__builtin_expect(!_status_or_value115.ok(), 0))) { return _status_or_value115.status(); } *result-&gt;mutable_output() = std::move(_status_or_value115.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1189">1189</th><td>      *<a class="local col6 ref" href="#266result" title='result' data-ref="266result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse14mutable_outputEv" title='xla::ExecuteResponse::mutable_output' data-ref="_ZN3xla15ExecuteResponse14mutable_outputEv">mutable_output</a>(),</td></tr>
<tr><th id="1190">1190</th><td>      <a class="member" href="#_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE" title='xla::Service::ExecuteAndRegisterResult' data-ref="_ZN3xla7Service24ExecuteAndRegisterResultEPNS_10ExecutableEN10tensorflow3gtl10ArraySliceISt6vectorIPKNS_12ShapedBufferESaIS9_EEEEPNS_7BackendERKSsPNS_16ExecutionProfileE">ExecuteAndRegisterResult</a>(</td></tr>
<tr><th id="1191">1191</th><td>          <a class="local col0 ref" href="#1181" title='executable' data-ref="270executable">executable</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col8 ref" href="#1172" title='replicated_arguments' data-ref="268replicated_arguments">replicated_arguments</a>, <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(),</td></tr>
<tr><th id="1192">1192</th><td>          <q>"result of "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.tcc.html#_ZStplPKT_RKSbIS_T0_T1_E" title='std::operator+' data-ref="_ZStplPKT_RKSbIS_T0_T1_E">+</a> <a class="local col5 ref" href="#265arg" title='arg' data-ref="265arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteGraphRequest11computationEv" title='xla::ExecuteGraphRequest::computation' data-ref="_ZNK3xla19ExecuteGraphRequest11computationEv">computation</a>().<a class="ref" href="hlo.pb.h.html#_ZNK3xla14HloModuleProto4nameEv" title='xla::HloModuleProto::name' data-ref="_ZNK3xla14HloModuleProto4nameEv">name</a>(), <a class="local col6 ref" href="#266result" title='result' data-ref="266result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla15ExecuteResponse15mutable_profileEv" title='xla::ExecuteResponse::mutable_profile' data-ref="_ZN3xla15ExecuteResponse15mutable_profileEv">mutable_profile</a>()));</td></tr>
<tr><th id="1193">1193</th><td></td></tr>
<tr><th id="1194">1194</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1194, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'execute-graph' request"</q>;</td></tr>
<tr><th id="1195">1195</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1196">1196</th><td>}</td></tr>
<tr><th id="1197">1197</th><td></td></tr>
<tr><th id="1198">1198</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service12ExecuteAsyncEPKNS_19ExecuteAsyncRequestEPNS_20ExecuteAsyncResponseE" title='xla::Service::ExecuteAsync' data-ref="_ZN3xla7Service12ExecuteAsyncEPKNS_19ExecuteAsyncRequestEPNS_20ExecuteAsyncResponseE">ExecuteAsync</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ExecuteAsyncRequest" title='xla::ExecuteAsyncRequest' data-ref="xla::ExecuteAsyncRequest">ExecuteAsyncRequest</a>* <dfn class="local col1 decl" id="271arg" title='arg' data-type='const xla::ExecuteAsyncRequest *' data-ref="271arg">arg</dfn>,</td></tr>
<tr><th id="1199">1199</th><td>                                         <a class="type" href="../xla.pb.h.html#xla::ExecuteAsyncResponse" title='xla::ExecuteAsyncResponse' data-ref="xla::ExecuteAsyncResponse">ExecuteAsyncResponse</a>* <dfn class="local col2 decl" id="272result" title='result' data-type='xla::ExecuteAsyncResponse *' data-ref="272result">result</dfn>) {</td></tr>
<tr><th id="1200">1200</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1200, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"running execute-async request: "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col1 ref" href="#271arg" title='arg' data-ref="271arg">arg</a>-&gt;<span class='ref' title='google::protobuf::Message::ShortDebugString' data-ref="_ZNK6google8protobuf7Message16ShortDebugStringEv">ShortDebugString</span>();</td></tr>
<tr><th id="1201">1201</th><td></td></tr>
<tr><th id="1202">1202</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value117 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value117.ok(), 0))) { return _status_or_value117.status(); } UserComputation * user_computation = std::move(_status_or_value117.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col3 decl" id="273user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="273user_computation">user_computation</dfn>,</td></tr>
<tr><th id="1203">1203</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col1 ref" href="#271arg" title='arg' data-ref="271arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteAsyncRequest11computationEv" title='xla::ExecuteAsyncRequest::computation' data-ref="_ZNK3xla19ExecuteAsyncRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1204">1204</th><td></td></tr>
<tr><th id="1205">1205</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col4 decl" id="274versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="274versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1206">1206</th><td>      <a class="local col3 ref" href="#1202" title='user_computation' data-ref="273user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation18GetVersionedHandleEv" title='xla::UserComputation::GetVersionedHandle' data-ref="_ZNK3xla15UserComputation18GetVersionedHandleEv">GetVersionedHandle</a>();</td></tr>
<tr><th id="1207">1207</th><td>  <b>if</b> (<a class="local col3 ref" href="#1202" title='user_computation' data-ref="273user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation13request_countEx" title='xla::UserComputation::request_count' data-ref="_ZNK3xla15UserComputation13request_countEx">request_count</a>(<a class="local col4 ref" href="#274versioned_handle" title='versioned_handle' data-ref="274versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>) == <var>0</var>) {</td></tr>
<tr><th id="1208">1208</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="1209">1209</th><td>  }</td></tr>
<tr><th id="1210">1210</th><td></td></tr>
<tr><th id="1211">1211</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value119 = (user_computation-&gt;ComputeProgramShape(versioned_handle.version)); if ((__builtin_expect(!_status_or_value119.ok(), 0))) { return _status_or_value119.status(); } std::shared_ptr&lt;const ProgramShape&gt; program_shape = std::move(_status_or_value119.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1212">1212</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a>&gt; <dfn class="local col5 decl" id="275program_shape" title='program_shape' data-type='std::shared_ptr&lt;const ProgramShape&gt;' data-ref="275program_shape">program_shape</dfn>,</td></tr>
<tr><th id="1213">1213</th><td>      <a class="local col3 ref" href="#1202" title='user_computation' data-ref="273user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation19ComputeProgramShapeEx" title='xla::UserComputation::ComputeProgramShape' data-ref="_ZNK3xla15UserComputation19ComputeProgramShapeEx">ComputeProgramShape</a>(<a class="local col4 ref" href="#274versioned_handle" title='versioned_handle' data-ref="274versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>));</td></tr>
<tr><th id="1214">1214</th><td></td></tr>
<tr><th id="1215">1215</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value121 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value121.ok(), 0))) { return _status_or_value121.status(); } auto replicas = std::move(_status_or_value121.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col6 decl" id="276replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="276replicas">replicas</dfn>, <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>,</td></tr>
<tr><th id="1216">1216</th><td>                                              <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1217">1217</th><td>  <a class="macro" href="../status_macros.h.html#179" title="while ((__builtin_expect(!(!replicas.empty()), 0))) return xla::status_macros::MakeErrorStream(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1217, tensorflow::error::INTERNAL) .with_log_stack_trace() .add_ret_check_failure(&quot;!replicas.empty()&quot;)" data-ref="_M/TF_RET_CHECK">TF_RET_CHECK</a>(!<a class="local col6 ref" href="#1215" title='replicas' data-ref="276replicas">replicas</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv">empty</a>());</td></tr>
<tr><th id="1218">1218</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value123 = (ResolveAndValidateArguments(arg-&gt;arguments(), replicas)); if ((__builtin_expect(!_status_or_value123.ok(), 0))) { return _status_or_value123.status(); } std::vector&lt;std::vector&lt;const ShapedBuffer*&gt;&gt; replicated_arguments = std::move(_status_or_value123.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1219">1219</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>*&gt;&gt; <dfn class="local col7 decl" id="277replicated_arguments" title='replicated_arguments' data-type='std::vector&lt;std::vector&lt;const ShapedBuffer *&gt; &gt;' data-ref="277replicated_arguments">replicated_arguments</dfn>,</td></tr>
<tr><th id="1220">1220</th><td>      <a class="member" href="#_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE" title='xla::Service::ResolveAndValidateArguments' data-ref="_ZN3xla7Service27ResolveAndValidateArgumentsEN10tensorflow3gtl10ArraySliceIPKNS_16GlobalDataHandleEEENS3_IPN9perftools8gputools14StreamExecutorEEE">ResolveAndValidateArguments</a>(<a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKT_" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKT_"></a><a class="local col1 ref" href="#271arg" title='arg' data-ref="271arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteAsyncRequest9argumentsEv" title='xla::ExecuteAsyncRequest::arguments' data-ref="_ZNK3xla19ExecuteAsyncRequest9argumentsEv">arguments</a>(), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col6 ref" href="#1215" title='replicas' data-ref="276replicas">replicas</a>));</td></tr>
<tr><th id="1221">1221</th><td></td></tr>
<tr><th id="1222">1222</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value125 = (CreateModuleConfig(*program_shape, replicated_arguments.front(), arg-&gt;execution_options(), user_computation)); if ((__builtin_expect(!_status_or_value125.ok(), 0))) { return _status_or_value125.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value125.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1223">1223</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col8 decl" id="278module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="278module_config">module_config</dfn>,</td></tr>
<tr><th id="1224">1224</th><td>      <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrdeEv" title='std::__shared_ptr::operator*' data-ref="_ZNKSt12__shared_ptrdeEv">*</a><a class="local col5 ref" href="#1211" title='program_shape' data-ref="275program_shape">program_shape</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#1218" title='replicated_arguments' data-ref="277replicated_arguments">replicated_arguments</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5frontEv" title='std::vector::front' data-ref="_ZNSt6vector5frontEv">front</a>(),</td></tr>
<tr><th id="1225">1225</th><td>                         <a class="local col1 ref" href="#271arg" title='arg' data-ref="271arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla19ExecuteAsyncRequest17execution_optionsEv" title='xla::ExecuteAsyncRequest::execution_options' data-ref="_ZNK3xla19ExecuteAsyncRequest17execution_optionsEv">execution_options</a>(), <a class="local col3 ref" href="#1202" title='user_computation' data-ref="273user_computation">user_computation</a>));</td></tr>
<tr><th id="1226">1226</th><td></td></tr>
<tr><th id="1227">1227</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((3) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1227, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>3</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"ExecuteAsync created HloModuleConfig computation layout: "</q></td></tr>
<tr><th id="1228">1228</th><td>          <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E">&lt;&lt;</a> <a class="local col8 ref" href="#1222" title='module_config' data-ref="278module_config">module_config</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig24entry_computation_layoutEv" title='xla::HloModuleConfig::entry_computation_layout' data-ref="_ZNK3xla15HloModuleConfig24entry_computation_layoutEv">entry_computation_layout</a>().<a class="ref" href="computation_layout.h.html#_ZNK3xla17ComputationLayout8ToStringEv" title='xla::ComputationLayout::ToString' data-ref="_ZNK3xla17ComputationLayout8ToStringEv">ToString</a>();</td></tr>
<tr><th id="1229">1229</th><td></td></tr>
<tr><th id="1230">1230</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ExecutionProfile" title='xla::ExecutionProfile' data-ref="xla::ExecutionProfile">ExecutionProfile</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileC1Ev" title='xla::ExecutionProfile::ExecutionProfile' data-ref="_ZN3xla16ExecutionProfileC1Ev"></a><dfn class="local col9 decl" id="279profile" title='profile' data-type='xla::ExecutionProfile' data-ref="279profile">profile</dfn>;</td></tr>
<tr><th id="1231">1231</th><td></td></tr>
<tr><th id="1232">1232</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value127 = (BuildAndCacheExecutable( versioned_handle, std::move(module_config), execute_backend_.get(), execute_backend_-&gt;default_stream_executor(), &amp;profile)); if ((__builtin_expect(!_status_or_value127.ok(), 0))) { return _status_or_value127.status(); } std::shared_ptr&lt;Executable&gt; executable = std::move(_status_or_value127.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1233">1233</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr">shared_ptr</a>&lt;<a class="type" href="executable.h.html#xla::Executable" title='xla::Executable' data-ref="xla::Executable">Executable</a>&gt; <dfn class="local col0 decl" id="280executable" title='executable' data-type='std::shared_ptr&lt;Executable&gt;' data-ref="280executable">executable</dfn>,</td></tr>
<tr><th id="1234">1234</th><td>      <a class="member" href="#_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019" title='xla::Service::BuildAndCacheExecutable' data-ref="_ZN3xla7Service23BuildAndCacheExecutableERKNS_26VersionedComputationHandleESt10unique_ptrINS_15HloModuleConfigESt14default_deleteIS5_EEPNS_7BackendEPN3530019">BuildAndCacheExecutable</a>(</td></tr>
<tr><th id="1235">1235</th><td>          <a class="local col4 ref" href="#274versioned_handle" title='versioned_handle' data-ref="274versioned_handle">versioned_handle</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col8 ref" href="#1222" title='module_config' data-ref="278module_config">module_config</a></span>), <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(),</td></tr>
<tr><th id="1236">1236</th><td>          <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend23default_stream_executorEv" title='xla::Backend::default_stream_executor' data-ref="_ZNK3xla7Backend23default_stream_executorEv">default_stream_executor</a>(), &amp;<a class="local col9 ref" href="#279profile" title='profile' data-ref="279profile">profile</a>));</td></tr>
<tr><th id="1237">1237</th><td></td></tr>
<tr><th id="1238">1238</th><td>  <i>// Set up streams.</i></td></tr>
<tr><th id="1239">1239</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="281streams" title='streams' data-type='std::vector&lt;Pool&lt;se::Stream&gt;::SmartPtr&gt;' data-ref="281streams">streams</dfn>;</td></tr>
<tr><th id="1240">1240</th><td>  <b>for</b> (<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col2 decl" id="282executor" title='executor' data-type='se::StreamExecutor *' data-ref="282executor">executor</dfn> : <a class="local col6 ref" href="#1215" title='replicas' data-ref="276replicas">replicas</a>) {</td></tr>
<tr><th id="1241">1241</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value129 = (execute_backend_-&gt;BorrowStream(executor)); if ((__builtin_expect(!_status_or_value129.ok(), 0))) { return _status_or_value129.status(); } Pool&lt;se::Stream&gt;::SmartPtr stream = std::move(_status_or_value129.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="pool.h.html#xla::Pool" title='xla::Pool' data-ref="xla::Pool">Pool</a>&lt;se::<a class="type" href="../../../stream_executor/stream.h.html#perftools::gputools::Stream" title='perftools::gputools::Stream' data-ref="perftools::gputools::Stream">Stream</a>&gt;::<a class="typedef" href="pool.h.html#xla::Pool{perftools::gputools::Stream}::SmartPtr" title='xla::Pool&lt;perftools::gputools::Stream&gt;::SmartPtr' data-type='std::unique_ptr&lt;Stream, Deleter&gt;' data-ref="xla::Pool{perftools::gputools::Stream}::SmartPtr">SmartPtr</a> <dfn class="local col3 decl" id="283stream" title='stream' data-type='Pool&lt;se::Stream&gt;::SmartPtr' data-ref="283stream">stream</dfn>,</td></tr>
<tr><th id="1242">1242</th><td>                        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE" title='xla::Backend::BorrowStream' data-ref="_ZN3xla7Backend12BorrowStreamEPN9perftools8gputools14StreamExecutorE">BorrowStream</a>(<a class="local col2 ref" href="#282executor" title='executor' data-ref="282executor">executor</a>));</td></tr>
<tr><th id="1243">1243</th><td>    <a class="local col1 ref" href="#281streams" title='streams' data-ref="281streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col3 ref" href="#1241" title='stream' data-ref="283stream">stream</a></span>));</td></tr>
<tr><th id="1244">1244</th><td>  }</td></tr>
<tr><th id="1245">1245</th><td></td></tr>
<tr><th id="1246">1246</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="284result_buffers" title='result_buffers' data-type='std::vector&lt;std::unique_ptr&lt;ShapedBuffer&gt; &gt;' data-ref="284result_buffers">result_buffers</dfn>;</td></tr>
<tr><th id="1247">1247</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col5 decl" id="285i" title='i' data-type='size_t' data-ref="285i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#285i" title='i' data-ref="285i">i</a> &lt; <a class="local col1 ref" href="#281streams" title='streams' data-ref="281streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); ++<a class="local col5 ref" href="#285i" title='i' data-ref="285i">i</a>) {</td></tr>
<tr><th id="1248">1248</th><td>    <em>const</em> <em>auto</em>&amp; <dfn class="local col6 decl" id="286stream" title='stream' data-type='const std::unique_ptr&lt;perftools::gputools::Stream, xla::Pool&lt;perftools::gputools::Stream&gt;::Deleter&gt; &amp;' data-ref="286stream">stream</dfn> = <a class="local col1 ref" href="#281streams" title='streams' data-ref="281streams">streams</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col5 ref" href="#285i" title='i' data-ref="285i">i</a>]</a>;</td></tr>
<tr><th id="1249">1249</th><td>    <a class="type" href="../executable_run_options.h.html#xla::ExecutableRunOptions" title='xla::ExecutableRunOptions' data-ref="xla::ExecutableRunOptions">ExecutableRunOptions</a> <a class="ref fake" href="../executable_run_options.h.html#47" title='xla::ExecutableRunOptions::ExecutableRunOptions' data-ref="_ZN3xla20ExecutableRunOptionsC1Ev"></a><dfn class="local col7 decl" id="287options" title='options' data-type='xla::ExecutableRunOptions' data-ref="287options">options</dfn>;</td></tr>
<tr><th id="1250">1250</th><td>    <a class="local col7 ref" href="#287options" title='options' data-ref="287options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE" title='xla::ExecutableRunOptions::set_stream' data-ref="_ZN3xla20ExecutableRunOptions10set_streamEPN9perftools8gputools6StreamE">set_stream</a>(<a class="local col6 ref" href="#286stream" title='stream' data-ref="286stream">stream</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="1251">1251</th><td>    <a class="local col7 ref" href="#287options" title='options' data-ref="287options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE" title='xla::ExecutableRunOptions::set_allocator' data-ref="_ZN3xla20ExecutableRunOptions13set_allocatorEPNS_21DeviceMemoryAllocatorE">set_allocator</a>(<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16memory_allocatorEv" title='xla::Backend::memory_allocator' data-ref="_ZNK3xla7Backend16memory_allocatorEv">memory_allocator</a>());</td></tr>
<tr><th id="1252">1252</th><td>    <a class="local col7 ref" href="#287options" title='options' data-ref="287options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE" title='xla::ExecutableRunOptions::set_inter_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_inter_op_thread_poolEPN10tensorflow6thread10ThreadPoolE">set_inter_op_thread_pool</a>(<a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend20inter_op_thread_poolEv" title='xla::Backend::inter_op_thread_pool' data-ref="_ZNK3xla7Backend20inter_op_thread_poolEv">inter_op_thread_pool</a>());</td></tr>
<tr><th id="1253">1253</th><td>    <a class="local col7 ref" href="#287options" title='options' data-ref="287options">options</a>.<a class="ref" href="../executable_run_options.h.html#_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE" title='xla::ExecutableRunOptions::set_intra_op_thread_pool' data-ref="_ZN3xla20ExecutableRunOptions24set_intra_op_thread_poolEPKN5Eigen16ThreadPoolDeviceE">set_intra_op_thread_pool</a>(</td></tr>
<tr><th id="1254">1254</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv" title='xla::Backend::eigen_intra_op_thread_pool_device' data-ref="_ZNK3xla7Backend33eigen_intra_op_thread_pool_deviceEv">eigen_intra_op_thread_pool_device</a>());</td></tr>
<tr><th id="1255">1255</th><td></td></tr>
<tr><th id="1256">1256</th><td>    <a class="type" href="service_executable_run_options.h.html#xla::ServiceExecutableRunOptions" title='xla::ServiceExecutableRunOptions' data-ref="xla::ServiceExecutableRunOptions">ServiceExecutableRunOptions</a> <dfn class="local col8 decl" id="288service_options" title='service_options' data-type='xla::ServiceExecutableRunOptions' data-ref="288service_options">service_options</dfn><a class="ref" href="service_executable_run_options.h.html#_ZN3xla27ServiceExecutableRunOptionsC1ENS_20ExecutableRunOptionsESt8functionIFNS_8StatusOrISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7De14859135" title='xla::ServiceExecutableRunOptions::ServiceExecutableRunOptions' data-ref="_ZN3xla27ServiceExecutableRunOptionsC1ENS_20ExecutableRunOptionsESt8functionIFNS_8StatusOrISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7De14859135">(</a></td></tr>
<tr><th id="1257">1257</th><td>        <a class="ref fake" href="../executable_run_options.h.html#47" title='xla::ExecutableRunOptions::ExecutableRunOptions' data-ref="_ZN3xla20ExecutableRunOptionsC1ERKS0_"></a><a class="local col7 ref" href="#287options" title='options' data-ref="287options">options</a>, <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZN3xla7Backend14StreamBorrowerEv" title='xla::Backend::StreamBorrower' data-ref="_ZN3xla7Backend14StreamBorrowerEv">StreamBorrower</a>());</td></tr>
<tr><th id="1258">1258</th><td></td></tr>
<tr><th id="1259">1259</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value131 = (executable-&gt;ExecuteAsyncOnStream( &amp;service_options, replicated_arguments[i])); if ((__builtin_expect(!_status_or_value131.ok(), 0))) { return _status_or_value131.status(); } std::unique_ptr&lt;ShapedBuffer&gt; this_result_buffer = std::move(_status_or_value131.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt; <dfn class="local col9 decl" id="289this_result_buffer" title='this_result_buffer' data-type='std::unique_ptr&lt;ShapedBuffer&gt;' data-ref="289this_result_buffer">this_result_buffer</dfn>,</td></tr>
<tr><th id="1260">1260</th><td>                        <a class="local col0 ref" href="#1232" title='executable' data-ref="280executable">executable</a><a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv">-&gt;</a><a class="virtual ref" href="executable.h.html#_ZN3xla10Executable20ExecuteAsyncOnStreamEPKNS_27ServiceExecutableRunOptionsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE" title='xla::Executable::ExecuteAsyncOnStream' data-ref="_ZN3xla10Executable20ExecuteAsyncOnStreamEPKNS_27ServiceExecutableRunOptionsEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEE">ExecuteAsyncOnStream</a>(</td></tr>
<tr><th id="1261">1261</th><td>                            &amp;<a class="local col8 ref" href="#288service_options" title='service_options' data-ref="288service_options">service_options</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#1218" title='replicated_arguments' data-ref="277replicated_arguments">replicated_arguments</a>[<a class="local col5 ref" href="#285i" title='i' data-ref="285i">i</a>]));</td></tr>
<tr><th id="1262">1262</th><td></td></tr>
<tr><th id="1263">1263</th><td>    <a class="local col4 ref" href="#284result_buffers" title='result_buffers' data-ref="284result_buffers">result_buffers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col9 ref" href="#1259" title='this_result_buffer' data-ref="289this_result_buffer">this_result_buffer</a></span>));</td></tr>
<tr><th id="1264">1264</th><td>  }</td></tr>
<tr><th id="1265">1265</th><td></td></tr>
<tr><th id="1266">1266</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value133 = (allocation_tracker_.RegisterReplicatedBuffers( std::move(result_buffers), &quot;result of &quot; + user_computation-&gt;name())); if ((__builtin_expect(!_status_or_value133.ok(), 0))) { return _status_or_value133.status(); } GlobalDataHandle output = std::move(_status_or_value133.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1267">1267</th><td>      <a class="type" href="../xla_data.pb.h.html#xla::GlobalDataHandle" title='xla::GlobalDataHandle' data-ref="xla::GlobalDataHandle">GlobalDataHandle</a> <dfn class="local col0 decl" id="290output" title='output' data-type='xla::GlobalDataHandle' data-ref="290output">output</dfn>,</td></tr>
<tr><th id="1268">1268</th><td>      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs" title='xla::AllocationTracker::RegisterReplicatedBuffers' data-ref="_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs">RegisterReplicatedBuffers</a>(</td></tr>
<tr><th id="1269">1269</th><td>          <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col4 ref" href="#284result_buffers" title='result_buffers' data-ref="284result_buffers">result_buffers</a></span>), <q>"result of "</q> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.tcc.html#_ZStplPKT_RKSbIS_T0_T1_E" title='std::operator+' data-ref="_ZStplPKT_RKSbIS_T0_T1_E">+</a> <a class="local col3 ref" href="#1202" title='user_computation' data-ref="273user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation4nameEv" title='xla::UserComputation::name' data-ref="_ZNK3xla15UserComputation4nameEv">name</a>()));</td></tr>
<tr><th id="1270">1270</th><td></td></tr>
<tr><th id="1271">1271</th><td>  *<a class="local col2 ref" href="#272result" title='result' data-ref="272result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla20ExecuteAsyncResponse17mutable_executionEv" title='xla::ExecuteAsyncResponse::mutable_execution' data-ref="_ZN3xla20ExecuteAsyncResponse17mutable_executionEv">mutable_execution</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla15ExecutionHandleaSEOS0_" title='xla::ExecutionHandle::operator=' data-ref="_ZN3xla15ExecutionHandleaSEOS0_">=</a> <a class="member" href="service.h.html#xla::Service::execution_tracker_" title='xla::Service::execution_tracker_' data-ref="xla::Service::execution_tracker_">execution_tracker_</a>.<a class="ref" href="execution_tracker.h.html#_ZN3xla16ExecutionTracker8RegisterEPNS_7BackendESt6vectorISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7DeleterEESaISB_EERKNS_16ExecutionPr4066508" title='xla::ExecutionTracker::Register' data-ref="_ZN3xla16ExecutionTracker8RegisterEPNS_7BackendESt6vectorISt10unique_ptrIN9perftools8gputools6StreamENS_4PoolIS7_E7DeleterEESaISB_EERKNS_16ExecutionPr4066508">Register</a>(</td></tr>
<tr><th id="1272">1272</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#281streams" title='streams' data-ref="281streams">streams</a></span>), <a class="local col9 ref" href="#279profile" title='profile' data-ref="279profile">profile</a>, <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16GlobalDataHandleC1ERKS0_" title='xla::GlobalDataHandle::GlobalDataHandle' data-ref="_ZN3xla16GlobalDataHandleC1ERKS0_"></a><a class="local col0 ref" href="#1266" title='output' data-ref="290output">output</a>);</td></tr>
<tr><th id="1273">1273</th><td>  <a class="local col1 ref" href="#281streams" title='streams' data-ref="281streams">streams</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5clearEv" title='std::vector::clear' data-ref="_ZNSt6vector5clearEv">clear</a>();</td></tr>
<tr><th id="1274">1274</th><td></td></tr>
<tr><th id="1275">1275</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1275, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'execute-async' request"</q>;</td></tr>
<tr><th id="1276">1276</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1277">1277</th><td>}</td></tr>
<tr><th id="1278">1278</th><td></td></tr>
<tr><th id="1279">1279</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16WaitForExecutionEPKNS_23WaitForExecutionRequestEPNS_24WaitForExecutionResponseE" title='xla::Service::WaitForExecution' data-ref="_ZN3xla7Service16WaitForExecutionEPKNS_23WaitForExecutionRequestEPNS_24WaitForExecutionResponseE">WaitForExecution</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::WaitForExecutionRequest" title='xla::WaitForExecutionRequest' data-ref="xla::WaitForExecutionRequest">WaitForExecutionRequest</a>* <dfn class="local col1 decl" id="291arg" title='arg' data-type='const xla::WaitForExecutionRequest *' data-ref="291arg">arg</dfn>,</td></tr>
<tr><th id="1280">1280</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::WaitForExecutionResponse" title='xla::WaitForExecutionResponse' data-ref="xla::WaitForExecutionResponse">WaitForExecutionResponse</a>* <dfn class="local col2 decl" id="292result" title='result' data-type='xla::WaitForExecutionResponse *' data-ref="292result">result</dfn>) {</td></tr>
<tr><th id="1281">1281</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value135 = (execution_tracker_.Resolve(arg-&gt;execution())); if ((__builtin_expect(!_status_or_value135.ok(), 0))) { return _status_or_value135.status(); } const auto execution = std::move(_status_or_value135.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>const</em> <em>auto</em> <dfn class="local col3 decl" id="293execution" title='execution' data-type='const xla::AsyncExecution *const' data-ref="293execution">execution</dfn>,</td></tr>
<tr><th id="1282">1282</th><td>                      <a class="member" href="service.h.html#xla::Service::execution_tracker_" title='xla::Service::execution_tracker_' data-ref="xla::Service::execution_tracker_">execution_tracker_</a>.<a class="ref" href="execution_tracker.h.html#_ZN3xla16ExecutionTracker7ResolveERKNS_15ExecutionHandleE" title='xla::ExecutionTracker::Resolve' data-ref="_ZN3xla16ExecutionTracker7ResolveERKNS_15ExecutionHandleE">Resolve</a>(<a class="local col1 ref" href="#291arg" title='arg' data-ref="291arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23WaitForExecutionRequest9executionEv" title='xla::WaitForExecutionRequest::execution' data-ref="_ZNK3xla23WaitForExecutionRequest9executionEv">execution</a>()));</td></tr>
<tr><th id="1283">1283</th><td></td></tr>
<tr><th id="1284">1284</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (execution-&gt;BlockUntilDone()); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col3 ref" href="#1281" title='execution' data-ref="293execution">execution</a>-&gt;<a class="ref" href="execution_tracker.h.html#_ZNK3xla14AsyncExecution14BlockUntilDoneEv" title='xla::AsyncExecution::BlockUntilDone' data-ref="_ZNK3xla14AsyncExecution14BlockUntilDoneEv">BlockUntilDone</a>());</td></tr>
<tr><th id="1285">1285</th><td></td></tr>
<tr><th id="1286">1286</th><td>  *<a class="local col2 ref" href="#292result" title='result' data-ref="292result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24WaitForExecutionResponse14mutable_outputEv" title='xla::WaitForExecutionResponse::mutable_output' data-ref="_ZN3xla24WaitForExecutionResponse14mutable_outputEv">mutable_output</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16GlobalDataHandleaSERKS0_" title='xla::GlobalDataHandle::operator=' data-ref="_ZN3xla16GlobalDataHandleaSERKS0_">=</a> <a class="local col3 ref" href="#1281" title='execution' data-ref="293execution">execution</a>-&gt;<a class="ref" href="execution_tracker.h.html#_ZNK3xla14AsyncExecution6resultEv" title='xla::AsyncExecution::result' data-ref="_ZNK3xla14AsyncExecution6resultEv">result</a>();</td></tr>
<tr><th id="1287">1287</th><td>  *<a class="local col2 ref" href="#292result" title='result' data-ref="292result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24WaitForExecutionResponse15mutable_profileEv" title='xla::WaitForExecutionResponse::mutable_profile' data-ref="_ZN3xla24WaitForExecutionResponse15mutable_profileEv">mutable_profile</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ExecutionProfileaSERKS0_" title='xla::ExecutionProfile::operator=' data-ref="_ZN3xla16ExecutionProfileaSERKS0_">=</a> <a class="local col3 ref" href="#1281" title='execution' data-ref="293execution">execution</a>-&gt;<a class="ref" href="execution_tracker.h.html#_ZNK3xla14AsyncExecution7profileEv" title='xla::AsyncExecution::profile' data-ref="_ZNK3xla14AsyncExecution7profileEv">profile</a>();</td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (execution_tracker_.Unregister(arg-&gt;execution())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="member" href="service.h.html#xla::Service::execution_tracker_" title='xla::Service::execution_tracker_' data-ref="xla::Service::execution_tracker_">execution_tracker_</a>.<a class="ref" href="execution_tracker.h.html#_ZN3xla16ExecutionTracker10UnregisterERKNS_15ExecutionHandleE" title='xla::ExecutionTracker::Unregister' data-ref="_ZN3xla16ExecutionTracker10UnregisterERKNS_15ExecutionHandleE">Unregister</a>(<a class="local col1 ref" href="#291arg" title='arg' data-ref="291arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23WaitForExecutionRequest9executionEv" title='xla::WaitForExecutionRequest::execution' data-ref="_ZNK3xla23WaitForExecutionRequest9executionEv">execution</a>()));</td></tr>
<tr><th id="1290">1290</th><td>  <a class="macro" href="../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((1) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1290, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>1</var>) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"successfully completed 'wait-for-execution' request"</q>;</td></tr>
<tr><th id="1291">1291</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1292">1292</th><td>}</td></tr>
<tr><th id="1293">1293</th><td></td></tr>
<tr><th id="1294">1294</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16TransferToClientEPKNS_23TransferToClientRequestEPNS_24TransferToClientResponseE" title='xla::Service::TransferToClient' data-ref="_ZN3xla7Service16TransferToClientEPKNS_23TransferToClientRequestEPNS_24TransferToClientResponseE">TransferToClient</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::TransferToClientRequest" title='xla::TransferToClientRequest' data-ref="xla::TransferToClientRequest">TransferToClientRequest</a>* <dfn class="local col4 decl" id="294arg" title='arg' data-type='const xla::TransferToClientRequest *' data-ref="294arg">arg</dfn>,</td></tr>
<tr><th id="1295">1295</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::TransferToClientResponse" title='xla::TransferToClientResponse' data-ref="xla::TransferToClientResponse">TransferToClientResponse</a>* <dfn class="local col5 decl" id="295result" title='result' data-type='xla::TransferToClientResponse *' data-ref="295result">result</dfn>) {</td></tr>
<tr><th id="1296">1296</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value137 = (allocation_tracker_.ResolveForReplica(arg-&gt;data(), 0)); if ((__builtin_expect(!_status_or_value137.ok(), 0))) { return _status_or_value137.status(); } const ShapedBuffer* shaped_buffer = std::move(_status_or_value137.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col6 decl" id="296shaped_buffer" title='shaped_buffer' data-type='const xla::ShapedBuffer *' data-ref="296shaped_buffer">shaped_buffer</dfn>,</td></tr>
<tr><th id="1297">1297</th><td>                      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi" title='xla::AllocationTracker::ResolveForReplica' data-ref="_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi">ResolveForReplica</a>(<a class="local col4 ref" href="#294arg" title='arg' data-ref="294arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToClientRequest4dataEv" title='xla::TransferToClientRequest::data' data-ref="_ZNK3xla23TransferToClientRequest4dataEv">data</a>(), <var>0</var>));</td></tr>
<tr><th id="1298">1298</th><td></td></tr>
<tr><th id="1299">1299</th><td>  <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>* <dfn class="local col7 decl" id="297return_shape" title='return_shape' data-type='const xla::Shape *' data-ref="297return_shape">return_shape</dfn>;</td></tr>
<tr><th id="1300">1300</th><td>  <b>if</b> (<a class="local col4 ref" href="#294arg" title='arg' data-ref="294arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToClientRequest21has_shape_with_layoutEv" title='xla::TransferToClientRequest::has_shape_with_layout' data-ref="_ZNK3xla23TransferToClientRequest21has_shape_with_layoutEv">has_shape_with_layout</a>()) {</td></tr>
<tr><th id="1301">1301</th><td>    <b>if</b> (!<a class="type" href="../layout_util.h.html#xla::LayoutUtil" title='xla::LayoutUtil' data-ref="xla::LayoutUtil">LayoutUtil</a>::<a class="ref" href="../layout_util.h.html#_ZN3xla10LayoutUtil9HasLayoutERKNS_5ShapeE" title='xla::LayoutUtil::HasLayout' data-ref="_ZN3xla10LayoutUtil9HasLayoutERKNS_5ShapeE">HasLayout</a>(<a class="local col4 ref" href="#294arg" title='arg' data-ref="294arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToClientRequest17shape_with_layoutEv" title='xla::TransferToClientRequest::shape_with_layout' data-ref="_ZNK3xla23TransferToClientRequest17shape_with_layoutEv">shape_with_layout</a>())) {</td></tr>
<tr><th id="1302">1302</th><td>      <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"shape_with_layout must have layout if present."</q>);</td></tr>
<tr><th id="1303">1303</th><td>    }</td></tr>
<tr><th id="1304">1304</th><td>    <a class="local col7 ref" href="#297return_shape" title='return_shape' data-ref="297return_shape">return_shape</a> = &amp;<a class="local col4 ref" href="#294arg" title='arg' data-ref="294arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToClientRequest17shape_with_layoutEv" title='xla::TransferToClientRequest::shape_with_layout' data-ref="_ZNK3xla23TransferToClientRequest17shape_with_layoutEv">shape_with_layout</a>();</td></tr>
<tr><th id="1305">1305</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1306">1306</th><td>    <a class="local col7 ref" href="#297return_shape" title='return_shape' data-ref="297return_shape">return_shape</a> = &amp;<a class="local col6 ref" href="#1296" title='shaped_buffer' data-ref="296shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer13on_host_shapeEv" title='xla::ShapedBuffer::on_host_shape' data-ref="_ZNK3xla12ShapedBuffer13on_host_shapeEv">on_host_shape</a>();</td></tr>
<tr><th id="1307">1307</th><td>  }</td></tr>
<tr><th id="1308">1308</th><td></td></tr>
<tr><th id="1309">1309</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value139 = (execute_backend_-&gt;stream_executor(shaped_buffer-&gt;device_ordinal())); if ((__builtin_expect(!_status_or_value139.ok(), 0))) { return _status_or_value139.status(); } se::StreamExecutor * executor = std::move(_status_or_value139.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1310">1310</th><td>      se::<a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a> * <dfn class="local col8 decl" id="298executor" title='executor' data-type='se::StreamExecutor *' data-ref="298executor">executor</dfn>,</td></tr>
<tr><th id="1311">1311</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend15stream_executorEi" title='xla::Backend::stream_executor' data-ref="_ZNK3xla7Backend15stream_executorEi">stream_executor</a>(<a class="local col6 ref" href="#1296" title='shaped_buffer' data-ref="296shaped_buffer">shaped_buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer14device_ordinalEv" title='xla::ShapedBuffer::device_ordinal' data-ref="_ZNK3xla12ShapedBuffer14device_ordinalEv">device_ordinal</a>()));</td></tr>
<tr><th id="1312">1312</th><td></td></tr>
<tr><th id="1313">1313</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value141 = (execute_backend_-&gt;transfer_manager()-&gt;TransferLiteralFromDevice( executor, *shaped_buffer)); if ((__builtin_expect(!_status_or_value141.ok(), 0))) { return _status_or_value141.status(); } std::unique_ptr&lt;Literal&gt; result_literal = std::move(_status_or_value141.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1314">1314</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt; <dfn class="local col9 decl" id="299result_literal" title='result_literal' data-type='std::unique_ptr&lt;Literal&gt;' data-ref="299result_literal">result_literal</dfn>,</td></tr>
<tr><th id="1315">1315</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>()-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE" title='xla::TransferManager::TransferLiteralFromDevice' data-ref="_ZN3xla15TransferManager25TransferLiteralFromDeviceEPN9perftools8gputools14StreamExecutorERKNS_12ShapedBufferE">TransferLiteralFromDevice</a>(</td></tr>
<tr><th id="1316">1316</th><td>          <a class="local col8 ref" href="#1309" title='executor' data-ref="298executor">executor</a>, *<a class="local col6 ref" href="#1296" title='shaped_buffer' data-ref="296shaped_buffer">shaped_buffer</a>));</td></tr>
<tr><th id="1317">1317</th><td></td></tr>
<tr><th id="1318">1318</th><td>  <b>if</b> (<a class="type" href="../layout_util.h.html#xla::LayoutUtil" title='xla::LayoutUtil' data-ref="xla::LayoutUtil">LayoutUtil</a>::<a class="ref" href="../layout_util.h.html#_ZN3xla10LayoutUtil20LayoutsInShapesEqualERKNS_5ShapeES3_" title='xla::LayoutUtil::LayoutsInShapesEqual' data-ref="_ZN3xla10LayoutUtil20LayoutsInShapesEqualERKNS_5ShapeES3_">LayoutsInShapesEqual</a>(*<a class="local col7 ref" href="#297return_shape" title='return_shape' data-ref="297return_shape">return_shape</a>,</td></tr>
<tr><th id="1319">1319</th><td>                                       <a class="local col9 ref" href="#1313" title='result_literal' data-ref="299result_literal">result_literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal5shapeEv" title='xla::Literal::shape' data-ref="_ZNK3xla7Literal5shapeEv">shape</a>())) {</td></tr>
<tr><th id="1320">1320</th><td>    *<a class="local col5 ref" href="#295result" title='result' data-ref="295result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24TransferToClientResponse15mutable_literalEv" title='xla::TransferToClientResponse::mutable_literal' data-ref="_ZN3xla24TransferToClientResponse15mutable_literalEv">mutable_literal</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a> <a class="local col9 ref" href="#1313" title='result_literal' data-ref="299result_literal">result_literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="1321">1321</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1322">1322</th><td>    *<a class="local col5 ref" href="#295result" title='result' data-ref="295result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24TransferToClientResponse15mutable_literalEv" title='xla::TransferToClientResponse::mutable_literal' data-ref="_ZN3xla24TransferToClientResponse15mutable_literalEv">mutable_literal</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a></td></tr>
<tr><th id="1323">1323</th><td>        <a class="local col9 ref" href="#1313" title='result_literal' data-ref="299result_literal">result_literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal8RelayoutERKNS_5ShapeE" title='xla::Literal::Relayout' data-ref="_ZNK3xla7Literal8RelayoutERKNS_5ShapeE">Relayout</a>(*<a class="local col7 ref" href="#297return_shape" title='return_shape' data-ref="297return_shape">return_shape</a>)<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="1324">1324</th><td>  }</td></tr>
<tr><th id="1325">1325</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1326">1326</th><td>}</td></tr>
<tr><th id="1327">1327</th><td></td></tr>
<tr><th id="1328">1328</th><td><b>namespace</b> {</td></tr>
<tr><th id="1329">1329</th><td></td></tr>
<tr><th id="1330">1330</th><td><i  data-doc="_ZN3xla12_GLOBAL__N_125CloneShapedBufferOnDeviceERKNS_12ShapedBufferEi">// Creates a clone of the given shaped buffer with the given device ordinal. The</i></td></tr>
<tr><th id="1331">1331</th><td><i  data-doc="_ZN3xla12_GLOBAL__N_125CloneShapedBufferOnDeviceERKNS_12ShapedBufferEi">// shape and DeviceMemoryBase values of the clone are identical to the original.</i></td></tr>
<tr><th id="1332">1332</th><td><span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt; <dfn class="tu decl def" id="_ZN3xla12_GLOBAL__N_125CloneShapedBufferOnDeviceERKNS_12ShapedBufferEi" title='xla::(anonymous namespace)::CloneShapedBufferOnDevice' data-type='std::unique_ptr&lt;ShapedBuffer&gt; xla::(anonymous namespace)::CloneShapedBufferOnDevice(const xla::ShapedBuffer &amp; shaped_buffer, int device_ordinal)' data-ref="_ZN3xla12_GLOBAL__N_125CloneShapedBufferOnDeviceERKNS_12ShapedBufferEi">CloneShapedBufferOnDevice</dfn>(</td></tr>
<tr><th id="1333">1333</th><td>    <em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&amp; <dfn class="local col0 decl" id="300shaped_buffer" title='shaped_buffer' data-type='const xla::ShapedBuffer &amp;' data-ref="300shaped_buffer">shaped_buffer</dfn>, <em>int</em> <dfn class="local col1 decl" id="301device_ordinal" title='device_ordinal' data-type='int' data-ref="301device_ordinal">device_ordinal</dfn>) {</td></tr>
<tr><th id="1334">1334</th><td>  <em>auto</em> <dfn class="local col2 decl" id="302clone" title='clone' data-type='std::unique_ptr&lt;xla::ShapedBuffer, std::default_delete&lt;xla::ShapedBuffer&gt; &gt;' data-ref="302clone">clone</dfn> = <a class="ref" href="../ptr_util.h.html#_ZN3xla10MakeUniqueEDpOT0_" title='xla::MakeUnique' data-ref="_ZN3xla10MakeUniqueEDpOT0_">MakeUnique</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt;(</td></tr>
<tr><th id="1335">1335</th><td>      <a class="local col0 ref" href="#300shaped_buffer" title='shaped_buffer' data-ref="300shaped_buffer">shaped_buffer</a>.<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer13on_host_shapeEv" title='xla::ShapedBuffer::on_host_shape' data-ref="_ZNK3xla12ShapedBuffer13on_host_shapeEv">on_host_shape</a>(), <a class="local col0 ref" href="#300shaped_buffer" title='shaped_buffer' data-ref="300shaped_buffer">shaped_buffer</a>.<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer15on_device_shapeEv" title='xla::ShapedBuffer::on_device_shape' data-ref="_ZNK3xla12ShapedBuffer15on_device_shapeEv">on_device_shape</a>(),</td></tr>
<tr><th id="1336">1336</th><td>      <a class="local col0 ref" href="#300shaped_buffer" title='shaped_buffer' data-ref="300shaped_buffer">shaped_buffer</a>.<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer8platformEv" title='xla::ShapedBuffer::platform' data-ref="_ZNK3xla12ShapedBuffer8platformEv">platform</a>(), <span class='refarg'><a class="local col1 ref" href="#301device_ordinal" title='device_ordinal' data-ref="301device_ordinal">device_ordinal</a></span>);</td></tr>
<tr><th id="1337">1337</th><td>  <a class="local col2 ref" href="#302clone" title='clone' data-ref="302clone">clone</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="shaped_buffer.h.html#_ZN3xla12ShapedBuffer7buffersEv" title='xla::ShapedBuffer::buffers' data-ref="_ZN3xla12ShapedBuffer7buffersEv">buffers</a>() <a class="ref" href="../shape_tree.h.html#_ZN3xla9ShapeTreeaSERKNS_9ShapeTreeIT_EE" title='xla::ShapeTree::operator=' data-ref="_ZN3xla9ShapeTreeaSERKNS_9ShapeTreeIT_EE">=</a> <a class="local col0 ref" href="#300shaped_buffer" title='shaped_buffer' data-ref="300shaped_buffer">shaped_buffer</a>.<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer7buffersEv" title='xla::ShapedBuffer::buffers' data-ref="_ZNK3xla12ShapedBuffer7buffersEv">buffers</a>();</td></tr>
<tr><th id="1338">1338</th><td>  <b>return</b> <a class="local col2 ref" href="#302clone" title='clone' data-ref="302clone">clone</a>;</td></tr>
<tr><th id="1339">1339</th><td>}</td></tr>
<tr><th id="1340">1340</th><td></td></tr>
<tr><th id="1341">1341</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="1342">1342</th><td></td></tr>
<tr><th id="1343">1343</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16TransferToServerEPKNS_23TransferToServerRequestEPNS_24TransferToServerResponseE" title='xla::Service::TransferToServer' data-ref="_ZN3xla7Service16TransferToServerEPKNS_23TransferToServerRequestEPNS_24TransferToServerResponseE">TransferToServer</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::TransferToServerRequest" title='xla::TransferToServerRequest' data-ref="xla::TransferToServerRequest">TransferToServerRequest</a>* <dfn class="local col3 decl" id="303arg" title='arg' data-type='const xla::TransferToServerRequest *' data-ref="303arg">arg</dfn>,</td></tr>
<tr><th id="1344">1344</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::TransferToServerResponse" title='xla::TransferToServerResponse' data-ref="xla::TransferToServerResponse">TransferToServerResponse</a>* <dfn class="local col4 decl" id="304result" title='result' data-type='xla::TransferToServerResponse *' data-ref="304result">result</dfn>) {</td></tr>
<tr><th id="1345">1345</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value143 = (Literal::CreateFromProto(arg-&gt;literal())); if ((__builtin_expect(!_status_or_value143.ok(), 0))) { return _status_or_value143.status(); } std::unique_ptr&lt;Literal&gt; literal = std::move(_status_or_value143.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt; <dfn class="local col5 decl" id="305literal" title='literal' data-type='std::unique_ptr&lt;Literal&gt;' data-ref="305literal">literal</dfn>,</td></tr>
<tr><th id="1346">1346</th><td>                      <a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>::<a class="ref" href="../literal_util.h.html#_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE" title='xla::Literal::CreateFromProto' data-ref="_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE">CreateFromProto</a>(<a class="local col3 ref" href="#303arg" title='arg' data-ref="303arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToServerRequest7literalEv" title='xla::TransferToServerRequest::literal' data-ref="_ZNK3xla23TransferToServerRequest7literalEv">literal</a>()));</td></tr>
<tr><th id="1347">1347</th><td>  <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a>&amp; <dfn class="local col6 decl" id="306shape" title='shape' data-type='const xla::Shape &amp;' data-ref="306shape">shape</dfn> = <a class="local col5 ref" href="#1345" title='literal' data-ref="305literal">literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal5shapeEv" title='xla::Literal::shape' data-ref="_ZNK3xla7Literal5shapeEv">shape</a>();</td></tr>
<tr><th id="1348">1348</th><td></td></tr>
<tr><th id="1349">1349</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col7 decl" id="307replicas" title='replicas' data-type='std::vector&lt;se::StreamExecutor *&gt;' data-ref="307replicas">replicas</dfn>;</td></tr>
<tr><th id="1350">1350</th><td>  <b>if</b> (<a class="local col3 ref" href="#303arg" title='arg' data-ref="303arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToServerRequest17has_device_handleEv" title='xla::TransferToServerRequest::has_device_handle' data-ref="_ZNK3xla23TransferToServerRequest17has_device_handleEv">has_device_handle</a>()) {</td></tr>
<tr><th id="1351">1351</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value145 = (Replicas(*execute_backend_, arg-&gt;device_handle())); if ((__builtin_expect(!_status_or_value145.ok(), 0))) { return _status_or_value145.status(); } replicas = std::move(_status_or_value145.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="local col7 ref" href="#307replicas" title='replicas' data-ref="307replicas">replicas</a>,</td></tr>
<tr><th id="1352">1352</th><td>                        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="local col3 ref" href="#303arg" title='arg' data-ref="303arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToServerRequest13device_handleEv" title='xla::TransferToServerRequest::device_handle' data-ref="_ZNK3xla23TransferToServerRequest13device_handleEv">device_handle</a>()));</td></tr>
<tr><th id="1353">1353</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1354">1354</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value147 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value147.ok(), 0))) { return _status_or_value147.status(); } replicas = std::move(_status_or_value147.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1355">1355</th><td>        <a class="local col7 ref" href="#307replicas" title='replicas' data-ref="307replicas">replicas</a>, <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1356">1356</th><td>  }</td></tr>
<tr><th id="1357">1357</th><td></td></tr>
<tr><th id="1358">1358</th><td>  <i>// Allocate memory in each replica and transfer the data to all replicas.</i></td></tr>
<tr><th id="1359">1359</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt;&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col8 decl" id="308replicated_buffers" title='replicated_buffers' data-type='std::vector&lt;std::unique_ptr&lt;ShapedBuffer&gt; &gt;' data-ref="308replicated_buffers">replicated_buffers</dfn>;</td></tr>
<tr><th id="1360">1360</th><td>  <b>for</b> (<span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col9 decl" id="309executor" title='executor' data-type='se::StreamExecutor *' data-ref="309executor">executor</dfn> : <a class="local col7 ref" href="#307replicas" title='replicas' data-ref="307replicas">replicas</a>) {</td></tr>
<tr><th id="1361">1361</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value149 = (execute_backend_-&gt;transfer_manager()-&gt;AllocateShapedBuffer( shape, execute_backend_-&gt;memory_allocator(), executor-&gt;device_ordinal())); if ((__builtin_expect(!_status_or_value149.ok(), 0))) { return _status_or_value149.status(); } std::unique_ptr&lt;ShapedBuffer&gt; shaped_buffer = std::move(_status_or_value149.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1362">1362</th><td>        std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>&gt; <dfn class="local col0 decl" id="310shaped_buffer" title='shaped_buffer' data-type='std::unique_ptr&lt;ShapedBuffer&gt;' data-ref="310shaped_buffer">shaped_buffer</dfn>,</td></tr>
<tr><th id="1363">1363</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>()-&gt;<a class="ref" href="transfer_manager.h.html#_ZN3xla15TransferManager20AllocateShapedBufferERKNS_5ShapeEPNS_21DeviceMemoryAllocatorEi" title='xla::TransferManager::AllocateShapedBuffer' data-ref="_ZN3xla15TransferManager20AllocateShapedBufferERKNS_5ShapeEPNS_21DeviceMemoryAllocatorEi">AllocateShapedBuffer</a>(</td></tr>
<tr><th id="1364">1364</th><td>            <a class="local col6 ref" href="#306shape" title='shape' data-ref="306shape">shape</a>, <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16memory_allocatorEv" title='xla::Backend::memory_allocator' data-ref="_ZNK3xla7Backend16memory_allocatorEv">memory_allocator</a>(),</td></tr>
<tr><th id="1365">1365</th><td>            <a class="local col9 ref" href="#309executor" title='executor' data-ref="309executor">executor</a>-&gt;<a class="ref" href="../../../stream_executor/stream_executor_pimpl.h.html#_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv" title='perftools::gputools::StreamExecutor::device_ordinal' data-ref="_ZNK9perftools8gputools14StreamExecutor14device_ordinalEv">device_ordinal</a>()));</td></tr>
<tr><th id="1366">1366</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (execute_backend_-&gt;transfer_manager()-&gt;TransferLiteralToDevice( executor, *literal, *shaped_buffer)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="1367">1367</th><td>        <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>()-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager23TransferLiteralToDeviceEPN9perftools8gputools14StreamExecutorERKNS_7LiteralERKNS_12ShapedBufferE" title='xla::TransferManager::TransferLiteralToDevice' data-ref="_ZN3xla15TransferManager23TransferLiteralToDeviceEPN9perftools8gputools14StreamExecutorERKNS_7LiteralERKNS_12ShapedBufferE">TransferLiteralToDevice</a>(</td></tr>
<tr><th id="1368">1368</th><td>            <a class="local col9 ref" href="#309executor" title='executor' data-ref="309executor">executor</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col5 ref" href="#1345" title='literal' data-ref="305literal">literal</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col0 ref" href="#1361" title='shaped_buffer' data-ref="310shaped_buffer">shaped_buffer</a>));</td></tr>
<tr><th id="1369">1369</th><td>    <a class="local col8 ref" href="#308replicated_buffers" title='replicated_buffers' data-ref="308replicated_buffers">replicated_buffers</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector12emplace_backEDpOT_" title='std::vector::emplace_back' data-ref="_ZNSt6vector12emplace_backEDpOT_">emplace_back</a>(<span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col0 ref" href="#1361" title='shaped_buffer' data-ref="310shaped_buffer">shaped_buffer</a></span>));</td></tr>
<tr><th id="1370">1370</th><td>  }</td></tr>
<tr><th id="1371">1371</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value151 = (allocation_tracker_.RegisterReplicatedBuffers( std::move(replicated_buffers), StrCat(&quot;TransferToServer literal of shape &quot;, ShapeUtil::HumanString(shape)))); if ((__builtin_expect(!_status_or_value151.ok(), 0))) { return _status_or_value151.status(); } *result-&gt;mutable_data() = std::move(_status_or_value151.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col4 ref" href="#304result" title='result' data-ref="304result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24TransferToServerResponse12mutable_dataEv" title='xla::TransferToServerResponse::mutable_data' data-ref="_ZN3xla24TransferToServerResponse12mutable_dataEv">mutable_data</a>(),</td></tr>
<tr><th id="1372">1372</th><td>                      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs" title='xla::AllocationTracker::RegisterReplicatedBuffers' data-ref="_ZN3xla17AllocationTracker25RegisterReplicatedBuffersESt6vectorISt10unique_ptrINS_12ShapedBufferESt14default_deleteIS3_EESaIS6_EERKSs">RegisterReplicatedBuffers</a>(</td></tr>
<tr><th id="1373">1373</th><td>                          <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EOSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></a>std::<a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col8 ref" href="#308replicated_buffers" title='replicated_buffers' data-ref="308replicated_buffers">replicated_buffers</a></span>),</td></tr>
<tr><th id="1374">1374</th><td>                          <a class="ref" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_" title='tensorflow::strings::StrCat' data-ref="_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_">StrCat</a>(<a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>"TransferToServer literal of shape "</q>,</td></tr>
<tr><th id="1375">1375</th><td>                                 <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1ERKSs" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1ERKSs"></a><a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE" title='xla::ShapeUtil::HumanString' data-ref="_ZN3xla9ShapeUtil11HumanStringERKNS_5ShapeE">HumanString</a>(<a class="local col6 ref" href="#306shape" title='shape' data-ref="306shape">shape</a>))));</td></tr>
<tr><th id="1376">1376</th><td></td></tr>
<tr><th id="1377">1377</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1378">1378</th><td>}</td></tr>
<tr><th id="1379">1379</th><td></td></tr>
<tr><th id="1380">1380</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service16TransferToInfeedEPKNS_23TransferToInfeedRequestEPNS_24TransferToInfeedResponseE" title='xla::Service::TransferToInfeed' data-ref="_ZN3xla7Service16TransferToInfeedEPKNS_23TransferToInfeedRequestEPNS_24TransferToInfeedResponseE">TransferToInfeed</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::TransferToInfeedRequest" title='xla::TransferToInfeedRequest' data-ref="xla::TransferToInfeedRequest">TransferToInfeedRequest</a>* <dfn class="local col1 decl" id="311arg" title='arg' data-type='const xla::TransferToInfeedRequest *' data-ref="311arg">arg</dfn>,</td></tr>
<tr><th id="1381">1381</th><td>                                             <a class="type" href="../xla.pb.h.html#xla::TransferToInfeedResponse" title='xla::TransferToInfeedResponse' data-ref="xla::TransferToInfeedResponse">TransferToInfeedResponse</a>* <dfn class="local col2 decl" id="312result" title='result' data-type='xla::TransferToInfeedResponse *' data-ref="312result">result</dfn>) {</td></tr>
<tr><th id="1382">1382</th><td>  <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="313replica_count" title='replica_count' data-type='const int64' data-ref="313replica_count">replica_count</dfn> = <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>();</td></tr>
<tr><th id="1383">1383</th><td>  <b>if</b> (<a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest10replica_idEv" title='xla::TransferToInfeedRequest::replica_id' data-ref="_ZNK3xla23TransferToInfeedRequest10replica_idEv">replica_id</a>() &lt; <var>0</var> || <a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest10replica_idEv" title='xla::TransferToInfeedRequest::replica_id' data-ref="_ZNK3xla23TransferToInfeedRequest10replica_idEv">replica_id</a>() &gt;= <a class="local col3 ref" href="#313replica_count" title='replica_count' data-ref="313replica_count">replica_count</a>) {</td></tr>
<tr><th id="1384">1384</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(</td></tr>
<tr><th id="1385">1385</th><td>        <q>"%s"</q>,</td></tr>
<tr><th id="1386">1386</th><td>        <a class="ref" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_S3_S3_S3_DpRKT_" title='tensorflow::strings::StrCat' data-ref="_ZN10tensorflow7strings6StrCatERKNS0_8AlphaNumES3_S3_S3_S3_DpRKT_">StrCat</a>(<a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>"The replica_id="</q>, <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1El" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1El"></a><a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest10replica_idEv" title='xla::TransferToInfeedRequest::replica_id' data-ref="_ZNK3xla23TransferToInfeedRequest10replica_idEv">replica_id</a>(),</td></tr>
<tr><th id="1387">1387</th><td>               <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>" on TransferToInfeedRequest not in range [0, replica_count="</q>,</td></tr>
<tr><th id="1388">1388</th><td>               <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1Ex" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1Ex"></a><a class="local col3 ref" href="#313replica_count" title='replica_count' data-ref="313replica_count">replica_count</a>, <a class="ref fake" href="../../../core/lib/strings/strcat.h.html#_ZN10tensorflow7strings8AlphaNumC1EPKc" title='tensorflow::strings::AlphaNum::AlphaNum' data-ref="_ZN10tensorflow7strings8AlphaNumC1EPKc"></a><q>")."</q>)</td></tr>
<tr><th id="1389">1389</th><td>            .<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="1390">1390</th><td>  }</td></tr>
<tr><th id="1391">1391</th><td></td></tr>
<tr><th id="1392">1392</th><td>  <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col4 decl" id="314executor" title='executor' data-type='se::StreamExecutor *' data-ref="314executor">executor</dfn>;</td></tr>
<tr><th id="1393">1393</th><td>  <b>if</b> (<a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest17has_device_handleEv" title='xla::TransferToInfeedRequest::has_device_handle' data-ref="_ZNK3xla23TransferToInfeedRequest17has_device_handleEv">has_device_handle</a>()) {</td></tr>
<tr><th id="1394">1394</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value153 = (Replicas(*execute_backend_, arg-&gt;device_handle())); if ((__builtin_expect(!_status_or_value153.ok(), 0))) { return _status_or_value153.status(); } auto replicas = std::move(_status_or_value153.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col5 decl" id="315replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="315replicas">replicas</dfn>,</td></tr>
<tr><th id="1395">1395</th><td>                        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest13device_handleEv" title='xla::TransferToInfeedRequest::device_handle' data-ref="_ZNK3xla23TransferToInfeedRequest13device_handleEv">device_handle</a>()));</td></tr>
<tr><th id="1396">1396</th><td>    <a class="local col4 ref" href="#314executor" title='executor' data-ref="314executor">executor</a> = <a class="local col5 ref" href="#1394" title='replicas' data-ref="315replicas">replicas</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest10replica_idEv" title='xla::TransferToInfeedRequest::replica_id' data-ref="_ZNK3xla23TransferToInfeedRequest10replica_idEv">replica_id</a>()]</a>;</td></tr>
<tr><th id="1397">1397</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1398">1398</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value155 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value155.ok(), 0))) { return _status_or_value155.status(); } auto replicas = std::move(_status_or_value155.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1399">1399</th><td>        <em>auto</em> <dfn class="local col6 decl" id="316replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="316replicas">replicas</dfn>,</td></tr>
<tr><th id="1400">1400</th><td>        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1401">1401</th><td>    <a class="local col4 ref" href="#314executor" title='executor' data-ref="314executor">executor</a> = <a class="local col6 ref" href="#1398" title='replicas' data-ref="316replicas">replicas</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest10replica_idEv" title='xla::TransferToInfeedRequest::replica_id' data-ref="_ZNK3xla23TransferToInfeedRequest10replica_idEv">replica_id</a>()]</a>;</td></tr>
<tr><th id="1402">1402</th><td>  }</td></tr>
<tr><th id="1403">1403</th><td></td></tr>
<tr><th id="1404">1404</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value157 = (Literal::CreateFromProto(arg-&gt;literal())); if ((__builtin_expect(!_status_or_value157.ok(), 0))) { return _status_or_value157.status(); } std::unique_ptr&lt;Literal&gt; literal = std::move(_status_or_value157.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt; <dfn class="local col7 decl" id="317literal" title='literal' data-type='std::unique_ptr&lt;Literal&gt;' data-ref="317literal">literal</dfn>,</td></tr>
<tr><th id="1405">1405</th><td>                      <a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>::<a class="ref" href="../literal_util.h.html#_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE" title='xla::Literal::CreateFromProto' data-ref="_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE">CreateFromProto</a>(<a class="local col1 ref" href="#311arg" title='arg' data-ref="311arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23TransferToInfeedRequest7literalEv" title='xla::TransferToInfeedRequest::literal' data-ref="_ZNK3xla23TransferToInfeedRequest7literalEv">literal</a>()));</td></tr>
<tr><th id="1406">1406</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>()-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager23TransferLiteralToInfeedEPN9perftools8gputools14StreamExecutorERKNS_7LiteralE" title='xla::TransferManager::TransferLiteralToInfeed' data-ref="_ZN3xla15TransferManager23TransferLiteralToInfeedEPN9perftools8gputools14StreamExecutorERKNS_7LiteralE">TransferLiteralToInfeed</a>(</td></tr>
<tr><th id="1407">1407</th><td>      <a class="local col4 ref" href="#314executor" title='executor' data-ref="314executor">executor</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col7 ref" href="#1404" title='literal' data-ref="317literal">literal</a>);</td></tr>
<tr><th id="1408">1408</th><td>}</td></tr>
<tr><th id="1409">1409</th><td></td></tr>
<tr><th id="1410">1410</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service19TransferFromOutfeedEPKNS_26TransferFromOutfeedRequestEPNS_27TransferFromOutfeedResponseE" title='xla::Service::TransferFromOutfeed' data-ref="_ZN3xla7Service19TransferFromOutfeedEPKNS_26TransferFromOutfeedRequestEPNS_27TransferFromOutfeedResponseE">TransferFromOutfeed</dfn>(</td></tr>
<tr><th id="1411">1411</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::TransferFromOutfeedRequest" title='xla::TransferFromOutfeedRequest' data-ref="xla::TransferFromOutfeedRequest">TransferFromOutfeedRequest</a>* <dfn class="local col8 decl" id="318arg" title='arg' data-type='const xla::TransferFromOutfeedRequest *' data-ref="318arg">arg</dfn>,</td></tr>
<tr><th id="1412">1412</th><td>    <a class="type" href="../xla.pb.h.html#xla::TransferFromOutfeedResponse" title='xla::TransferFromOutfeedResponse' data-ref="xla::TransferFromOutfeedResponse">TransferFromOutfeedResponse</a>* <dfn class="local col9 decl" id="319result" title='result' data-type='xla::TransferFromOutfeedResponse *' data-ref="319result">result</dfn>) {</td></tr>
<tr><th id="1413">1413</th><td>  <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col0 decl" id="320replica_count" title='replica_count' data-type='const int64' data-ref="320replica_count">replica_count</dfn> = <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>();</td></tr>
<tr><th id="1414">1414</th><td>  <b>if</b> (<a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest10replica_idEv" title='xla::TransferFromOutfeedRequest::replica_id' data-ref="_ZNK3xla26TransferFromOutfeedRequest10replica_idEv">replica_id</a>() &lt; <var>0</var> || <a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest10replica_idEv" title='xla::TransferFromOutfeedRequest::replica_id' data-ref="_ZNK3xla26TransferFromOutfeedRequest10replica_idEv">replica_id</a>() &gt;= <a class="local col0 ref" href="#320replica_count" title='replica_count' data-ref="320replica_count">replica_count</a>) {</td></tr>
<tr><th id="1415">1415</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla18FailedPreconditionEPKcz" title='xla::FailedPrecondition' data-ref="_ZN3xla18FailedPreconditionEPKcz">FailedPrecondition</a>(</td></tr>
<tr><th id="1416">1416</th><td>        <q>"The replica_id=%lld on TransferFromOutfeedRequest not in range [0, "</q></td></tr>
<tr><th id="1417">1417</th><td>        <q>"%lld)"</q>,</td></tr>
<tr><th id="1418">1418</th><td>        <a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest10replica_idEv" title='xla::TransferFromOutfeedRequest::replica_id' data-ref="_ZNK3xla26TransferFromOutfeedRequest10replica_idEv">replica_id</a>(), <a class="local col0 ref" href="#320replica_count" title='replica_count' data-ref="320replica_count">replica_count</a>);</td></tr>
<tr><th id="1419">1419</th><td>  }</td></tr>
<tr><th id="1420">1420</th><td></td></tr>
<tr><th id="1421">1421</th><td>  <span class="namespace">se::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>* <dfn class="local col1 decl" id="321executor" title='executor' data-type='se::StreamExecutor *' data-ref="321executor">executor</dfn>;</td></tr>
<tr><th id="1422">1422</th><td>  <b>if</b> (<a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest17has_device_handleEv" title='xla::TransferFromOutfeedRequest::has_device_handle' data-ref="_ZNK3xla26TransferFromOutfeedRequest17has_device_handleEv">has_device_handle</a>()) {</td></tr>
<tr><th id="1423">1423</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value159 = (Replicas(*execute_backend_, arg-&gt;device_handle())); if ((__builtin_expect(!_status_or_value159.ok(), 0))) { return _status_or_value159.status(); } auto replicas = std::move(_status_or_value159.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col2 decl" id="322replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="322replicas">replicas</dfn>,</td></tr>
<tr><th id="1424">1424</th><td>                        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest13device_handleEv" title='xla::TransferFromOutfeedRequest::device_handle' data-ref="_ZNK3xla26TransferFromOutfeedRequest13device_handleEv">device_handle</a>()));</td></tr>
<tr><th id="1425">1425</th><td>    <a class="local col1 ref" href="#321executor" title='executor' data-ref="321executor">executor</a> = <a class="local col2 ref" href="#1423" title='replicas' data-ref="322replicas">replicas</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest10replica_idEv" title='xla::TransferFromOutfeedRequest::replica_id' data-ref="_ZNK3xla26TransferFromOutfeedRequest10replica_idEv">replica_id</a>()]</a>;</td></tr>
<tr><th id="1426">1426</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1427">1427</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value161 = (Replicas(*execute_backend_, SingleComputationDeviceHandle())); if ((__builtin_expect(!_status_or_value161.ok(), 0))) { return _status_or_value161.status(); } auto replicas = std::move(_status_or_value161.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1428">1428</th><td>        <em>auto</em> <dfn class="local col3 decl" id="323replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *, std::allocator&lt;perftools::gputools::StreamExecutor *&gt; &gt;' data-ref="323replicas">replicas</dfn>,</td></tr>
<tr><th id="1429">1429</th><td>        <a class="member" href="#_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a>, <a class="member" href="#_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</a>()));</td></tr>
<tr><th id="1430">1430</th><td>    <a class="local col1 ref" href="#321executor" title='executor' data-ref="321executor">executor</a> = <a class="local col3 ref" href="#1427" title='replicas' data-ref="323replicas">replicas</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest10replica_idEv" title='xla::TransferFromOutfeedRequest::replica_id' data-ref="_ZNK3xla26TransferFromOutfeedRequest10replica_idEv">replica_id</a>()]</a>;</td></tr>
<tr><th id="1431">1431</th><td>  }</td></tr>
<tr><th id="1432">1432</th><td></td></tr>
<tr><th id="1433">1433</th><td>  <a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a> <a class="ref fake" href="../literal_util.h.html#_ZN3xla7LiteralC1Ev" title='xla::Literal::Literal' data-ref="_ZN3xla7LiteralC1Ev"></a><dfn class="local col4 decl" id="324literal" title='literal' data-type='xla::Literal' data-ref="324literal">literal</dfn>;</td></tr>
<tr><th id="1434">1434</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (execute_backend_-&gt;transfer_manager()-&gt;TransferLiteralFromOutfeed( executor, arg-&gt;shape_with_layout(), &amp;literal)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="1435">1435</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend16transfer_managerEv" title='xla::Backend::transfer_manager' data-ref="_ZNK3xla7Backend16transfer_managerEv">transfer_manager</a>()-&gt;<a class="virtual ref" href="transfer_manager.h.html#_ZN3xla15TransferManager26TransferLiteralFromOutfeedEPN9perftools8gputools14StreamExecutorERKNS_5ShapeEPNS_7LiteralE" title='xla::TransferManager::TransferLiteralFromOutfeed' data-ref="_ZN3xla15TransferManager26TransferLiteralFromOutfeedEPN9perftools8gputools14StreamExecutorERKNS_5ShapeEPNS_7LiteralE">TransferLiteralFromOutfeed</a>(</td></tr>
<tr><th id="1436">1436</th><td>          <a class="local col1 ref" href="#321executor" title='executor' data-ref="321executor">executor</a>, <a class="local col8 ref" href="#318arg" title='arg' data-ref="318arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26TransferFromOutfeedRequest17shape_with_layoutEv" title='xla::TransferFromOutfeedRequest::shape_with_layout' data-ref="_ZNK3xla26TransferFromOutfeedRequest17shape_with_layoutEv">shape_with_layout</a>(), &amp;<a class="local col4 ref" href="#324literal" title='literal' data-ref="324literal">literal</a>));</td></tr>
<tr><th id="1437">1437</th><td>  *<a class="local col9 ref" href="#319result" title='result' data-ref="319result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla27TransferFromOutfeedResponse15mutable_literalEv" title='xla::TransferFromOutfeedResponse::mutable_literal' data-ref="_ZN3xla27TransferFromOutfeedResponse15mutable_literalEv">mutable_literal</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a> <a class="local col4 ref" href="#324literal" title='literal' data-ref="324literal">literal</a>.<a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="1438">1438</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1439">1439</th><td>}</td></tr>
<tr><th id="1440">1440</th><td></td></tr>
<tr><th id="1441">1441</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service11ResetDeviceEPKNS_18ResetDeviceRequestEPNS_19ResetDeviceResponseE" title='xla::Service::ResetDevice' data-ref="_ZN3xla7Service11ResetDeviceEPKNS_18ResetDeviceRequestEPNS_19ResetDeviceResponseE">ResetDevice</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ResetDeviceRequest" title='xla::ResetDeviceRequest' data-ref="xla::ResetDeviceRequest">ResetDeviceRequest</a>* <dfn class="local col5 decl" id="325arg" title='arg' data-type='const xla::ResetDeviceRequest *' data-ref="325arg">arg</dfn>,</td></tr>
<tr><th id="1442">1442</th><td>                                        <a class="type" href="../xla.pb.h.html#xla::ResetDeviceResponse" title='xla::ResetDeviceResponse' data-ref="xla::ResetDeviceResponse">ResetDeviceResponse</a>* <dfn class="local col6 decl" id="326result" title='result' data-type='xla::ResetDeviceResponse *' data-ref="326result">result</dfn>) {</td></tr>
<tr><th id="1443">1443</th><td>  <b>return</b> <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZN3xla7Backend12ResetDevicesEv" title='xla::Backend::ResetDevices' data-ref="_ZN3xla7Backend12ResetDevicesEv">ResetDevices</a>();</td></tr>
<tr><th id="1444">1444</th><td>}</td></tr>
<tr><th id="1445">1445</th><td></td></tr>
<tr><th id="1446">1446</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service10IsConstantEPKNS_17IsConstantRequestEPNS_18IsConstantResponseE" title='xla::Service::IsConstant' data-ref="_ZN3xla7Service10IsConstantEPKNS_17IsConstantRequestEPNS_18IsConstantResponseE">IsConstant</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::IsConstantRequest" title='xla::IsConstantRequest' data-ref="xla::IsConstantRequest">IsConstantRequest</a>* <dfn class="local col7 decl" id="327arg" title='arg' data-type='const xla::IsConstantRequest *' data-ref="327arg">arg</dfn>,</td></tr>
<tr><th id="1447">1447</th><td>                                       <a class="type" href="../xla.pb.h.html#xla::IsConstantResponse" title='xla::IsConstantResponse' data-ref="xla::IsConstantResponse">IsConstantResponse</a>* <dfn class="local col8 decl" id="328result" title='result' data-type='xla::IsConstantResponse *' data-ref="328result">result</dfn>) {</td></tr>
<tr><th id="1448">1448</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value163 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value163.ok(), 0))) { return _status_or_value163.status(); } UserComputation * user_computation = std::move(_status_or_value163.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col9 decl" id="329user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="329user_computation">user_computation</dfn>,</td></tr>
<tr><th id="1449">1449</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#327arg" title='arg' data-ref="327arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla17IsConstantRequest11computationEv" title='xla::IsConstantRequest::computation' data-ref="_ZNK3xla17IsConstantRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1450">1450</th><td></td></tr>
<tr><th id="1451">1451</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col0 decl" id="330versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="330versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1452">1452</th><td>      <a class="local col9 ref" href="#1448" title='user_computation' data-ref="329user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation29GetVersionedHandleAtOperationERKNS_21ComputationDataHandleE" title='xla::UserComputation::GetVersionedHandleAtOperation' data-ref="_ZNK3xla15UserComputation29GetVersionedHandleAtOperationERKNS_21ComputationDataHandleE">GetVersionedHandleAtOperation</a>(<a class="local col7 ref" href="#327arg" title='arg' data-ref="327arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla17IsConstantRequest7operandEv" title='xla::IsConstantRequest::operand' data-ref="_ZNK3xla17IsConstantRequest7operandEv">operand</a>());</td></tr>
<tr><th id="1453">1453</th><td></td></tr>
<tr><th id="1454">1454</th><td>  <b>if</b> (<a class="local col9 ref" href="#1448" title='user_computation' data-ref="329user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation13request_countEx" title='xla::UserComputation::request_count' data-ref="_ZNK3xla15UserComputation13request_countEx">request_count</a>(<a class="local col0 ref" href="#330versioned_handle" title='versioned_handle' data-ref="330versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>) == <var>0</var>) {</td></tr>
<tr><th id="1455">1455</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="1456">1456</th><td>  }</td></tr>
<tr><th id="1457">1457</th><td></td></tr>
<tr><th id="1458">1458</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value165 = (user_computation-&gt;IsConstant(arg-&gt;operand(), arg-&gt;num_parameters())); if ((__builtin_expect(!_status_or_value165.ok(), 0))) { return _status_or_value165.status(); } bool is_constant = std::move(_status_or_value165.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1459">1459</th><td>      <em>bool</em> <dfn class="local col1 decl" id="331is_constant" title='is_constant' data-type='bool' data-ref="331is_constant">is_constant</dfn>,</td></tr>
<tr><th id="1460">1460</th><td>      <a class="local col9 ref" href="#1448" title='user_computation' data-ref="329user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation10IsConstantERKNS_21ComputationDataHandleEx" title='xla::UserComputation::IsConstant' data-ref="_ZN3xla15UserComputation10IsConstantERKNS_21ComputationDataHandleEx">IsConstant</a>(<a class="local col7 ref" href="#327arg" title='arg' data-ref="327arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla17IsConstantRequest7operandEv" title='xla::IsConstantRequest::operand' data-ref="_ZNK3xla17IsConstantRequest7operandEv">operand</a>(), <a class="local col7 ref" href="#327arg" title='arg' data-ref="327arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla17IsConstantRequest14num_parametersEv" title='xla::IsConstantRequest::num_parameters' data-ref="_ZNK3xla17IsConstantRequest14num_parametersEv">num_parameters</a>()));</td></tr>
<tr><th id="1461">1461</th><td></td></tr>
<tr><th id="1462">1462</th><td>  <a class="local col8 ref" href="#328result" title='result' data-ref="328result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla18IsConstantResponse15set_is_constantEb" title='xla::IsConstantResponse::set_is_constant' data-ref="_ZN3xla18IsConstantResponse15set_is_constantEb">set_is_constant</a>(<a class="local col1 ref" href="#1458" title='is_constant' data-ref="331is_constant">is_constant</a>);</td></tr>
<tr><th id="1463">1463</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1464">1464</th><td>}</td></tr>
<tr><th id="1465">1465</th><td></td></tr>
<tr><th id="1466">1466</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service15ComputeConstantEPKNS_22ComputeConstantRequestEPNS_23ComputeConstantResponseE" title='xla::Service::ComputeConstant' data-ref="_ZN3xla7Service15ComputeConstantEPKNS_22ComputeConstantRequestEPNS_23ComputeConstantResponseE">ComputeConstant</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::ComputeConstantRequest" title='xla::ComputeConstantRequest' data-ref="xla::ComputeConstantRequest">ComputeConstantRequest</a>* <dfn class="local col2 decl" id="332arg" title='arg' data-type='const xla::ComputeConstantRequest *' data-ref="332arg">arg</dfn>,</td></tr>
<tr><th id="1467">1467</th><td>                                            <a class="type" href="../xla.pb.h.html#xla::ComputeConstantResponse" title='xla::ComputeConstantResponse' data-ref="xla::ComputeConstantResponse">ComputeConstantResponse</a>* <dfn class="local col3 decl" id="333result" title='result' data-type='xla::ComputeConstantResponse *' data-ref="333result">result</dfn>) {</td></tr>
<tr><th id="1468">1468</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value167 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value167.ok(), 0))) { return _status_or_value167.status(); } UserComputation * user_computation = std::move(_status_or_value167.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col4 decl" id="334user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="334user_computation">user_computation</dfn>,</td></tr>
<tr><th id="1469">1469</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest11computationEv" title='xla::ComputeConstantRequest::computation' data-ref="_ZNK3xla22ComputeConstantRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1470">1470</th><td></td></tr>
<tr><th id="1471">1471</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col5 decl" id="335versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="335versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1472">1472</th><td>      <a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation29GetVersionedHandleAtOperationERKNS_21ComputationDataHandleE" title='xla::UserComputation::GetVersionedHandleAtOperation' data-ref="_ZNK3xla15UserComputation29GetVersionedHandleAtOperationERKNS_21ComputationDataHandleE">GetVersionedHandleAtOperation</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest7operandEv" title='xla::ComputeConstantRequest::operand' data-ref="_ZNK3xla22ComputeConstantRequest7operandEv">operand</a>());</td></tr>
<tr><th id="1473">1473</th><td></td></tr>
<tr><th id="1474">1474</th><td>  <b>if</b> (<a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation13request_countEx" title='xla::UserComputation::request_count' data-ref="_ZNK3xla15UserComputation13request_countEx">request_count</a>(<a class="local col5 ref" href="#335versioned_handle" title='versioned_handle' data-ref="335versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>) == <var>0</var>) {</td></tr>
<tr><th id="1475">1475</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"computations may not be empty"</q>);</td></tr>
<tr><th id="1476">1476</th><td>  }</td></tr>
<tr><th id="1477">1477</th><td></td></tr>
<tr><th id="1478">1478</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value169 = (user_computation-&gt;IsConstant(arg-&gt;operand(), arg-&gt;parameters_size())); if ((__builtin_expect(!_status_or_value169.ok(), 0))) { return _status_or_value169.status(); } bool is_constant = std::move(_status_or_value169.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1479">1479</th><td>      <em>bool</em> <dfn class="local col6 decl" id="336is_constant" title='is_constant' data-type='bool' data-ref="336is_constant">is_constant</dfn>,</td></tr>
<tr><th id="1480">1480</th><td>      <a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation10IsConstantERKNS_21ComputationDataHandleEx" title='xla::UserComputation::IsConstant' data-ref="_ZN3xla15UserComputation10IsConstantERKNS_21ComputationDataHandleEx">IsConstant</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest7operandEv" title='xla::ComputeConstantRequest::operand' data-ref="_ZNK3xla22ComputeConstantRequest7operandEv">operand</a>(), <a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest15parameters_sizeEv" title='xla::ComputeConstantRequest::parameters_size' data-ref="_ZNK3xla22ComputeConstantRequest15parameters_sizeEv">parameters_size</a>()));</td></tr>
<tr><th id="1481">1481</th><td>  <b>if</b> (!<a class="local col6 ref" href="#1478" title='is_constant' data-ref="336is_constant">is_constant</a>) {</td></tr>
<tr><th id="1482">1482</th><td>    <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<em>const</em> <a class="type" href="session.pb.h.html#xla::OperationRequest" title='xla::OperationRequest' data-ref="xla::OperationRequest">OperationRequest</a>*&gt; <dfn class="local col7 decl" id="337op_request_status" title='op_request_status' data-type='StatusOr&lt;const xla::OperationRequest *&gt;' data-ref="337op_request_status">op_request_status</dfn> =</td></tr>
<tr><th id="1483">1483</th><td>        <a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation30LookUpRequestForErrorReportingERKNS_21ComputationDataHandleE" title='xla::UserComputation::LookUpRequestForErrorReporting' data-ref="_ZNK3xla15UserComputation30LookUpRequestForErrorReportingERKNS_21ComputationDataHandleE">LookUpRequestForErrorReporting</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest7operandEv" title='xla::ComputeConstantRequest::operand' data-ref="_ZNK3xla22ComputeConstantRequest7operandEv">operand</a>());</td></tr>
<tr><th id="1484">1484</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col8 decl" id="338op_request_string" title='op_request_string' data-type='string' data-ref="338op_request_string">op_request_string</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"&lt;unknown operation&gt;"</q>;</td></tr>
<tr><th id="1485">1485</th><td>    <b>if</b> (<a class="local col7 ref" href="#337op_request_status" title='op_request_status' data-ref="337op_request_status">op_request_status</a>.<a class="ref" href="../statusor.h.html#_ZNK3xla8StatusOr2okEv" title='xla::StatusOr::ok' data-ref="_ZNK3xla8StatusOr2okEv">ok</a>()) {</td></tr>
<tr><th id="1486">1486</th><td>      <a class="local col8 ref" href="#338op_request_string" title='op_request_string' data-ref="338op_request_string">op_request_string</a> <a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringaSEOSbIT_T0_T1_E" title='std::basic_string::operator=' data-ref="_ZNSt12basic_stringaSEOSbIT_T0_T1_E">=</a> <a class="local col7 ref" href="#337op_request_status" title='op_request_status' data-ref="337op_request_status">op_request_status</a>.<a class="ref" href="../statusor.h.html#_ZNR3xla8StatusOr10ValueOrDieEv" title='xla::StatusOr::ValueOrDie' data-ref="_ZNR3xla8StatusOr10ValueOrDieEv">ValueOrDie</a>()-&gt;<span class='ref' title='google::protobuf::Message::ShortDebugString' data-ref="_ZNK6google8protobuf7Message16ShortDebugStringEv">ShortDebugString</span>();</td></tr>
<tr><th id="1487">1487</th><td>    }</td></tr>
<tr><th id="1488">1488</th><td>    <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(</td></tr>
<tr><th id="1489">1489</th><td>        <q>"Operand to ComputeConstant depends on a parameter.\n\n"</q></td></tr>
<tr><th id="1490">1490</th><td>        <q>"  op requested for constant evaluation: %s\n\n"</q></td></tr>
<tr><th id="1491">1491</th><td>        <q>"This is an internal error that typically happens when the XLA user "</q></td></tr>
<tr><th id="1492">1492</th><td>        <q>"(e.g. TensorFlow) is attempting to determine a value that must be a "</q></td></tr>
<tr><th id="1493">1493</th><td>        <q>"compile-time constant (e.g. an array dimension) but it is not capable "</q></td></tr>
<tr><th id="1494">1494</th><td>        <q>"of being evaluated at XLA compile time.\n\n"</q></td></tr>
<tr><th id="1495">1495</th><td>        <q>"Please file a usability bug with the framework being used (e.g. "</q></td></tr>
<tr><th id="1496">1496</th><td>        <q>"TensorFlow)."</q>,</td></tr>
<tr><th id="1497">1497</th><td>        <a class="local col8 ref" href="#338op_request_string" title='op_request_string' data-ref="338op_request_string">op_request_string</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>());</td></tr>
<tr><th id="1498">1498</th><td>  }</td></tr>
<tr><th id="1499">1499</th><td></td></tr>
<tr><th id="1500">1500</th><td>  <i>// We can't use ComputeProgramShape because it checks that all parameter</i></td></tr>
<tr><th id="1501">1501</th><td><i>  // instructions are present and contiguous. Instead construct ProgramShape</i></td></tr>
<tr><th id="1502">1502</th><td><i>  // directly.</i></td></tr>
<tr><th id="1503">1503</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ProgramShape" title='xla::ProgramShape' data-ref="xla::ProgramShape">ProgramShape</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla12ProgramShapeC1Ev" title='xla::ProgramShape::ProgramShape' data-ref="_ZN3xla12ProgramShapeC1Ev"></a><dfn class="local col9 decl" id="339program_shape" title='program_shape' data-type='xla::ProgramShape' data-ref="339program_shape">program_shape</dfn>;</td></tr>
<tr><th id="1504">1504</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value171 = (user_computation-&gt;GetShape(arg-&gt;operand())); if ((__builtin_expect(!_status_or_value171.ok(), 0))) { return _status_or_value171.status(); } *program_shape.mutable_result() = std::move(_status_or_value171.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col9 ref" href="#339program_shape" title='program_shape' data-ref="339program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla12ProgramShape14mutable_resultEv" title='xla::ProgramShape::mutable_result' data-ref="_ZN3xla12ProgramShape14mutable_resultEv">mutable_result</a>(),</td></tr>
<tr><th id="1505">1505</th><td>                      <a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation8GetShapeERKNS_21ComputationDataHandleE" title='xla::UserComputation::GetShape' data-ref="_ZN3xla15UserComputation8GetShapeERKNS_21ComputationDataHandleE">GetShape</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest7operandEv" title='xla::ComputeConstantRequest::operand' data-ref="_ZNK3xla22ComputeConstantRequest7operandEv">operand</a>()));</td></tr>
<tr><th id="1506">1506</th><td></td></tr>
<tr><th id="1507">1507</th><td>  <a class="macro" href="../../../core/lib/core/status.h.html#142" title="while (false &amp;&amp; (::tensorflow::Status::OK() == (ShapeUtil::ValidateShape(program_shape.result())))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/service.cc&quot;, 1507)" data-ref="_M/TF_DCHECK_OK">TF_DCHECK_OK</a>(<a class="type" href="../shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../shape_util.h.html#_ZN3xla9ShapeUtil13ValidateShapeERKNS_5ShapeE" title='xla::ShapeUtil::ValidateShape' data-ref="_ZN3xla9ShapeUtil13ValidateShapeERKNS_5ShapeE">ValidateShape</a>(<a class="local col9 ref" href="#339program_shape" title='program_shape' data-ref="339program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape6resultEv" title='xla::ProgramShape::result' data-ref="_ZNK3xla12ProgramShape6resultEv">result</a>()));</td></tr>
<tr><th id="1508">1508</th><td></td></tr>
<tr><th id="1509">1509</th><td>  <a class="type" href="../xla.pb.h.html#xla::ExecutionOptions" title='xla::ExecutionOptions' data-ref="xla::ExecutionOptions">ExecutionOptions</a> <dfn class="local col0 decl" id="340execution_options" title='execution_options' data-type='xla::ExecutionOptions' data-ref="340execution_options">execution_options</dfn> = <span class="namespace">xla::</span><a class="ref" href="../execution_options_util.h.html#_ZN3xla29CreateDefaultExecutionOptionsEv" title='xla::CreateDefaultExecutionOptions' data-ref="_ZN3xla29CreateDefaultExecutionOptionsEv">CreateDefaultExecutionOptions</a>();</td></tr>
<tr><th id="1510">1510</th><td>  <a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla16ExecutionOptions21mutable_debug_optionsEv" title='xla::ExecutionOptions::mutable_debug_options' data-ref="_ZN3xla16ExecutionOptions21mutable_debug_optionsEv">mutable_debug_options</a>()-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla12DebugOptions24set_xla_enable_fast_mathEb" title='xla::DebugOptions::set_xla_enable_fast_math' data-ref="_ZN3xla12DebugOptions24set_xla_enable_fast_mathEb">set_xla_enable_fast_math</a>(<b>false</b>);</td></tr>
<tr><th id="1511">1511</th><td>  <a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla16ExecutionOptions21mutable_debug_optionsEv" title='xla::ExecutionOptions::mutable_debug_options' data-ref="_ZN3xla16ExecutionOptions21mutable_debug_optionsEv">mutable_debug_options</a>()</td></tr>
<tr><th id="1512">1512</th><td>      -&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla12DebugOptions40set_xla_eliminate_hlo_implicit_broadcastEb" title='xla::DebugOptions::set_xla_eliminate_hlo_implicit_broadcast' data-ref="_ZN3xla12DebugOptions40set_xla_eliminate_hlo_implicit_broadcastEb">set_xla_eliminate_hlo_implicit_broadcast</a>(<b>true</b>);</td></tr>
<tr><th id="1513">1513</th><td>  *<a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla16ExecutionOptions32mutable_shape_with_output_layoutEv" title='xla::ExecutionOptions::mutable_shape_with_output_layout' data-ref="_ZN3xla16ExecutionOptions32mutable_shape_with_output_layoutEv">mutable_shape_with_output_layout</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla5ShapeaSERKS0_" title='xla::Shape::operator=' data-ref="_ZN3xla5ShapeaSERKS0_">=</a></td></tr>
<tr><th id="1514">1514</th><td>      <a class="local col9 ref" href="#339program_shape" title='program_shape' data-ref="339program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape6resultEv" title='xla::ProgramShape::result' data-ref="_ZNK3xla12ProgramShape6resultEv">result</a>();</td></tr>
<tr><th id="1515">1515</th><td></td></tr>
<tr><th id="1516">1516</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::Shape" title='xla::Shape' data-ref="xla::Shape">Shape</a> <dfn class="local col1 decl" id="341shape_with_output_layout" title='shape_with_output_layout' data-type='xla::Shape' data-ref="341shape_with_output_layout">shape_with_output_layout</dfn><a class="ref" href="../xla_data.pb.h.html#_ZN3xla5ShapeC1ERKS0_" title='xla::Shape::Shape' data-ref="_ZN3xla5ShapeC1ERKS0_">(</a><a class="local col9 ref" href="#339program_shape" title='program_shape' data-ref="339program_shape">program_shape</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12ProgramShape6resultEv" title='xla::ProgramShape::result' data-ref="_ZNK3xla12ProgramShape6resultEv">result</a>());</td></tr>
<tr><th id="1517">1517</th><td>  <b>if</b> (<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest17has_output_layoutEv" title='xla::ComputeConstantRequest::has_output_layout' data-ref="_ZNK3xla22ComputeConstantRequest17has_output_layoutEv">has_output_layout</a>()) {</td></tr>
<tr><th id="1518">1518</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (LayoutUtil::ValidateLayoutForShape( arg-&gt;output_layout(), execution_options.shape_with_output_layout())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="type" href="../layout_util.h.html#xla::LayoutUtil" title='xla::LayoutUtil' data-ref="xla::LayoutUtil">LayoutUtil</a>::<a class="ref" href="../layout_util.h.html#_ZN3xla10LayoutUtil22ValidateLayoutForShapeERKNS_6LayoutERKNS_5ShapeE" title='xla::LayoutUtil::ValidateLayoutForShape' data-ref="_ZN3xla10LayoutUtil22ValidateLayoutForShapeERKNS_6LayoutERKNS_5ShapeE">ValidateLayoutForShape</a>(</td></tr>
<tr><th id="1519">1519</th><td>        <a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest13output_layoutEv" title='xla::ComputeConstantRequest::output_layout' data-ref="_ZNK3xla22ComputeConstantRequest13output_layoutEv">output_layout</a>(), <a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZNK3xla16ExecutionOptions24shape_with_output_layoutEv" title='xla::ExecutionOptions::shape_with_output_layout' data-ref="_ZNK3xla16ExecutionOptions24shape_with_output_layoutEv">shape_with_output_layout</a>()));</td></tr>
<tr><th id="1520">1520</th><td>    *<a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>.<a class="ref" href="../xla.pb.h.html#_ZN3xla16ExecutionOptions32mutable_shape_with_output_layoutEv" title='xla::ExecutionOptions::mutable_shape_with_output_layout' data-ref="_ZN3xla16ExecutionOptions32mutable_shape_with_output_layoutEv">mutable_shape_with_output_layout</a>()-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla5Shape14mutable_layoutEv" title='xla::Shape::mutable_layout' data-ref="_ZN3xla5Shape14mutable_layoutEv">mutable_layout</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla6LayoutaSERKS0_" title='xla::Layout::operator=' data-ref="_ZN3xla6LayoutaSERKS0_">=</a></td></tr>
<tr><th id="1521">1521</th><td>        <a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest13output_layoutEv" title='xla::ComputeConstantRequest::output_layout' data-ref="_ZNK3xla22ComputeConstantRequest13output_layoutEv">output_layout</a>();</td></tr>
<tr><th id="1522">1522</th><td>  }</td></tr>
<tr><th id="1523">1523</th><td></td></tr>
<tr><th id="1524">1524</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value173 = (CreateModuleConfig(program_shape, {}, execution_options, user_computation)); if ((__builtin_expect(!_status_or_value173.ok(), 0))) { return _status_or_value173.status(); } std::unique_ptr&lt;HloModuleConfig&gt; module_config = std::move(_status_or_value173.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a>&gt; <dfn class="local col2 decl" id="342module_config" title='module_config' data-type='std::unique_ptr&lt;HloModuleConfig&gt;' data-ref="342module_config">module_config</dfn>,</td></tr>
<tr><th id="1525">1525</th><td>                      <a class="member" href="#_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE" title='xla::Service::CreateModuleConfig' data-ref="_ZN3xla7Service18CreateModuleConfigERKNS_12ProgramShapeEN10tensorflow3gtl10ArraySliceIPKNS_12ShapedBufferEEERKNS_16ExecutionOptionsEPKNS_15UserComputationE">CreateModuleConfig</a>(<a class="local col9 ref" href="#339program_shape" title='program_shape' data-ref="339program_shape">program_shape</a>, <a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1Ev" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1Ev">{</a>}, <a class="local col0 ref" href="#340execution_options" title='execution_options' data-ref="340execution_options">execution_options</a>,</td></tr>
<tr><th id="1526">1526</th><td>                                         <a class="local col4 ref" href="#1468" title='user_computation' data-ref="334user_computation">user_computation</a>));</td></tr>
<tr><th id="1527">1527</th><td></td></tr>
<tr><th id="1528">1528</th><td>  <i>// Exclude dead parameter instructions for the purpose of computing constants.</i></td></tr>
<tr><th id="1529">1529</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value175 = (computation_tracker_.BuildHloModule(versioned_handle, *module_config, false)); if ((__builtin_expect(!_status_or_value175.ok(), 0))) { return _status_or_value175.status(); } std::unique_ptr&lt;HloModule&gt; module = std::move(_status_or_value175.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1530">1530</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt; <dfn class="local col3 decl" id="343module" title='module' data-type='std::unique_ptr&lt;HloModule&gt;' data-ref="343module">module</dfn>,</td></tr>
<tr><th id="1531">1531</th><td>      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb" title='xla::ComputationTracker::BuildHloModule' data-ref="_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb">BuildHloModule</a>(<a class="local col5 ref" href="#335versioned_handle" title='versioned_handle' data-ref="335versioned_handle">versioned_handle</a>, <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col2 ref" href="#1524" title='module_config' data-ref="342module_config">module_config</a>,</td></tr>
<tr><th id="1532">1532</th><td>                                          <i>/*include_unreachable_instructions=*/</i></td></tr>
<tr><th id="1533">1533</th><td>                                          <b>false</b>));</td></tr>
<tr><th id="1534">1534</th><td></td></tr>
<tr><th id="1535">1535</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt;&gt; <dfn class="local col4 decl" id="344parameters" title='parameters' data-type='std::vector&lt;std::unique_ptr&lt;Literal&gt; &gt;' data-ref="344parameters">parameters</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest15parameters_sizeEv" title='xla::ComputeConstantRequest::parameters_size' data-ref="_ZNK3xla22ComputeConstantRequest15parameters_sizeEv">parameters_size</a>());</td></tr>
<tr><th id="1536">1536</th><td>  <b>for</b> (<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col5 decl" id="345i" title='i' data-type='int64' data-ref="345i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#345i" title='i' data-ref="345i">i</a> &lt; <a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest15parameters_sizeEv" title='xla::ComputeConstantRequest::parameters_size' data-ref="_ZNK3xla22ComputeConstantRequest15parameters_sizeEv">parameters_size</a>(); ++<a class="local col5 ref" href="#345i" title='i' data-ref="345i">i</a>) {</td></tr>
<tr><th id="1537">1537</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value177 = (Literal::CreateFromProto(arg-&gt;parameters(i))); if ((__builtin_expect(!_status_or_value177.ok(), 0))) { return _status_or_value177.status(); } parameters[i] = std::move(_status_or_value177.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="local col4 ref" href="#344parameters" title='parameters' data-ref="344parameters">parameters</a>[<a class="local col5 ref" href="#345i" title='i' data-ref="345i">i</a>],</td></tr>
<tr><th id="1538">1538</th><td>                        <a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>::<a class="ref" href="../literal_util.h.html#_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE" title='xla::Literal::CreateFromProto' data-ref="_ZN3xla7Literal15CreateFromProtoERKNS_12LiteralProtoE">CreateFromProto</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest10parametersEi" title='xla::ComputeConstantRequest::parameters' data-ref="_ZNK3xla22ComputeConstantRequest10parametersEi">parameters</a>(<a class="local col5 ref" href="#345i" title='i' data-ref="345i">i</a>)));</td></tr>
<tr><th id="1539">1539</th><td>  }</td></tr>
<tr><th id="1540">1540</th><td>  <a class="type" href="hlo_evaluator.h.html#xla::HloEvaluator" title='xla::HloEvaluator' data-ref="xla::HloEvaluator">HloEvaluator</a> <a class="ref fake" href="hlo_evaluator.h.html#_ZN3xla12HloEvaluatorC1Ex" title='xla::HloEvaluator::HloEvaluator' data-ref="_ZN3xla12HloEvaluatorC1Ex"></a><dfn class="local col6 decl" id="346evaluator" title='evaluator' data-type='xla::HloEvaluator' data-ref="346evaluator">evaluator</dfn>;</td></tr>
<tr><th id="1541">1541</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value179 = (evaluator.Evaluate&lt;std::unique_ptr&lt;Literal&gt;&gt;(*module, parameters)); if ((__builtin_expect(!_status_or_value179.ok(), 0))) { return _status_or_value179.status(); } auto result_literal = std::move(_status_or_value179.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1542">1542</th><td>      <em>auto</em> <dfn class="local col7 decl" id="347result_literal" title='result_literal' data-type='std::unique_ptr&lt;xla::Literal, std::default_delete&lt;xla::Literal&gt; &gt;' data-ref="347result_literal">result_literal</dfn>,</td></tr>
<tr><th id="1543">1543</th><td>      <a class="local col6 ref" href="#346evaluator" title='evaluator' data-ref="346evaluator">evaluator</a>.<a class="ref" href="hlo_evaluator.h.html#_ZN3xla12HloEvaluator8EvaluateERKNS_9HloModuleEN10tensorflow3gtl10ArraySliceIT_EE" title='xla::HloEvaluator::Evaluate' data-ref="_ZN3xla12HloEvaluator8EvaluateERKNS_9HloModuleEN10tensorflow3gtl10ArraySliceIT_EE">Evaluate</a>&lt;std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="../literal_util.h.html#xla::Literal" title='xla::Literal' data-ref="xla::Literal">Literal</a>&gt;&gt;(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col3 ref" href="#1529" title='module' data-ref="343module">module</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#344parameters" title='parameters' data-ref="344parameters">parameters</a>));</td></tr>
<tr><th id="1544">1544</th><td></td></tr>
<tr><th id="1545">1545</th><td>  <i>// Since the shape_with_output_layout option in ExecutionOption is</i></td></tr>
<tr><th id="1546">1546</th><td><i>  // non-effective to the Evaluator results, explicit relayout here.</i></td></tr>
<tr><th id="1547">1547</th><td>  <b>if</b> (<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest17has_output_layoutEv" title='xla::ComputeConstantRequest::has_output_layout' data-ref="_ZNK3xla22ComputeConstantRequest17has_output_layoutEv">has_output_layout</a>()) {</td></tr>
<tr><th id="1548">1548</th><td>    <a class="local col7 ref" href="#1541" title='result_literal' data-ref="347result_literal">result_literal</a> <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptraSEOSt10unique_ptrIT_T0_E" title='std::unique_ptr::operator=' data-ref="_ZNSt10unique_ptraSEOSt10unique_ptrIT_T0_E">=</a> <a class="local col7 ref" href="#1541" title='result_literal' data-ref="347result_literal">result_literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal8RelayoutERKNS_6LayoutERKNS_10ShapeIndexE" title='xla::Literal::Relayout' data-ref="_ZNK3xla7Literal8RelayoutERKNS_6LayoutERKNS_10ShapeIndexE">Relayout</a>(<a class="local col2 ref" href="#332arg" title='arg' data-ref="332arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla22ComputeConstantRequest13output_layoutEv" title='xla::ComputeConstantRequest::output_layout' data-ref="_ZNK3xla22ComputeConstantRequest13output_layoutEv">output_layout</a>());</td></tr>
<tr><th id="1549">1549</th><td>  }</td></tr>
<tr><th id="1550">1550</th><td>  *<a class="local col3 ref" href="#333result" title='result' data-ref="333result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla23ComputeConstantResponse15mutable_literalEv" title='xla::ComputeConstantResponse::mutable_literal' data-ref="_ZN3xla23ComputeConstantResponse15mutable_literalEv">mutable_literal</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12LiteralProtoaSEOS0_" title='xla::LiteralProto::operator=' data-ref="_ZN3xla12LiteralProtoaSEOS0_">=</a> <a class="local col7 ref" href="#1541" title='result_literal' data-ref="347result_literal">result_literal</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../literal_util.h.html#_ZNK3xla7Literal7ToProtoEv" title='xla::Literal::ToProto' data-ref="_ZNK3xla7Literal7ToProtoEv">ToProto</a>();</td></tr>
<tr><th id="1551">1551</th><td></td></tr>
<tr><th id="1552">1552</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1553">1553</th><td>}</td></tr>
<tr><th id="1554">1554</th><td></td></tr>
<tr><th id="1555">1555</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service8GetShapeEPKNS_15GetShapeRequestEPNS_16GetShapeResponseE" title='xla::Service::GetShape' data-ref="_ZN3xla7Service8GetShapeEPKNS_15GetShapeRequestEPNS_16GetShapeResponseE">GetShape</dfn>(<em>const</em> <a class="type" href="../xla.pb.h.html#xla::GetShapeRequest" title='xla::GetShapeRequest' data-ref="xla::GetShapeRequest">GetShapeRequest</a>* <dfn class="local col8 decl" id="348arg" title='arg' data-type='const xla::GetShapeRequest *' data-ref="348arg">arg</dfn>,</td></tr>
<tr><th id="1556">1556</th><td>                                     <a class="type" href="../xla.pb.h.html#xla::GetShapeResponse" title='xla::GetShapeResponse' data-ref="xla::GetShapeResponse">GetShapeResponse</a>* <dfn class="local col9 decl" id="349result" title='result' data-type='xla::GetShapeResponse *' data-ref="349result">result</dfn>) {</td></tr>
<tr><th id="1557">1557</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value181 = (allocation_tracker_.ResolveForReplica(arg-&gt;data(), 0)); if ((__builtin_expect(!_status_or_value181.ok(), 0))) { return _status_or_value181.status(); } const ShapedBuffer* buffer = std::move(_status_or_value181.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>const</em> <a class="type" href="shaped_buffer.h.html#xla::ShapedBuffer" title='xla::ShapedBuffer' data-ref="xla::ShapedBuffer">ShapedBuffer</a>* <dfn class="local col0 decl" id="350buffer" title='buffer' data-type='const xla::ShapedBuffer *' data-ref="350buffer">buffer</dfn>,</td></tr>
<tr><th id="1558">1558</th><td>                      <a class="member" href="service.h.html#xla::Service::allocation_tracker_" title='xla::Service::allocation_tracker_' data-ref="xla::Service::allocation_tracker_">allocation_tracker_</a>.<a class="ref" href="allocation_tracker.h.html#_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi" title='xla::AllocationTracker::ResolveForReplica' data-ref="_ZN3xla17AllocationTracker17ResolveForReplicaERKNS_16GlobalDataHandleEi">ResolveForReplica</a>(<a class="local col8 ref" href="#348arg" title='arg' data-ref="348arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla15GetShapeRequest4dataEv" title='xla::GetShapeRequest::data' data-ref="_ZNK3xla15GetShapeRequest4dataEv">data</a>(), <var>0</var>));</td></tr>
<tr><th id="1559">1559</th><td>  *<a class="local col9 ref" href="#349result" title='result' data-ref="349result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla16GetShapeResponse13mutable_shapeEv" title='xla::GetShapeResponse::mutable_shape' data-ref="_ZN3xla16GetShapeResponse13mutable_shapeEv">mutable_shape</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla5ShapeaSERKS0_" title='xla::Shape::operator=' data-ref="_ZN3xla5ShapeaSERKS0_">=</a> <a class="local col0 ref" href="#1557" title='buffer' data-ref="350buffer">buffer</a>-&gt;<a class="ref" href="shaped_buffer.h.html#_ZNK3xla12ShapedBuffer13on_host_shapeEv" title='xla::ShapedBuffer::on_host_shape' data-ref="_ZNK3xla12ShapedBuffer13on_host_shapeEv">on_host_shape</a>();</td></tr>
<tr><th id="1560">1560</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1561">1561</th><td>}</td></tr>
<tr><th id="1562">1562</th><td></td></tr>
<tr><th id="1563">1563</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service19GetComputationShapeEPKNS_26GetComputationShapeRequestEPNS_27GetComputationShapeResponseE" title='xla::Service::GetComputationShape' data-ref="_ZN3xla7Service19GetComputationShapeEPKNS_26GetComputationShapeRequestEPNS_27GetComputationShapeResponseE">GetComputationShape</dfn>(</td></tr>
<tr><th id="1564">1564</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::GetComputationShapeRequest" title='xla::GetComputationShapeRequest' data-ref="xla::GetComputationShapeRequest">GetComputationShapeRequest</a>* <dfn class="local col1 decl" id="351arg" title='arg' data-type='const xla::GetComputationShapeRequest *' data-ref="351arg">arg</dfn>,</td></tr>
<tr><th id="1565">1565</th><td>    <a class="type" href="../xla.pb.h.html#xla::GetComputationShapeResponse" title='xla::GetComputationShapeResponse' data-ref="xla::GetComputationShapeResponse">GetComputationShapeResponse</a>* <dfn class="local col2 decl" id="352result" title='result' data-type='xla::GetComputationShapeResponse *' data-ref="352result">result</dfn>) {</td></tr>
<tr><th id="1566">1566</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value183 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value183.ok(), 0))) { return _status_or_value183.status(); } UserComputation * computation = std::move(_status_or_value183.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col3 decl" id="353computation" title='computation' data-type='xla::UserComputation *' data-ref="353computation">computation</dfn>,</td></tr>
<tr><th id="1567">1567</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col1 ref" href="#351arg" title='arg' data-ref="351arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26GetComputationShapeRequest11computationEv" title='xla::GetComputationShapeRequest::computation' data-ref="_ZNK3xla26GetComputationShapeRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1568">1568</th><td></td></tr>
<tr><th id="1569">1569</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col4 decl" id="354versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="354versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1570">1570</th><td>      <a class="local col3 ref" href="#1566" title='computation' data-ref="353computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation18GetVersionedHandleEv" title='xla::UserComputation::GetVersionedHandle' data-ref="_ZNK3xla15UserComputation18GetVersionedHandleEv">GetVersionedHandle</a>();</td></tr>
<tr><th id="1571">1571</th><td></td></tr>
<tr><th id="1572">1572</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value185 = (computation-&gt;ComputeProgramShape( versioned_handle.version)); if ((__builtin_expect(!_status_or_value185.ok(), 0))) { return _status_or_value185.status(); } auto program_shape = std::move(_status_or_value185.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col5 decl" id="355program_shape" title='program_shape' data-type='std::shared_ptr&lt;const xla::ProgramShape&gt;' data-ref="355program_shape">program_shape</dfn>, <a class="local col3 ref" href="#1566" title='computation' data-ref="353computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation19ComputeProgramShapeEx" title='xla::UserComputation::ComputeProgramShape' data-ref="_ZNK3xla15UserComputation19ComputeProgramShapeEx">ComputeProgramShape</a>(</td></tr>
<tr><th id="1573">1573</th><td>                                              <a class="local col4 ref" href="#354versioned_handle" title='versioned_handle' data-ref="354versioned_handle">versioned_handle</a>.<a class="ref" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle::version" title='xla::VersionedComputationHandle::version' data-ref="xla::VersionedComputationHandle::version">version</a>));</td></tr>
<tr><th id="1574">1574</th><td>  *<a class="local col2 ref" href="#352result" title='result' data-ref="352result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla27GetComputationShapeResponse21mutable_program_shapeEv" title='xla::GetComputationShapeResponse::mutable_program_shape' data-ref="_ZN3xla27GetComputationShapeResponse21mutable_program_shapeEv">mutable_program_shape</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla12ProgramShapeaSERKS0_" title='xla::ProgramShape::operator=' data-ref="_ZN3xla12ProgramShapeaSERKS0_">=</a> <a class="ref" href="../../../../../include/c++/5/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrdeEv" title='std::__shared_ptr::operator*' data-ref="_ZNKSt12__shared_ptrdeEv">*</a><a class="local col5 ref" href="#1572" title='program_shape' data-ref="355program_shape">program_shape</a>;</td></tr>
<tr><th id="1575">1575</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1576">1576</th><td>}</td></tr>
<tr><th id="1577">1577</th><td></td></tr>
<tr><th id="1578">1578</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service13GetLocalShapeEPKNS_20GetLocalShapeRequestEPNS_21GetLocalShapeResponseE" title='xla::Service::GetLocalShape' data-ref="_ZN3xla7Service13GetLocalShapeEPKNS_20GetLocalShapeRequestEPNS_21GetLocalShapeResponseE">GetLocalShape</dfn>(<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::GetLocalShapeRequest" title='xla::GetLocalShapeRequest' data-ref="xla::GetLocalShapeRequest">GetLocalShapeRequest</a>* <dfn class="local col6 decl" id="356arg" title='arg' data-type='const xla::GetLocalShapeRequest *' data-ref="356arg">arg</dfn>,</td></tr>
<tr><th id="1579">1579</th><td>                                          <a class="type" href="../xla_data.pb.h.html#xla::GetLocalShapeResponse" title='xla::GetLocalShapeResponse' data-ref="xla::GetLocalShapeResponse">GetLocalShapeResponse</a>* <dfn class="local col7 decl" id="357result" title='result' data-type='xla::GetLocalShapeResponse *' data-ref="357result">result</dfn>) {</td></tr>
<tr><th id="1580">1580</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value187 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value187.ok(), 0))) { return _status_or_value187.status(); } UserComputation * computation = std::move(_status_or_value187.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col8 decl" id="358computation" title='computation' data-type='xla::UserComputation *' data-ref="358computation">computation</dfn>,</td></tr>
<tr><th id="1581">1581</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col6 ref" href="#356arg" title='arg' data-ref="356arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla20GetLocalShapeRequest11computationEv" title='xla::GetLocalShapeRequest::computation' data-ref="_ZNK3xla20GetLocalShapeRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1582">1582</th><td></td></tr>
<tr><th id="1583">1583</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value189 = (computation-&gt;GetShape(arg-&gt;operand())); if ((__builtin_expect(!_status_or_value189.ok(), 0))) { return _status_or_value189.status(); } *result-&gt;mutable_shape() = std::move(_status_or_value189.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col7 ref" href="#357result" title='result' data-ref="357result">result</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla21GetLocalShapeResponse13mutable_shapeEv" title='xla::GetLocalShapeResponse::mutable_shape' data-ref="_ZN3xla21GetLocalShapeResponse13mutable_shapeEv">mutable_shape</a>(),</td></tr>
<tr><th id="1584">1584</th><td>                      <a class="local col8 ref" href="#1580" title='computation' data-ref="358computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation8GetShapeERKNS_21ComputationDataHandleE" title='xla::UserComputation::GetShape' data-ref="_ZN3xla15UserComputation8GetShapeERKNS_21ComputationDataHandleE">GetShape</a>(<a class="local col6 ref" href="#356arg" title='arg' data-ref="356arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla20GetLocalShapeRequest7operandEv" title='xla::GetLocalShapeRequest::operand' data-ref="_ZNK3xla20GetLocalShapeRequest7operandEv">operand</a>()));</td></tr>
<tr><th id="1585">1585</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1586">1586</th><td>}</td></tr>
<tr><th id="1587">1587</th><td></td></tr>
<tr><th id="1588">1588</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service19GetComputationStatsEPKNS_23ComputationStatsRequestEPNS_24ComputationStatsResponseE" title='xla::Service::GetComputationStats' data-ref="_ZN3xla7Service19GetComputationStatsEPKNS_23ComputationStatsRequestEPNS_24ComputationStatsResponseE">GetComputationStats</dfn>(</td></tr>
<tr><th id="1589">1589</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ComputationStatsRequest" title='xla::ComputationStatsRequest' data-ref="xla::ComputationStatsRequest">ComputationStatsRequest</a>* <dfn class="local col9 decl" id="359arg" title='arg' data-type='const xla::ComputationStatsRequest *' data-ref="359arg">arg</dfn>, <a class="type" href="../xla.pb.h.html#xla::ComputationStatsResponse" title='xla::ComputationStatsResponse' data-ref="xla::ComputationStatsResponse">ComputationStatsResponse</a>* <dfn class="local col0 decl" id="360result" title='result' data-type='xla::ComputationStatsResponse *' data-ref="360result">result</dfn>) {</td></tr>
<tr><th id="1590">1590</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value191 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value191.ok(), 0))) { return _status_or_value191.status(); } UserComputation * user_computation = std::move(_status_or_value191.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col1 decl" id="361user_computation" title='user_computation' data-type='xla::UserComputation *' data-ref="361user_computation">user_computation</dfn>,</td></tr>
<tr><th id="1591">1591</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col9 ref" href="#359arg" title='arg' data-ref="359arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ComputationStatsRequest11computationEv" title='xla::ComputationStatsRequest::computation' data-ref="_ZNK3xla23ComputationStatsRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1592">1592</th><td></td></tr>
<tr><th id="1593">1593</th><td>  <a class="type" href="versioned_computation_handle.h.html#xla::VersionedComputationHandle" title='xla::VersionedComputationHandle' data-ref="xla::VersionedComputationHandle">VersionedComputationHandle</a> <dfn class="local col2 decl" id="362versioned_handle" title='versioned_handle' data-type='xla::VersionedComputationHandle' data-ref="362versioned_handle">versioned_handle</dfn> =</td></tr>
<tr><th id="1594">1594</th><td>      <a class="local col1 ref" href="#1590" title='user_computation' data-ref="361user_computation">user_computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZNK3xla15UserComputation18GetVersionedHandleEv" title='xla::UserComputation::GetVersionedHandle' data-ref="_ZNK3xla15UserComputation18GetVersionedHandleEv">GetVersionedHandle</a>();</td></tr>
<tr><th id="1595">1595</th><td></td></tr>
<tr><th id="1596">1596</th><td>  <a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a> <a class="ref fake" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfigC1Ev" title='xla::HloModuleConfig::HloModuleConfig' data-ref="_ZN3xla15HloModuleConfigC1Ev"></a><dfn class="local col3 decl" id="363config" title='config' data-type='xla::HloModuleConfig' data-ref="363config">config</dfn>;</td></tr>
<tr><th id="1597">1597</th><td>  <a class="local col3 ref" href="#363config" title='config' data-ref="363config">config</a>.<a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE" title='xla::HloModuleConfig::set_debug_options' data-ref="_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE">set_debug_options</a>(<a class="local col9 ref" href="#359arg" title='arg' data-ref="359arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla23ComputationStatsRequest13debug_optionsEv" title='xla::ComputationStatsRequest::debug_options' data-ref="_ZNK3xla23ComputationStatsRequest13debug_optionsEv">debug_options</a>());</td></tr>
<tr><th id="1598">1598</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value193 = (computation_tracker_.BuildHloModule(versioned_handle, config)); if ((__builtin_expect(!_status_or_value193.ok(), 0))) { return _status_or_value193.status(); } std::unique_ptr&lt;HloModule&gt; module = std::move(_status_or_value193.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1599">1599</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt; <dfn class="local col4 decl" id="364module" title='module' data-type='std::unique_ptr&lt;HloModule&gt;' data-ref="364module">module</dfn>,</td></tr>
<tr><th id="1600">1600</th><td>      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb" title='xla::ComputationTracker::BuildHloModule' data-ref="_ZNK3xla18ComputationTracker14BuildHloModuleERKNS_26VersionedComputationHandleERKNS_15HloModuleConfigEb">BuildHloModule</a>(<a class="local col2 ref" href="#362versioned_handle" title='versioned_handle' data-ref="362versioned_handle">versioned_handle</a>, <a class="local col3 ref" href="#363config" title='config' data-ref="363config">config</a>));</td></tr>
<tr><th id="1601">1601</th><td></td></tr>
<tr><th id="1602">1602</th><td>  <span class="namespace">hlo_graph_dumper::</span><a class="ref" href="hlo_graph_dumper.h.html#_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE" title='xla::hlo_graph_dumper::MaybeDumpHloModule' data-ref="_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE">MaybeDumpHloModule</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col4 ref" href="#1598" title='module' data-ref="364module">module</a>,</td></tr>
<tr><th id="1603">1603</th><td>                                       <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"computation statistics subject"</q>);</td></tr>
<tr><th id="1604">1604</th><td></td></tr>
<tr><th id="1605">1605</th><td>  <i>// Run HLO analysis to get the computation statistics.</i></td></tr>
<tr><th id="1606">1606</th><td>  <a class="type" href="hlo_cost_analysis.h.html#xla::HloCostAnalysis" title='xla::HloCostAnalysis' data-ref="xla::HloCostAnalysis">HloCostAnalysis</a> <dfn class="local col5 decl" id="365analysis" title='analysis' data-type='xla::HloCostAnalysis' data-ref="365analysis">analysis</dfn><a class="ref" href="hlo_cost_analysis.h.html#_ZN3xla15HloCostAnalysisC1ERKSt8functionIFxRKNS_5ShapeEEE" title='xla::HloCostAnalysis::HloCostAnalysis' data-ref="_ZN3xla15HloCostAnalysisC1ERKSt8functionIFxRKNS_5ShapeEEE">(</a></td></tr>
<tr><th id="1607">1607</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZNK3xla8Compiler22ShapeSizeBytesFunctionEv" title='xla::Compiler::ShapeSizeBytesFunction' data-ref="_ZNK3xla8Compiler22ShapeSizeBytesFunctionEv">ShapeSizeBytesFunction</a>());</td></tr>
<tr><th id="1608">1608</th><td></td></tr>
<tr><th id="1609">1609</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (module-&gt;entry_computation()-&gt;Accept(&amp;analysis)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col4 ref" href="#1598" title='module' data-ref="364module">module</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module.h.html#_ZN3xla9HloModule17entry_computationEv" title='xla::HloModule::entry_computation' data-ref="_ZN3xla9HloModule17entry_computationEv">entry_computation</a>()-&gt;<a class="ref" href="hlo_computation.h.html#_ZNK3xla14HloComputation6AcceptEPNS_17DfsHloVisitorBaseIT_EE" title='xla::HloComputation::Accept' data-ref="_ZNK3xla14HloComputation6AcceptEPNS_17DfsHloVisitorBaseIT_EE">Accept</a>(&amp;<a class="local col5 ref" href="#365analysis" title='analysis' data-ref="365analysis">analysis</a>));</td></tr>
<tr><th id="1610">1610</th><td></td></tr>
<tr><th id="1611">1611</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ComputationStats" title='xla::ComputationStats' data-ref="xla::ComputationStats">ComputationStats</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16ComputationStatsC1Ev" title='xla::ComputationStats::ComputationStats' data-ref="_ZN3xla16ComputationStatsC1Ev"></a><dfn class="local col6 decl" id="366stats" title='stats' data-type='xla::ComputationStats' data-ref="366stats">stats</dfn>;</td></tr>
<tr><th id="1612">1612</th><td>  <a class="local col6 ref" href="#366stats" title='stats' data-ref="366stats">stats</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStats14set_flop_countEd" title='xla::ComputationStats::set_flop_count' data-ref="_ZN3xla16ComputationStats14set_flop_countEd">set_flop_count</a>(<a class="local col5 ref" href="#365analysis" title='analysis' data-ref="365analysis">analysis</a>.<a class="ref" href="hlo_cost_analysis.h.html#_ZNK3xla15HloCostAnalysis10flop_countEv" title='xla::HloCostAnalysis::flop_count' data-ref="_ZNK3xla15HloCostAnalysis10flop_countEv">flop_count</a>());</td></tr>
<tr><th id="1613">1613</th><td>  <a class="local col6 ref" href="#366stats" title='stats' data-ref="366stats">stats</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStats24set_transcendental_countEd" title='xla::ComputationStats::set_transcendental_count' data-ref="_ZN3xla16ComputationStats24set_transcendental_countEd">set_transcendental_count</a>(<a class="local col5 ref" href="#365analysis" title='analysis' data-ref="365analysis">analysis</a>.<a class="ref" href="hlo_cost_analysis.h.html#_ZNK3xla15HloCostAnalysis20transcendental_countEv" title='xla::HloCostAnalysis::transcendental_count' data-ref="_ZNK3xla15HloCostAnalysis20transcendental_countEv">transcendental_count</a>());</td></tr>
<tr><th id="1614">1614</th><td>  *<a class="local col0 ref" href="#360result" title='result' data-ref="360result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24ComputationStatsResponse13mutable_statsEv" title='xla::ComputationStatsResponse::mutable_stats' data-ref="_ZN3xla24ComputationStatsResponse13mutable_statsEv">mutable_stats</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStatsaSERKS0_" title='xla::ComputationStats::operator=' data-ref="_ZN3xla16ComputationStatsaSERKS0_">=</a> <a class="local col6 ref" href="#366stats" title='stats' data-ref="366stats">stats</a>;</td></tr>
<tr><th id="1615">1615</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1616">1616</th><td>}</td></tr>
<tr><th id="1617">1617</th><td></td></tr>
<tr><th id="1618">1618</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service24GetComputationGraphStatsEPKNS_28ComputationGraphStatsRequestEPNS_24ComputationStatsResponseE" title='xla::Service::GetComputationGraphStats' data-ref="_ZN3xla7Service24GetComputationGraphStatsEPKNS_28ComputationGraphStatsRequestEPNS_24ComputationStatsResponseE">GetComputationGraphStats</dfn>(</td></tr>
<tr><th id="1619">1619</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::ComputationGraphStatsRequest" title='xla::ComputationGraphStatsRequest' data-ref="xla::ComputationGraphStatsRequest">ComputationGraphStatsRequest</a>* <dfn class="local col7 decl" id="367arg" title='arg' data-type='const xla::ComputationGraphStatsRequest *' data-ref="367arg">arg</dfn>, <a class="type" href="../xla.pb.h.html#xla::ComputationStatsResponse" title='xla::ComputationStatsResponse' data-ref="xla::ComputationStatsResponse">ComputationStatsResponse</a>* <dfn class="local col8 decl" id="368result" title='result' data-type='xla::ComputationStatsResponse *' data-ref="368result">result</dfn>) {</td></tr>
<tr><th id="1620">1620</th><td>  <a class="type" href="hlo_module_config.h.html#xla::HloModuleConfig" title='xla::HloModuleConfig' data-ref="xla::HloModuleConfig">HloModuleConfig</a> <a class="ref fake" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfigC1Ev" title='xla::HloModuleConfig::HloModuleConfig' data-ref="_ZN3xla15HloModuleConfigC1Ev"></a><dfn class="local col9 decl" id="369config" title='config' data-type='xla::HloModuleConfig' data-ref="369config">config</dfn>;</td></tr>
<tr><th id="1621">1621</th><td>  <a class="local col9 ref" href="#369config" title='config' data-ref="369config">config</a>.<a class="ref" href="hlo_module_config.h.html#_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE" title='xla::HloModuleConfig::set_debug_options' data-ref="_ZN3xla15HloModuleConfig17set_debug_optionsERKNS_12DebugOptionsE">set_debug_options</a>(<a class="local col7 ref" href="#367arg" title='arg' data-ref="367arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla28ComputationGraphStatsRequest13debug_optionsEv" title='xla::ComputationGraphStatsRequest::debug_options' data-ref="_ZNK3xla28ComputationGraphStatsRequest13debug_optionsEv">debug_options</a>());</td></tr>
<tr><th id="1622">1622</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value195 = (HloModule::CreateFromProto(arg-&gt;computation(), config)); if ((__builtin_expect(!_status_or_value195.ok(), 0))) { return _status_or_value195.status(); } std::unique_ptr&lt;HloModule&gt; module = std::move(_status_or_value195.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&gt; <dfn class="local col0 decl" id="370module" title='module' data-type='std::unique_ptr&lt;HloModule&gt;' data-ref="370module">module</dfn>,</td></tr>
<tr><th id="1623">1623</th><td>                      <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>::<a class="ref" href="hlo_module.h.html#_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE" title='xla::HloModule::CreateFromProto' data-ref="_ZN3xla9HloModule15CreateFromProtoERKNS_14HloModuleProtoERKNS_15HloModuleConfigERKNS_26VersionedComputationHandleE">CreateFromProto</a>(<a class="local col7 ref" href="#367arg" title='arg' data-ref="367arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla28ComputationGraphStatsRequest11computationEv" title='xla::ComputationGraphStatsRequest::computation' data-ref="_ZNK3xla28ComputationGraphStatsRequest11computationEv">computation</a>(), <a class="local col9 ref" href="#369config" title='config' data-ref="369config">config</a>));</td></tr>
<tr><th id="1624">1624</th><td></td></tr>
<tr><th id="1625">1625</th><td>  <span class="namespace">hlo_graph_dumper::</span><a class="ref" href="hlo_graph_dumper.h.html#_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE" title='xla::hlo_graph_dumper::MaybeDumpHloModule' data-ref="_ZN3xla16hlo_graph_dumper18MaybeDumpHloModuleERKNS_9HloModuleERKSsPKNS_19HloExecutionProfileE">MaybeDumpHloModule</a>(<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col0 ref" href="#1622" title='module' data-ref="370module">module</a>,</td></tr>
<tr><th id="1626">1626</th><td>                                       <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"computation statistics subject"</q>);</td></tr>
<tr><th id="1627">1627</th><td></td></tr>
<tr><th id="1628">1628</th><td>  <i>// Run HLO analysis to get the computation statistics.</i></td></tr>
<tr><th id="1629">1629</th><td>  <a class="type" href="hlo_cost_analysis.h.html#xla::HloCostAnalysis" title='xla::HloCostAnalysis' data-ref="xla::HloCostAnalysis">HloCostAnalysis</a> <dfn class="local col1 decl" id="371analysis" title='analysis' data-type='xla::HloCostAnalysis' data-ref="371analysis">analysis</dfn><a class="ref" href="hlo_cost_analysis.h.html#_ZN3xla15HloCostAnalysisC1ERKSt8functionIFxRKNS_5ShapeEEE" title='xla::HloCostAnalysis::HloCostAnalysis' data-ref="_ZN3xla15HloCostAnalysisC1ERKSt8functionIFxRKNS_5ShapeEEE">(</a></td></tr>
<tr><th id="1630">1630</th><td>      <a class="member" href="service.h.html#xla::Service::execute_backend_" title='xla::Service::execute_backend_' data-ref="xla::Service::execute_backend_">execute_backend_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="backend.h.html#_ZNK3xla7Backend8compilerEv" title='xla::Backend::compiler' data-ref="_ZNK3xla7Backend8compilerEv">compiler</a>()-&gt;<a class="virtual ref" href="compiler.h.html#_ZNK3xla8Compiler22ShapeSizeBytesFunctionEv" title='xla::Compiler::ShapeSizeBytesFunction' data-ref="_ZNK3xla8Compiler22ShapeSizeBytesFunctionEv">ShapeSizeBytesFunction</a>());</td></tr>
<tr><th id="1631">1631</th><td></td></tr>
<tr><th id="1632">1632</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (module-&gt;entry_computation()-&gt;Accept(&amp;analysis)); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col0 ref" href="#1622" title='module' data-ref="370module">module</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="hlo_module.h.html#_ZN3xla9HloModule17entry_computationEv" title='xla::HloModule::entry_computation' data-ref="_ZN3xla9HloModule17entry_computationEv">entry_computation</a>()-&gt;<a class="ref" href="hlo_computation.h.html#_ZNK3xla14HloComputation6AcceptEPNS_17DfsHloVisitorBaseIT_EE" title='xla::HloComputation::Accept' data-ref="_ZNK3xla14HloComputation6AcceptEPNS_17DfsHloVisitorBaseIT_EE">Accept</a>(&amp;<a class="local col1 ref" href="#371analysis" title='analysis' data-ref="371analysis">analysis</a>));</td></tr>
<tr><th id="1633">1633</th><td></td></tr>
<tr><th id="1634">1634</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::ComputationStats" title='xla::ComputationStats' data-ref="xla::ComputationStats">ComputationStats</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla16ComputationStatsC1Ev" title='xla::ComputationStats::ComputationStats' data-ref="_ZN3xla16ComputationStatsC1Ev"></a><dfn class="local col2 decl" id="372stats" title='stats' data-type='xla::ComputationStats' data-ref="372stats">stats</dfn>;</td></tr>
<tr><th id="1635">1635</th><td>  <a class="local col2 ref" href="#372stats" title='stats' data-ref="372stats">stats</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStats14set_flop_countEd" title='xla::ComputationStats::set_flop_count' data-ref="_ZN3xla16ComputationStats14set_flop_countEd">set_flop_count</a>(<a class="local col1 ref" href="#371analysis" title='analysis' data-ref="371analysis">analysis</a>.<a class="ref" href="hlo_cost_analysis.h.html#_ZNK3xla15HloCostAnalysis10flop_countEv" title='xla::HloCostAnalysis::flop_count' data-ref="_ZNK3xla15HloCostAnalysis10flop_countEv">flop_count</a>());</td></tr>
<tr><th id="1636">1636</th><td>  <a class="local col2 ref" href="#372stats" title='stats' data-ref="372stats">stats</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStats24set_transcendental_countEd" title='xla::ComputationStats::set_transcendental_count' data-ref="_ZN3xla16ComputationStats24set_transcendental_countEd">set_transcendental_count</a>(<a class="local col1 ref" href="#371analysis" title='analysis' data-ref="371analysis">analysis</a>.<a class="ref" href="hlo_cost_analysis.h.html#_ZNK3xla15HloCostAnalysis20transcendental_countEv" title='xla::HloCostAnalysis::transcendental_count' data-ref="_ZNK3xla15HloCostAnalysis20transcendental_countEv">transcendental_count</a>());</td></tr>
<tr><th id="1637">1637</th><td>  *<a class="local col8 ref" href="#368result" title='result' data-ref="368result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla24ComputationStatsResponse13mutable_statsEv" title='xla::ComputationStatsResponse::mutable_stats' data-ref="_ZN3xla24ComputationStatsResponse13mutable_statsEv">mutable_stats</a>() <a class="ref" href="../xla_data.pb.h.html#_ZN3xla16ComputationStatsaSERKS0_" title='xla::ComputationStats::operator=' data-ref="_ZN3xla16ComputationStatsaSERKS0_">=</a> <a class="local col2 ref" href="#372stats" title='stats' data-ref="372stats">stats</a>;</td></tr>
<tr><th id="1638">1638</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1639">1639</th><td>}</td></tr>
<tr><th id="1640">1640</th><td></td></tr>
<tr><th id="1641">1641</th><td><b>template</b> &lt;<b>typename</b> RequestT, <b>typename</b> ResponseT&gt;</td></tr>
<tr><th id="1642">1642</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZN3xla7Service14AddInstructionEPKT_PT0_RKSt8functionIFNS_8StatusOrINS_21ComputationDataHandleEEEPNS_15UserComputationEEE" title='xla::Service::AddInstruction' data-ref="_ZN3xla7Service14AddInstructionEPKT_PT0_RKSt8functionIFNS_8StatusOrINS_21ComputationDataHandleEEEPNS_15UserComputationEEE">AddInstruction</dfn>(</td></tr>
<tr><th id="1643">1643</th><td>    <em>const</em> RequestT* <dfn class="local col3 decl" id="373arg" title='arg' data-type='const RequestT *' data-ref="373arg">arg</dfn>, ResponseT* <dfn class="local col4 decl" id="374result" title='result' data-type='ResponseT *' data-ref="374result">result</dfn>,</td></tr>
<tr><th id="1644">1644</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/functional.html#std::function" title='std::function' data-ref="std::function">function</a>&lt;<a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::ComputationDataHandle" title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</a>&gt;(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a>*)&gt;&amp;</td></tr>
<tr><th id="1645">1645</th><td>        <dfn class="local col5 decl" id="375adder" title='adder' data-type='const std::function&lt;StatusOr&lt;ComputationDataHandle&gt; (UserComputation *)&gt; &amp;' data-ref="375adder">adder</dfn>) {</td></tr>
<tr><th id="1646">1646</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value197 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value197.ok(), 0))) { return _status_or_value197.status(); } UserComputation * computation = std::move(_status_or_value197.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col6 decl" id="376computation" title='computation' data-type='xla::UserComputation *' data-ref="376computation">computation</dfn>,</td></tr>
<tr><th id="1647">1647</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col3 ref" href="#373arg" title='arg' data-ref="373arg">arg</a>-&gt;computation()));</td></tr>
<tr><th id="1648">1648</th><td></td></tr>
<tr><th id="1649">1649</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value199 = (adder(computation)); if ((__builtin_expect(!_status_or_value199.ok(), 0))) { return _status_or_value199.status(); } *result-&gt;mutable_output() = std::move(_status_or_value199.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col4 ref" href="#374result" title='result' data-ref="374result">result</a>-&gt;mutable_output(), <a class="local col5 ref" href="#375adder" title='adder' data-ref="375adder">adder</a>(<a class="local col6 ref" href="#1646" title='computation' data-ref="376computation">computation</a>));</td></tr>
<tr><th id="1650">1650</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1651">1651</th><td>}</td></tr>
<tr><th id="1652">1652</th><td></td></tr>
<tr><th id="1653">1653</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service2OpEPKNS_9OpRequestEPNS_10OpResponseE" title='xla::Service::Op' data-ref="_ZN3xla7Service2OpEPKNS_9OpRequestEPNS_10OpResponseE">Op</dfn>(<em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>* <dfn class="local col7 decl" id="377arg" title='arg' data-type='const xla::OpRequest *' data-ref="377arg">arg</dfn>, <a class="type" href="../xla_data.pb.h.html#xla::OpResponse" title='xla::OpResponse' data-ref="xla::OpResponse">OpResponse</a>* <dfn class="local col8 decl" id="378result" title='result' data-type='xla::OpResponse *' data-ref="378result">result</dfn>) {</td></tr>
<tr><th id="1654">1654</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value201 = (computation_tracker_.Resolve(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value201.ok(), 0))) { return _status_or_value201.status(); } UserComputation * computation = std::move(_status_or_value201.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col9 decl" id="379computation" title='computation' data-type='xla::UserComputation *' data-ref="379computation">computation</dfn>,</td></tr>
<tr><th id="1655">1655</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11computationEv" title='xla::OpRequest::computation' data-ref="_ZNK3xla9OpRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1656">1656</th><td>  <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="../xla_data.pb.h.html#xla::ComputationDataHandle" title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</a>&gt; <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1Ev" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1Ev"></a><dfn class="local col0 decl" id="380handle_status" title='handle_status' data-type='StatusOr&lt;xla::ComputationDataHandle&gt;' data-ref="380handle_status">handle_status</dfn>;</td></tr>
<tr><th id="1657">1657</th><td></td></tr>
<tr><th id="1658">1658</th><td>  <b>switch</b> (<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest7op_caseEv" title='xla::OpRequest::op_case' data-ref="_ZNK3xla9OpRequest7op_caseEv">op_case</a>()) {</td></tr>
<tr><th id="1659">1659</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBatchNormTrainingRequest" title='xla::OpRequest::OpCase::kBatchNormTrainingRequest' data-ref="xla::OpRequest::OpCase::kBatchNormTrainingRequest">kBatchNormTrainingRequest</a>:</td></tr>
<tr><th id="1660">1660</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation31AddBatchNormTrainingInstructionERKNS_24BatchNormTrainingRequestE" title='xla::UserComputation::AddBatchNormTrainingInstruction' data-ref="_ZN3xla15UserComputation31AddBatchNormTrainingInstructionERKNS_24BatchNormTrainingRequestE">AddBatchNormTrainingInstruction</a>(</td></tr>
<tr><th id="1661">1661</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest27batch_norm_training_requestEv" title='xla::OpRequest::batch_norm_training_request' data-ref="_ZNK3xla9OpRequest27batch_norm_training_requestEv">batch_norm_training_request</a>());</td></tr>
<tr><th id="1662">1662</th><td>      <b>break</b>;</td></tr>
<tr><th id="1663">1663</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBatchNormInferenceRequest" title='xla::OpRequest::OpCase::kBatchNormInferenceRequest' data-ref="xla::OpRequest::OpCase::kBatchNormInferenceRequest">kBatchNormInferenceRequest</a>:</td></tr>
<tr><th id="1664">1664</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation32AddBatchNormInferenceInstructionERKNS_25BatchNormInferenceRequestE" title='xla::UserComputation::AddBatchNormInferenceInstruction' data-ref="_ZN3xla15UserComputation32AddBatchNormInferenceInstructionERKNS_25BatchNormInferenceRequestE">AddBatchNormInferenceInstruction</a>(</td></tr>
<tr><th id="1665">1665</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest28batch_norm_inference_requestEv" title='xla::OpRequest::batch_norm_inference_request' data-ref="_ZNK3xla9OpRequest28batch_norm_inference_requestEv">batch_norm_inference_request</a>());</td></tr>
<tr><th id="1666">1666</th><td>      <b>break</b>;</td></tr>
<tr><th id="1667">1667</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBatchNormGradRequest" title='xla::OpRequest::OpCase::kBatchNormGradRequest' data-ref="xla::OpRequest::OpCase::kBatchNormGradRequest">kBatchNormGradRequest</a>:</td></tr>
<tr><th id="1668">1668</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation27AddBatchNormGradInstructionERKNS_20BatchNormGradRequestE" title='xla::UserComputation::AddBatchNormGradInstruction' data-ref="_ZN3xla15UserComputation27AddBatchNormGradInstructionERKNS_20BatchNormGradRequestE">AddBatchNormGradInstruction</a>(</td></tr>
<tr><th id="1669">1669</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest23batch_norm_grad_requestEv" title='xla::OpRequest::batch_norm_grad_request' data-ref="_ZNK3xla9OpRequest23batch_norm_grad_requestEv">batch_norm_grad_request</a>());</td></tr>
<tr><th id="1670">1670</th><td>      <b>break</b>;</td></tr>
<tr><th id="1671">1671</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBinaryOpRequest" title='xla::OpRequest::OpCase::kBinaryOpRequest' data-ref="xla::OpRequest::OpCase::kBinaryOpRequest">kBinaryOpRequest</a>:</td></tr>
<tr><th id="1672">1672</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1673">1673</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation20AddBinaryInstructionERKNS_15BinaryOpRequestE" title='xla::UserComputation::AddBinaryInstruction' data-ref="_ZN3xla15UserComputation20AddBinaryInstructionERKNS_15BinaryOpRequestE">AddBinaryInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest17binary_op_requestEv" title='xla::OpRequest::binary_op_request' data-ref="_ZNK3xla9OpRequest17binary_op_requestEv">binary_op_request</a>());</td></tr>
<tr><th id="1674">1674</th><td>      <b>break</b>;</td></tr>
<tr><th id="1675">1675</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBroadcastRequest" title='xla::OpRequest::OpCase::kBroadcastRequest' data-ref="xla::OpRequest::OpCase::kBroadcastRequest">kBroadcastRequest</a>:</td></tr>
<tr><th id="1676">1676</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1677">1677</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation23AddBroadcastInstructionERKNS_16BroadcastRequestE" title='xla::UserComputation::AddBroadcastInstruction' data-ref="_ZN3xla15UserComputation23AddBroadcastInstructionERKNS_16BroadcastRequestE">AddBroadcastInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest17broadcast_requestEv" title='xla::OpRequest::broadcast_request' data-ref="_ZNK3xla9OpRequest17broadcast_requestEv">broadcast_request</a>());</td></tr>
<tr><th id="1678">1678</th><td>      <b>break</b>;</td></tr>
<tr><th id="1679">1679</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kCallRequest" title='xla::OpRequest::OpCase::kCallRequest' data-ref="xla::OpRequest::OpCase::kCallRequest">kCallRequest</a>: {</td></tr>
<tr><th id="1680">1680</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value203 = (computation_tracker_.Resolve(arg-&gt;call_request().to_apply())); if ((__builtin_expect(!_status_or_value203.ok(), 0))) { return _status_or_value203.status(); } UserComputation * to_apply = std::move(_status_or_value203.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1681">1681</th><td>          <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col1 decl" id="381to_apply" title='to_apply' data-type='xla::UserComputation *' data-ref="381to_apply">to_apply</dfn>,</td></tr>
<tr><th id="1682">1682</th><td>          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12call_requestEv" title='xla::OpRequest::call_request' data-ref="_ZNK3xla9OpRequest12call_requestEv">call_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla11CallRequest8to_applyEv" title='xla::CallRequest::to_apply' data-ref="_ZNK3xla11CallRequest8to_applyEv">to_apply</a>()));</td></tr>
<tr><th id="1683">1683</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1684">1684</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation18AddCallInstructionERKNS_11CallRequestERKS0_" title='xla::UserComputation::AddCallInstruction' data-ref="_ZN3xla15UserComputation18AddCallInstructionERKNS_11CallRequestERKS0_">AddCallInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12call_requestEv" title='xla::OpRequest::call_request' data-ref="_ZNK3xla9OpRequest12call_requestEv">call_request</a>(), *<a class="local col1 ref" href="#1680" title='to_apply' data-ref="381to_apply">to_apply</a>);</td></tr>
<tr><th id="1685">1685</th><td>      <b>break</b>;</td></tr>
<tr><th id="1686">1686</th><td>    }</td></tr>
<tr><th id="1687">1687</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kConcatenateRequest" title='xla::OpRequest::OpCase::kConcatenateRequest' data-ref="xla::OpRequest::OpCase::kConcatenateRequest">kConcatenateRequest</a>:</td></tr>
<tr><th id="1688">1688</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1689">1689</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation25AddConcatenateInstructionERKNS_18ConcatenateRequestE" title='xla::UserComputation::AddConcatenateInstruction' data-ref="_ZN3xla15UserComputation25AddConcatenateInstructionERKNS_18ConcatenateRequestE">AddConcatenateInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19concatenate_requestEv" title='xla::OpRequest::concatenate_request' data-ref="_ZNK3xla9OpRequest19concatenate_requestEv">concatenate_request</a>());</td></tr>
<tr><th id="1690">1690</th><td>      <b>break</b>;</td></tr>
<tr><th id="1691">1691</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kConditionalRequest" title='xla::OpRequest::OpCase::kConditionalRequest' data-ref="xla::OpRequest::OpCase::kConditionalRequest">kConditionalRequest</a>: {</td></tr>
<tr><th id="1692">1692</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value205 = (computation_tracker_.Resolve( arg-&gt;conditional_request().true_computation())); if ((__builtin_expect(!_status_or_value205.ok(), 0))) { return _status_or_value205.status(); } UserComputation * true_computation = std::move(_status_or_value205.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col2 decl" id="382true_computation" title='true_computation' data-type='xla::UserComputation *' data-ref="382true_computation">true_computation</dfn>,</td></tr>
<tr><th id="1693">1693</th><td>                          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(</td></tr>
<tr><th id="1694">1694</th><td>                              <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19conditional_requestEv" title='xla::OpRequest::conditional_request' data-ref="_ZNK3xla9OpRequest19conditional_requestEv">conditional_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla18ConditionalRequest16true_computationEv" title='xla::ConditionalRequest::true_computation' data-ref="_ZNK3xla18ConditionalRequest16true_computationEv">true_computation</a>()));</td></tr>
<tr><th id="1695">1695</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value207 = (computation_tracker_.Resolve( arg-&gt;conditional_request().false_computation())); if ((__builtin_expect(!_status_or_value207.ok(), 0))) { return _status_or_value207.status(); } UserComputation * false_computation = std::move(_status_or_value207.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col3 decl" id="383false_computation" title='false_computation' data-type='xla::UserComputation *' data-ref="383false_computation">false_computation</dfn>,</td></tr>
<tr><th id="1696">1696</th><td>                          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(</td></tr>
<tr><th id="1697">1697</th><td>                              <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19conditional_requestEv" title='xla::OpRequest::conditional_request' data-ref="_ZNK3xla9OpRequest19conditional_requestEv">conditional_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla18ConditionalRequest17false_computationEv" title='xla::ConditionalRequest::false_computation' data-ref="_ZNK3xla18ConditionalRequest17false_computationEv">false_computation</a>()));</td></tr>
<tr><th id="1698">1698</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation25AddConditionalInstructionERKNS_18ConditionalRequestERKS0_S5_" title='xla::UserComputation::AddConditionalInstruction' data-ref="_ZN3xla15UserComputation25AddConditionalInstructionERKNS_18ConditionalRequestERKS0_S5_">AddConditionalInstruction</a>(</td></tr>
<tr><th id="1699">1699</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19conditional_requestEv" title='xla::OpRequest::conditional_request' data-ref="_ZNK3xla9OpRequest19conditional_requestEv">conditional_request</a>(), *<a class="local col2 ref" href="#1692" title='true_computation' data-ref="382true_computation">true_computation</a>, *<a class="local col3 ref" href="#1695" title='false_computation' data-ref="383false_computation">false_computation</a>);</td></tr>
<tr><th id="1700">1700</th><td>      <b>break</b>;</td></tr>
<tr><th id="1701">1701</th><td>    }</td></tr>
<tr><th id="1702">1702</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kConstantRequest" title='xla::OpRequest::OpCase::kConstantRequest' data-ref="xla::OpRequest::OpCase::kConstantRequest">kConstantRequest</a>:</td></tr>
<tr><th id="1703">1703</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1704">1704</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation22AddConstantInstructionERKNS_15ConstantRequestE" title='xla::UserComputation::AddConstantInstruction' data-ref="_ZN3xla15UserComputation22AddConstantInstructionERKNS_15ConstantRequestE">AddConstantInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest16constant_requestEv" title='xla::OpRequest::constant_request' data-ref="_ZNK3xla9OpRequest16constant_requestEv">constant_request</a>());</td></tr>
<tr><th id="1705">1705</th><td>      <b>break</b>;</td></tr>
<tr><th id="1706">1706</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kConvertRequest" title='xla::OpRequest::OpCase::kConvertRequest' data-ref="xla::OpRequest::OpCase::kConvertRequest">kConvertRequest</a>:</td></tr>
<tr><th id="1707">1707</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1708">1708</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation21AddConvertInstructionERKNS_14ConvertRequestE" title='xla::UserComputation::AddConvertInstruction' data-ref="_ZN3xla15UserComputation21AddConvertInstructionERKNS_14ConvertRequestE">AddConvertInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest15convert_requestEv" title='xla::OpRequest::convert_request' data-ref="_ZNK3xla9OpRequest15convert_requestEv">convert_request</a>());</td></tr>
<tr><th id="1709">1709</th><td>      <b>break</b>;</td></tr>
<tr><th id="1710">1710</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kBitcastConvertRequest" title='xla::OpRequest::OpCase::kBitcastConvertRequest' data-ref="xla::OpRequest::OpCase::kBitcastConvertRequest">kBitcastConvertRequest</a>:</td></tr>
<tr><th id="1711">1711</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation28AddBitcastConvertInstructionERKNS_14ConvertRequestE" title='xla::UserComputation::AddBitcastConvertInstruction' data-ref="_ZN3xla15UserComputation28AddBitcastConvertInstructionERKNS_14ConvertRequestE">AddBitcastConvertInstruction</a>(</td></tr>
<tr><th id="1712">1712</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest23bitcast_convert_requestEv" title='xla::OpRequest::bitcast_convert_request' data-ref="_ZNK3xla9OpRequest23bitcast_convert_requestEv">bitcast_convert_request</a>());</td></tr>
<tr><th id="1713">1713</th><td>      <b>break</b>;</td></tr>
<tr><th id="1714">1714</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kConvolveRequest" title='xla::OpRequest::OpCase::kConvolveRequest' data-ref="xla::OpRequest::OpCase::kConvolveRequest">kConvolveRequest</a>:</td></tr>
<tr><th id="1715">1715</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1716">1716</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation22AddConvolveInstructionERKNS_15ConvolveRequestE" title='xla::UserComputation::AddConvolveInstruction' data-ref="_ZN3xla15UserComputation22AddConvolveInstructionERKNS_15ConvolveRequestE">AddConvolveInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest16convolve_requestEv" title='xla::OpRequest::convolve_request' data-ref="_ZNK3xla9OpRequest16convolve_requestEv">convolve_request</a>());</td></tr>
<tr><th id="1717">1717</th><td>      <b>break</b>;</td></tr>
<tr><th id="1718">1718</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kCrossReplicaSumRequest" title='xla::OpRequest::OpCase::kCrossReplicaSumRequest' data-ref="xla::OpRequest::OpCase::kCrossReplicaSumRequest">kCrossReplicaSumRequest</a>:</td></tr>
<tr><th id="1719">1719</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation29AddCrossReplicaSumInstructionERKNS_22CrossReplicaSumRequestE" title='xla::UserComputation::AddCrossReplicaSumInstruction' data-ref="_ZN3xla15UserComputation29AddCrossReplicaSumInstructionERKNS_22CrossReplicaSumRequestE">AddCrossReplicaSumInstruction</a>(</td></tr>
<tr><th id="1720">1720</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest25cross_replica_sum_requestEv" title='xla::OpRequest::cross_replica_sum_request' data-ref="_ZNK3xla9OpRequest25cross_replica_sum_requestEv">cross_replica_sum_request</a>());</td></tr>
<tr><th id="1721">1721</th><td>      <b>break</b>;</td></tr>
<tr><th id="1722">1722</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kCustomCallRequest" title='xla::OpRequest::OpCase::kCustomCallRequest' data-ref="xla::OpRequest::OpCase::kCustomCallRequest">kCustomCallRequest</a>:</td></tr>
<tr><th id="1723">1723</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1724">1724</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation24AddCustomCallInstructionERKNS_17CustomCallRequestE" title='xla::UserComputation::AddCustomCallInstruction' data-ref="_ZN3xla15UserComputation24AddCustomCallInstructionERKNS_17CustomCallRequestE">AddCustomCallInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19custom_call_requestEv" title='xla::OpRequest::custom_call_request' data-ref="_ZNK3xla9OpRequest19custom_call_requestEv">custom_call_request</a>());</td></tr>
<tr><th id="1725">1725</th><td>      <b>break</b>;</td></tr>
<tr><th id="1726">1726</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kDotRequest" title='xla::OpRequest::OpCase::kDotRequest' data-ref="xla::OpRequest::OpCase::kDotRequest">kDotRequest</a>:</td></tr>
<tr><th id="1727">1727</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation17AddDotInstructionERKNS_10DotRequestE" title='xla::UserComputation::AddDotInstruction' data-ref="_ZN3xla15UserComputation17AddDotInstructionERKNS_10DotRequestE">AddDotInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11dot_requestEv" title='xla::OpRequest::dot_request' data-ref="_ZNK3xla9OpRequest11dot_requestEv">dot_request</a>());</td></tr>
<tr><th id="1728">1728</th><td>      <b>break</b>;</td></tr>
<tr><th id="1729">1729</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kDynamicSliceRequest" title='xla::OpRequest::OpCase::kDynamicSliceRequest' data-ref="xla::OpRequest::OpCase::kDynamicSliceRequest">kDynamicSliceRequest</a>:</td></tr>
<tr><th id="1730">1730</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1731">1731</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation26AddDynamicSliceInstructionERKNS_19DynamicSliceRequestE" title='xla::UserComputation::AddDynamicSliceInstruction' data-ref="_ZN3xla15UserComputation26AddDynamicSliceInstructionERKNS_19DynamicSliceRequestE">AddDynamicSliceInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest21dynamic_slice_requestEv" title='xla::OpRequest::dynamic_slice_request' data-ref="_ZNK3xla9OpRequest21dynamic_slice_requestEv">dynamic_slice_request</a>());</td></tr>
<tr><th id="1732">1732</th><td>      <b>break</b>;</td></tr>
<tr><th id="1733">1733</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kDynamicUpdateSliceRequest" title='xla::OpRequest::OpCase::kDynamicUpdateSliceRequest' data-ref="xla::OpRequest::OpCase::kDynamicUpdateSliceRequest">kDynamicUpdateSliceRequest</a>:</td></tr>
<tr><th id="1734">1734</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation32AddDynamicUpdateSliceInstructionERKNS_25DynamicUpdateSliceRequestE" title='xla::UserComputation::AddDynamicUpdateSliceInstruction' data-ref="_ZN3xla15UserComputation32AddDynamicUpdateSliceInstructionERKNS_25DynamicUpdateSliceRequestE">AddDynamicUpdateSliceInstruction</a>(</td></tr>
<tr><th id="1735">1735</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest28dynamic_update_slice_requestEv" title='xla::OpRequest::dynamic_update_slice_request' data-ref="_ZNK3xla9OpRequest28dynamic_update_slice_requestEv">dynamic_update_slice_request</a>());</td></tr>
<tr><th id="1736">1736</th><td>      <b>break</b>;</td></tr>
<tr><th id="1737">1737</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kFftRequest" title='xla::OpRequest::OpCase::kFftRequest' data-ref="xla::OpRequest::OpCase::kFftRequest">kFftRequest</a>:</td></tr>
<tr><th id="1738">1738</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation17AddFftInstructionERKNS_10FftRequestE" title='xla::UserComputation::AddFftInstruction' data-ref="_ZN3xla15UserComputation17AddFftInstructionERKNS_10FftRequestE">AddFftInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11fft_requestEv" title='xla::OpRequest::fft_request' data-ref="_ZNK3xla9OpRequest11fft_requestEv">fft_request</a>());</td></tr>
<tr><th id="1739">1739</th><td>      <b>break</b>;</td></tr>
<tr><th id="1740">1740</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kGatherRequest" title='xla::OpRequest::OpCase::kGatherRequest' data-ref="xla::OpRequest::OpCase::kGatherRequest">kGatherRequest</a>:</td></tr>
<tr><th id="1741">1741</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation20AddGatherInstructionERKNS_13GatherRequestE" title='xla::UserComputation::AddGatherInstruction' data-ref="_ZN3xla15UserComputation20AddGatherInstructionERKNS_13GatherRequestE">AddGatherInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest14gather_requestEv" title='xla::OpRequest::gather_request' data-ref="_ZNK3xla9OpRequest14gather_requestEv">gather_request</a>());</td></tr>
<tr><th id="1742">1742</th><td>      <b>break</b>;</td></tr>
<tr><th id="1743">1743</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kGetTupleElementRequest" title='xla::OpRequest::OpCase::kGetTupleElementRequest' data-ref="xla::OpRequest::OpCase::kGetTupleElementRequest">kGetTupleElementRequest</a>:</td></tr>
<tr><th id="1744">1744</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation29AddGetTupleElementInstructionERKNS_22GetTupleElementRequestE" title='xla::UserComputation::AddGetTupleElementInstruction' data-ref="_ZN3xla15UserComputation29AddGetTupleElementInstructionERKNS_22GetTupleElementRequestE">AddGetTupleElementInstruction</a>(</td></tr>
<tr><th id="1745">1745</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest25get_tuple_element_requestEv" title='xla::OpRequest::get_tuple_element_request' data-ref="_ZNK3xla9OpRequest25get_tuple_element_requestEv">get_tuple_element_request</a>());</td></tr>
<tr><th id="1746">1746</th><td>      <b>break</b>;</td></tr>
<tr><th id="1747">1747</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kInfeedRequest" title='xla::OpRequest::OpCase::kInfeedRequest' data-ref="xla::OpRequest::OpCase::kInfeedRequest">kInfeedRequest</a>:</td></tr>
<tr><th id="1748">1748</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation20AddInfeedInstructionERKNS_13InfeedRequestE" title='xla::UserComputation::AddInfeedInstruction' data-ref="_ZN3xla15UserComputation20AddInfeedInstructionERKNS_13InfeedRequestE">AddInfeedInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest14infeed_requestEv" title='xla::OpRequest::infeed_request' data-ref="_ZNK3xla9OpRequest14infeed_requestEv">infeed_request</a>());</td></tr>
<tr><th id="1749">1749</th><td>      <b>break</b>;</td></tr>
<tr><th id="1750">1750</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kOutfeedRequest" title='xla::OpRequest::OpCase::kOutfeedRequest' data-ref="xla::OpRequest::OpCase::kOutfeedRequest">kOutfeedRequest</a>:</td></tr>
<tr><th id="1751">1751</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1752">1752</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation21AddOutfeedInstructionERKNS_14OutfeedRequestE" title='xla::UserComputation::AddOutfeedInstruction' data-ref="_ZN3xla15UserComputation21AddOutfeedInstructionERKNS_14OutfeedRequestE">AddOutfeedInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest15outfeed_requestEv" title='xla::OpRequest::outfeed_request' data-ref="_ZNK3xla9OpRequest15outfeed_requestEv">outfeed_request</a>());</td></tr>
<tr><th id="1753">1753</th><td>      <b>break</b>;</td></tr>
<tr><th id="1754">1754</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kHostComputeRequest" title='xla::OpRequest::OpCase::kHostComputeRequest' data-ref="xla::OpRequest::OpCase::kHostComputeRequest">kHostComputeRequest</a>:</td></tr>
<tr><th id="1755">1755</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1756">1756</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation25AddHostComputeInstructionERKNS_18HostComputeRequestE" title='xla::UserComputation::AddHostComputeInstruction' data-ref="_ZN3xla15UserComputation25AddHostComputeInstructionERKNS_18HostComputeRequestE">AddHostComputeInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest20host_compute_requestEv" title='xla::OpRequest::host_compute_request' data-ref="_ZNK3xla9OpRequest20host_compute_requestEv">host_compute_request</a>());</td></tr>
<tr><th id="1757">1757</th><td>      <b>break</b>;</td></tr>
<tr><th id="1758">1758</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kMapRequest" title='xla::OpRequest::OpCase::kMapRequest' data-ref="xla::OpRequest::OpCase::kMapRequest">kMapRequest</a>: {</td></tr>
<tr><th id="1759">1759</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value209 = (computation_tracker_.Resolve(arg-&gt;map_request().to_apply())); if ((__builtin_expect(!_status_or_value209.ok(), 0))) { return _status_or_value209.status(); } UserComputation * to_apply = std::move(_status_or_value209.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1760">1760</th><td>          <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col4 decl" id="384to_apply" title='to_apply' data-type='xla::UserComputation *' data-ref="384to_apply">to_apply</dfn>,</td></tr>
<tr><th id="1761">1761</th><td>          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11map_requestEv" title='xla::OpRequest::map_request' data-ref="_ZNK3xla9OpRequest11map_requestEv">map_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla10MapRequest8to_applyEv" title='xla::MapRequest::to_apply' data-ref="_ZNK3xla10MapRequest8to_applyEv">to_apply</a>()));</td></tr>
<tr><th id="1762">1762</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1763">1763</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation17AddMapInstructionERKNS_10MapRequestERKS0_" title='xla::UserComputation::AddMapInstruction' data-ref="_ZN3xla15UserComputation17AddMapInstructionERKNS_10MapRequestERKS0_">AddMapInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11map_requestEv" title='xla::OpRequest::map_request' data-ref="_ZNK3xla9OpRequest11map_requestEv">map_request</a>(), *<a class="local col4 ref" href="#1759" title='to_apply' data-ref="384to_apply">to_apply</a>);</td></tr>
<tr><th id="1764">1764</th><td>      <b>break</b>;</td></tr>
<tr><th id="1765">1765</th><td>    }</td></tr>
<tr><th id="1766">1766</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kPadRequest" title='xla::OpRequest::OpCase::kPadRequest' data-ref="xla::OpRequest::OpCase::kPadRequest">kPadRequest</a>:</td></tr>
<tr><th id="1767">1767</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation17AddPadInstructionERKNS_10PadRequestE" title='xla::UserComputation::AddPadInstruction' data-ref="_ZN3xla15UserComputation17AddPadInstructionERKNS_10PadRequestE">AddPadInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11pad_requestEv" title='xla::OpRequest::pad_request' data-ref="_ZNK3xla9OpRequest11pad_requestEv">pad_request</a>());</td></tr>
<tr><th id="1768">1768</th><td>      <b>break</b>;</td></tr>
<tr><th id="1769">1769</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kParameterRequest" title='xla::OpRequest::OpCase::kParameterRequest' data-ref="xla::OpRequest::OpCase::kParameterRequest">kParameterRequest</a>:</td></tr>
<tr><th id="1770">1770</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1771">1771</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation23AddParameterInstructionERKNS_16ParameterRequestE" title='xla::UserComputation::AddParameterInstruction' data-ref="_ZN3xla15UserComputation23AddParameterInstructionERKNS_16ParameterRequestE">AddParameterInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest17parameter_requestEv" title='xla::OpRequest::parameter_request' data-ref="_ZNK3xla9OpRequest17parameter_requestEv">parameter_request</a>());</td></tr>
<tr><th id="1772">1772</th><td>      <b>break</b>;</td></tr>
<tr><th id="1773">1773</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kReduceRequest" title='xla::OpRequest::OpCase::kReduceRequest' data-ref="xla::OpRequest::OpCase::kReduceRequest">kReduceRequest</a>: {</td></tr>
<tr><th id="1774">1774</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value211 = (computation_tracker_.Resolve(arg-&gt;reduce_request().to_apply())); if ((__builtin_expect(!_status_or_value211.ok(), 0))) { return _status_or_value211.status(); } UserComputation * to_apply = std::move(_status_or_value211.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1775">1775</th><td>          <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col5 decl" id="385to_apply" title='to_apply' data-type='xla::UserComputation *' data-ref="385to_apply">to_apply</dfn>,</td></tr>
<tr><th id="1776">1776</th><td>          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest14reduce_requestEv" title='xla::OpRequest::reduce_request' data-ref="_ZNK3xla9OpRequest14reduce_requestEv">reduce_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla13ReduceRequest8to_applyEv" title='xla::ReduceRequest::to_apply' data-ref="_ZNK3xla13ReduceRequest8to_applyEv">to_apply</a>()));</td></tr>
<tr><th id="1777">1777</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1778">1778</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation20AddReduceInstructionERKNS_13ReduceRequestERKS0_" title='xla::UserComputation::AddReduceInstruction' data-ref="_ZN3xla15UserComputation20AddReduceInstructionERKNS_13ReduceRequestERKS0_">AddReduceInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest14reduce_requestEv" title='xla::OpRequest::reduce_request' data-ref="_ZNK3xla9OpRequest14reduce_requestEv">reduce_request</a>(), *<a class="local col5 ref" href="#1774" title='to_apply' data-ref="385to_apply">to_apply</a>);</td></tr>
<tr><th id="1779">1779</th><td>      <b>break</b>;</td></tr>
<tr><th id="1780">1780</th><td>    }</td></tr>
<tr><th id="1781">1781</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kReducePrecisionRequest" title='xla::OpRequest::OpCase::kReducePrecisionRequest' data-ref="xla::OpRequest::OpCase::kReducePrecisionRequest">kReducePrecisionRequest</a>: {</td></tr>
<tr><th id="1782">1782</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation29AddReducePrecisionInstructionERKNS_22ReducePrecisionRequestE" title='xla::UserComputation::AddReducePrecisionInstruction' data-ref="_ZN3xla15UserComputation29AddReducePrecisionInstructionERKNS_22ReducePrecisionRequestE">AddReducePrecisionInstruction</a>(</td></tr>
<tr><th id="1783">1783</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest24reduce_precision_requestEv" title='xla::OpRequest::reduce_precision_request' data-ref="_ZNK3xla9OpRequest24reduce_precision_requestEv">reduce_precision_request</a>());</td></tr>
<tr><th id="1784">1784</th><td>      <b>break</b>;</td></tr>
<tr><th id="1785">1785</th><td>    }</td></tr>
<tr><th id="1786">1786</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kReduceWindowRequest" title='xla::OpRequest::OpCase::kReduceWindowRequest' data-ref="xla::OpRequest::OpCase::kReduceWindowRequest">kReduceWindowRequest</a>: {</td></tr>
<tr><th id="1787">1787</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value213 = (computation_tracker_.Resolve( arg-&gt;reduce_window_request().to_apply())); if ((__builtin_expect(!_status_or_value213.ok(), 0))) { return _status_or_value213.status(); } UserComputation * to_apply = std::move(_status_or_value213.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col6 decl" id="386to_apply" title='to_apply' data-type='xla::UserComputation *' data-ref="386to_apply">to_apply</dfn>,</td></tr>
<tr><th id="1788">1788</th><td>                          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(</td></tr>
<tr><th id="1789">1789</th><td>                              <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest21reduce_window_requestEv" title='xla::OpRequest::reduce_window_request' data-ref="_ZNK3xla9OpRequest21reduce_window_requestEv">reduce_window_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla19ReduceWindowRequest8to_applyEv" title='xla::ReduceWindowRequest::to_apply' data-ref="_ZNK3xla19ReduceWindowRequest8to_applyEv">to_apply</a>()));</td></tr>
<tr><th id="1790">1790</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation26AddReduceWindowInstructionERKNS_19ReduceWindowRequestERKS0_" title='xla::UserComputation::AddReduceWindowInstruction' data-ref="_ZN3xla15UserComputation26AddReduceWindowInstructionERKNS_19ReduceWindowRequestERKS0_">AddReduceWindowInstruction</a>(</td></tr>
<tr><th id="1791">1791</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest21reduce_window_requestEv" title='xla::OpRequest::reduce_window_request' data-ref="_ZNK3xla9OpRequest21reduce_window_requestEv">reduce_window_request</a>(), *<a class="local col6 ref" href="#1787" title='to_apply' data-ref="386to_apply">to_apply</a>);</td></tr>
<tr><th id="1792">1792</th><td>      <b>break</b>;</td></tr>
<tr><th id="1793">1793</th><td>    }</td></tr>
<tr><th id="1794">1794</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kReshapeRequest" title='xla::OpRequest::OpCase::kReshapeRequest' data-ref="xla::OpRequest::OpCase::kReshapeRequest">kReshapeRequest</a>:</td></tr>
<tr><th id="1795">1795</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1796">1796</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation21AddReshapeInstructionERKNS_14ReshapeRequestE" title='xla::UserComputation::AddReshapeInstruction' data-ref="_ZN3xla15UserComputation21AddReshapeInstructionERKNS_14ReshapeRequestE">AddReshapeInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest15reshape_requestEv" title='xla::OpRequest::reshape_request' data-ref="_ZNK3xla9OpRequest15reshape_requestEv">reshape_request</a>());</td></tr>
<tr><th id="1797">1797</th><td>      <b>break</b>;</td></tr>
<tr><th id="1798">1798</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kReverseRequest" title='xla::OpRequest::OpCase::kReverseRequest' data-ref="xla::OpRequest::OpCase::kReverseRequest">kReverseRequest</a>:</td></tr>
<tr><th id="1799">1799</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1800">1800</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation21AddReverseInstructionERKNS_14ReverseRequestE" title='xla::UserComputation::AddReverseInstruction' data-ref="_ZN3xla15UserComputation21AddReverseInstructionERKNS_14ReverseRequestE">AddReverseInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest15reverse_requestEv" title='xla::OpRequest::reverse_request' data-ref="_ZNK3xla9OpRequest15reverse_requestEv">reverse_request</a>());</td></tr>
<tr><th id="1801">1801</th><td>      <b>break</b>;</td></tr>
<tr><th id="1802">1802</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kRngRequest" title='xla::OpRequest::OpCase::kRngRequest' data-ref="xla::OpRequest::OpCase::kRngRequest">kRngRequest</a>:</td></tr>
<tr><th id="1803">1803</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation17AddRngInstructionERKNS_10RngRequestE" title='xla::UserComputation::AddRngInstruction' data-ref="_ZN3xla15UserComputation17AddRngInstructionERKNS_10RngRequestE">AddRngInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest11rng_requestEv" title='xla::OpRequest::rng_request' data-ref="_ZNK3xla9OpRequest11rng_requestEv">rng_request</a>());</td></tr>
<tr><th id="1804">1804</th><td>      <b>break</b>;</td></tr>
<tr><th id="1805">1805</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kSelectAndScatterRequest" title='xla::OpRequest::OpCase::kSelectAndScatterRequest' data-ref="xla::OpRequest::OpCase::kSelectAndScatterRequest">kSelectAndScatterRequest</a>: {</td></tr>
<tr><th id="1806">1806</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value215 = (computation_tracker_.Resolve( arg-&gt;select_and_scatter_request().select())); if ((__builtin_expect(!_status_or_value215.ok(), 0))) { return _status_or_value215.status(); } UserComputation * select = std::move(_status_or_value215.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col7 decl" id="387select" title='select' data-type='xla::UserComputation *' data-ref="387select">select</dfn>,</td></tr>
<tr><th id="1807">1807</th><td>                          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(</td></tr>
<tr><th id="1808">1808</th><td>                              <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest26select_and_scatter_requestEv" title='xla::OpRequest::select_and_scatter_request' data-ref="_ZNK3xla9OpRequest26select_and_scatter_requestEv">select_and_scatter_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla23SelectAndScatterRequest6selectEv" title='xla::SelectAndScatterRequest::select' data-ref="_ZNK3xla23SelectAndScatterRequest6selectEv">select</a>()));</td></tr>
<tr><th id="1809">1809</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value217 = (computation_tracker_.Resolve( arg-&gt;select_and_scatter_request().scatter())); if ((__builtin_expect(!_status_or_value217.ok(), 0))) { return _status_or_value217.status(); } UserComputation * scatter = std::move(_status_or_value217.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col8 decl" id="388scatter" title='scatter' data-type='xla::UserComputation *' data-ref="388scatter">scatter</dfn>,</td></tr>
<tr><th id="1810">1810</th><td>                          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(</td></tr>
<tr><th id="1811">1811</th><td>                              <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest26select_and_scatter_requestEv" title='xla::OpRequest::select_and_scatter_request' data-ref="_ZNK3xla9OpRequest26select_and_scatter_requestEv">select_and_scatter_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla23SelectAndScatterRequest7scatterEv" title='xla::SelectAndScatterRequest::scatter' data-ref="_ZNK3xla23SelectAndScatterRequest7scatterEv">scatter</a>()));</td></tr>
<tr><th id="1812">1812</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation30AddSelectAndScatterInstructionERKNS_23SelectAndScatterRequestERKS0_S5_" title='xla::UserComputation::AddSelectAndScatterInstruction' data-ref="_ZN3xla15UserComputation30AddSelectAndScatterInstructionERKNS_23SelectAndScatterRequestERKS0_S5_">AddSelectAndScatterInstruction</a>(</td></tr>
<tr><th id="1813">1813</th><td>          <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest26select_and_scatter_requestEv" title='xla::OpRequest::select_and_scatter_request' data-ref="_ZNK3xla9OpRequest26select_and_scatter_requestEv">select_and_scatter_request</a>(), *<a class="local col7 ref" href="#1806" title='select' data-ref="387select">select</a>, *<a class="local col8 ref" href="#1809" title='scatter' data-ref="388scatter">scatter</a>);</td></tr>
<tr><th id="1814">1814</th><td>      <b>break</b>;</td></tr>
<tr><th id="1815">1815</th><td>    }</td></tr>
<tr><th id="1816">1816</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kSliceRequest" title='xla::OpRequest::OpCase::kSliceRequest' data-ref="xla::OpRequest::OpCase::kSliceRequest">kSliceRequest</a>:</td></tr>
<tr><th id="1817">1817</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation19AddSliceInstructionERKNS_12SliceRequestE" title='xla::UserComputation::AddSliceInstruction' data-ref="_ZN3xla15UserComputation19AddSliceInstructionERKNS_12SliceRequestE">AddSliceInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest13slice_requestEv" title='xla::OpRequest::slice_request' data-ref="_ZNK3xla9OpRequest13slice_requestEv">slice_request</a>());</td></tr>
<tr><th id="1818">1818</th><td>      <b>break</b>;</td></tr>
<tr><th id="1819">1819</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kTernaryOpRequest" title='xla::OpRequest::OpCase::kTernaryOpRequest' data-ref="xla::OpRequest::OpCase::kTernaryOpRequest">kTernaryOpRequest</a>:</td></tr>
<tr><th id="1820">1820</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1821">1821</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation21AddTernaryInstructionERKNS_16TernaryOpRequestE" title='xla::UserComputation::AddTernaryInstruction' data-ref="_ZN3xla15UserComputation21AddTernaryInstructionERKNS_16TernaryOpRequestE">AddTernaryInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest18ternary_op_requestEv" title='xla::OpRequest::ternary_op_request' data-ref="_ZNK3xla9OpRequest18ternary_op_requestEv">ternary_op_request</a>());</td></tr>
<tr><th id="1822">1822</th><td>      <b>break</b>;</td></tr>
<tr><th id="1823">1823</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kTraceRequest" title='xla::OpRequest::OpCase::kTraceRequest' data-ref="xla::OpRequest::OpCase::kTraceRequest">kTraceRequest</a>:</td></tr>
<tr><th id="1824">1824</th><td>      <b>return</b> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation19AddTraceInstructionERKNS_12TraceRequestE" title='xla::UserComputation::AddTraceInstruction' data-ref="_ZN3xla15UserComputation19AddTraceInstructionERKNS_12TraceRequestE">AddTraceInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest13trace_requestEv" title='xla::OpRequest::trace_request' data-ref="_ZNK3xla9OpRequest13trace_requestEv">trace_request</a>());</td></tr>
<tr><th id="1825">1825</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kTransposeRequest" title='xla::OpRequest::OpCase::kTransposeRequest' data-ref="xla::OpRequest::OpCase::kTransposeRequest">kTransposeRequest</a>:</td></tr>
<tr><th id="1826">1826</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1827">1827</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation23AddTransposeInstructionERKNS_16TransposeRequestE" title='xla::UserComputation::AddTransposeInstruction' data-ref="_ZN3xla15UserComputation23AddTransposeInstructionERKNS_16TransposeRequestE">AddTransposeInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest17transpose_requestEv" title='xla::OpRequest::transpose_request' data-ref="_ZNK3xla9OpRequest17transpose_requestEv">transpose_request</a>());</td></tr>
<tr><th id="1828">1828</th><td>      <b>break</b>;</td></tr>
<tr><th id="1829">1829</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kUnaryOpRequest" title='xla::OpRequest::OpCase::kUnaryOpRequest' data-ref="xla::OpRequest::OpCase::kUnaryOpRequest">kUnaryOpRequest</a>:</td></tr>
<tr><th id="1830">1830</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation19AddUnaryInstructionERKNS_14UnaryOpRequestE" title='xla::UserComputation::AddUnaryInstruction' data-ref="_ZN3xla15UserComputation19AddUnaryInstructionERKNS_14UnaryOpRequestE">AddUnaryInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest16unary_op_requestEv" title='xla::OpRequest::unary_op_request' data-ref="_ZNK3xla9OpRequest16unary_op_requestEv">unary_op_request</a>());</td></tr>
<tr><th id="1831">1831</th><td>      <b>break</b>;</td></tr>
<tr><th id="1832">1832</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kVariadicOpRequest" title='xla::OpRequest::OpCase::kVariadicOpRequest' data-ref="xla::OpRequest::OpCase::kVariadicOpRequest">kVariadicOpRequest</a>:</td></tr>
<tr><th id="1833">1833</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a></td></tr>
<tr><th id="1834">1834</th><td>          <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation22AddVariadicInstructionERKNS_17VariadicOpRequestE" title='xla::UserComputation::AddVariadicInstruction' data-ref="_ZN3xla15UserComputation22AddVariadicInstructionERKNS_17VariadicOpRequestE">AddVariadicInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest19variadic_op_requestEv" title='xla::OpRequest::variadic_op_request' data-ref="_ZNK3xla9OpRequest19variadic_op_requestEv">variadic_op_request</a>());</td></tr>
<tr><th id="1835">1835</th><td>      <b>break</b>;</td></tr>
<tr><th id="1836">1836</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kWhileRequest" title='xla::OpRequest::OpCase::kWhileRequest' data-ref="xla::OpRequest::OpCase::kWhileRequest">kWhileRequest</a>: {</td></tr>
<tr><th id="1837">1837</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value219 = (computation_tracker_.Resolve(arg-&gt;while_request().condition())); if ((__builtin_expect(!_status_or_value219.ok(), 0))) { return _status_or_value219.status(); } UserComputation * condition = std::move(_status_or_value219.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1838">1838</th><td>          <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col9 decl" id="389condition" title='condition' data-type='xla::UserComputation *' data-ref="389condition">condition</dfn>,</td></tr>
<tr><th id="1839">1839</th><td>          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest13while_requestEv" title='xla::OpRequest::while_request' data-ref="_ZNK3xla9OpRequest13while_requestEv">while_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12WhileRequest9conditionEv" title='xla::WhileRequest::condition' data-ref="_ZNK3xla12WhileRequest9conditionEv">condition</a>()));</td></tr>
<tr><th id="1840">1840</th><td>      <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value221 = (computation_tracker_.Resolve(arg-&gt;while_request().body())); if ((__builtin_expect(!_status_or_value221.ok(), 0))) { return _status_or_value221.status(); } UserComputation * body = std::move(_status_or_value221.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1841">1841</th><td>          <a class="type" href="user_computation.h.html#xla::UserComputation" title='xla::UserComputation' data-ref="xla::UserComputation">UserComputation</a> * <dfn class="local col0 decl" id="390body" title='body' data-type='xla::UserComputation *' data-ref="390body">body</dfn>,</td></tr>
<tr><th id="1842">1842</th><td>          <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE" title='xla::ComputationTracker::Resolve' data-ref="_ZNK3xla18ComputationTracker7ResolveERKNS_17ComputationHandleE">Resolve</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest13while_requestEv" title='xla::OpRequest::while_request' data-ref="_ZNK3xla9OpRequest13while_requestEv">while_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12WhileRequest4bodyEv" title='xla::WhileRequest::body' data-ref="_ZNK3xla12WhileRequest4bodyEv">body</a>()));</td></tr>
<tr><th id="1843">1843</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation19AddWhileInstructionERKNS_12WhileRequestERKS0_S5_" title='xla::UserComputation::AddWhileInstruction' data-ref="_ZN3xla15UserComputation19AddWhileInstructionERKNS_12WhileRequestERKS0_S5_">AddWhileInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest13while_requestEv" title='xla::OpRequest::while_request' data-ref="_ZNK3xla9OpRequest13while_requestEv">while_request</a>(),</td></tr>
<tr><th id="1844">1844</th><td>                                                       *<a class="local col9 ref" href="#1837" title='condition' data-ref="389condition">condition</a>, *<a class="local col0 ref" href="#1840" title='body' data-ref="390body">body</a>);</td></tr>
<tr><th id="1845">1845</th><td>      <b>break</b>;</td></tr>
<tr><th id="1846">1846</th><td>    }</td></tr>
<tr><th id="1847">1847</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kSendRequest" title='xla::OpRequest::OpCase::kSendRequest' data-ref="xla::OpRequest::OpCase::kSendRequest">kSendRequest</a>: {</td></tr>
<tr><th id="1848">1848</th><td>      <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (channel_tracker_.RegisterSend(arg-&gt;send_request().channel_handle())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="1849">1849</th><td>          <a class="member" href="service.h.html#xla::Service::channel_tracker_" title='xla::Service::channel_tracker_' data-ref="xla::Service::channel_tracker_">channel_tracker_</a>.<a class="ref" href="channel_tracker.h.html#_ZN3xla14ChannelTracker12RegisterSendERKNS_13ChannelHandleE" title='xla::ChannelTracker::RegisterSend' data-ref="_ZN3xla14ChannelTracker12RegisterSendERKNS_13ChannelHandleE">RegisterSend</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12send_requestEv" title='xla::OpRequest::send_request' data-ref="_ZNK3xla9OpRequest12send_requestEv">send_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla11SendRequest14channel_handleEv" title='xla::SendRequest::channel_handle' data-ref="_ZNK3xla11SendRequest14channel_handleEv">channel_handle</a>()));</td></tr>
<tr><th id="1850">1850</th><td>      <i>// Send does not return a value, but we need a handle to be able to</i></td></tr>
<tr><th id="1851">1851</th><td><i>      // set OpMetadata and OpSharding (device assignment).</i></td></tr>
<tr><th id="1852">1852</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation18AddSendInstructionERKNS_11SendRequestE" title='xla::UserComputation::AddSendInstruction' data-ref="_ZN3xla15UserComputation18AddSendInstructionERKNS_11SendRequestE">AddSendInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12send_requestEv" title='xla::OpRequest::send_request' data-ref="_ZNK3xla9OpRequest12send_requestEv">send_request</a>());</td></tr>
<tr><th id="1853">1853</th><td>      <b>break</b>;</td></tr>
<tr><th id="1854">1854</th><td>    }</td></tr>
<tr><th id="1855">1855</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::kRecvRequest" title='xla::OpRequest::OpCase::kRecvRequest' data-ref="xla::OpRequest::OpCase::kRecvRequest">kRecvRequest</a>: {</td></tr>
<tr><th id="1856">1856</th><td>      <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (channel_tracker_.RegisterRecv(arg-&gt;recv_request().channel_handle())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(</td></tr>
<tr><th id="1857">1857</th><td>          <a class="member" href="service.h.html#xla::Service::channel_tracker_" title='xla::Service::channel_tracker_' data-ref="xla::Service::channel_tracker_">channel_tracker_</a>.<a class="ref" href="channel_tracker.h.html#_ZN3xla14ChannelTracker12RegisterRecvERKNS_13ChannelHandleE" title='xla::ChannelTracker::RegisterRecv' data-ref="_ZN3xla14ChannelTracker12RegisterRecvERKNS_13ChannelHandleE">RegisterRecv</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12recv_requestEv" title='xla::OpRequest::recv_request' data-ref="_ZNK3xla9OpRequest12recv_requestEv">recv_request</a>().<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla11RecvRequest14channel_handleEv" title='xla::RecvRequest::channel_handle' data-ref="_ZNK3xla11RecvRequest14channel_handleEv">channel_handle</a>()));</td></tr>
<tr><th id="1858">1858</th><td>      <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a> <a class="ref" href="../statusor.h.html#_ZN3xla8StatusOraSEONS_8StatusOrIT_EE" title='xla::StatusOr::operator=' data-ref="_ZN3xla8StatusOraSEONS_8StatusOrIT_EE">=</a> <a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation18AddRecvInstructionERKNS_11RecvRequestE" title='xla::UserComputation::AddRecvInstruction' data-ref="_ZN3xla15UserComputation18AddRecvInstructionERKNS_11RecvRequestE">AddRecvInstruction</a>(<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12recv_requestEv" title='xla::OpRequest::recv_request' data-ref="_ZNK3xla9OpRequest12recv_requestEv">recv_request</a>());</td></tr>
<tr><th id="1859">1859</th><td>      <b>break</b>;</td></tr>
<tr><th id="1860">1860</th><td>    }</td></tr>
<tr><th id="1861">1861</th><td>    <b>case</b> <a class="type" href="../xla_data.pb.h.html#xla::OpRequest" title='xla::OpRequest' data-ref="xla::OpRequest">OpRequest</a>::<a class="enum" href="../xla_data.pb.h.html#xla::OpRequest::OpCase::OP_NOT_SET" title='xla::OpRequest::OpCase::OP_NOT_SET' data-ref="xla::OpRequest::OpCase::OP_NOT_SET">OP_NOT_SET</a>:</td></tr>
<tr><th id="1862">1862</th><td>      <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"XLA service received OpRequest with OP_NOT_SET"</q>);</td></tr>
<tr><th id="1863">1863</th><td>    <b>default</b>:</td></tr>
<tr><th id="1864">1864</th><td>      <b>return</b> <a class="ref" href="../util.h.html#_ZN3xla15InvalidArgumentEPKcz" title='xla::InvalidArgument' data-ref="_ZN3xla15InvalidArgumentEPKcz">InvalidArgument</a>(<q>"Unsupported operation in XLA service"</q>);</td></tr>
<tr><th id="1865">1865</th><td>  }</td></tr>
<tr><th id="1866">1866</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value223 = (handle_status); if ((__builtin_expect(!_status_or_value223.ok(), 0))) { return _status_or_value223.status(); } *result-&gt;mutable_output() = std::move(_status_or_value223.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col8 ref" href="#378result" title='result' data-ref="378result">result</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZN3xla10OpResponse14mutable_outputEv" title='xla::OpResponse::mutable_output' data-ref="_ZN3xla10OpResponse14mutable_outputEv">mutable_output</a>(), <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a>);</td></tr>
<tr><th id="1867">1867</th><td></td></tr>
<tr><th id="1868">1868</th><td>  <i>// We set the debug metadata here, because we slice off part of the OpRequest</i></td></tr>
<tr><th id="1869">1869</th><td><i>  // proto in the above switch statement.</i></td></tr>
<tr><th id="1870">1870</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value225 = (handle_status); if ((__builtin_expect(!_status_or_value225.ok(), 0))) { return _status_or_value225.status(); } ComputationDataHandle handle = std::move(_status_or_value225.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<a class="type" href="../xla_data.pb.h.html#xla::ComputationDataHandle" title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</a> <dfn class="local col1 decl" id="391handle" title='handle' data-type='xla::ComputationDataHandle' data-ref="391handle">handle</dfn>, <a class="local col0 ref" href="#380handle_status" title='handle_status' data-ref="380handle_status">handle_status</a>);</td></tr>
<tr><th id="1871">1871</th><td>  <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (computation-&gt;SetOpMetadata(handle, arg-&gt;metadata())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation13SetOpMetadataERKNS_21ComputationDataHandleERKNS_10OpMetadataE" title='xla::UserComputation::SetOpMetadata' data-ref="_ZN3xla15UserComputation13SetOpMetadataERKNS_21ComputationDataHandleERKNS_10OpMetadataE">SetOpMetadata</a>(<a class="local col1 ref" href="#1870" title='handle' data-ref="391handle">handle</a>, <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest8metadataEv" title='xla::OpRequest::metadata' data-ref="_ZNK3xla9OpRequest8metadataEv">metadata</a>()));</td></tr>
<tr><th id="1872">1872</th><td>  <b>if</b> (<a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest12has_shardingEv" title='xla::OpRequest::has_sharding' data-ref="_ZNK3xla9OpRequest12has_shardingEv">has_sharding</a>()) {</td></tr>
<tr><th id="1873">1873</th><td>    <a class="macro" href="../../../core/lib/core/errors.h.html#69" title="do { const ::tensorflow::Status _status = (computation-&gt;SetOpSharding(handle, arg-&gt;sharding())); if ((__builtin_expect(!_status.ok(), 0))) return _status; } while (0)" data-ref="_M/TF_RETURN_IF_ERROR">TF_RETURN_IF_ERROR</a>(<a class="local col9 ref" href="#1654" title='computation' data-ref="379computation">computation</a>-&gt;<a class="ref" href="user_computation.h.html#_ZN3xla15UserComputation13SetOpShardingERKNS_21ComputationDataHandleERKNS_10OpShardingE" title='xla::UserComputation::SetOpSharding' data-ref="_ZN3xla15UserComputation13SetOpShardingERKNS_21ComputationDataHandleERKNS_10OpShardingE">SetOpSharding</a>(<a class="local col1 ref" href="#1870" title='handle' data-ref="391handle">handle</a>, <a class="local col7 ref" href="#377arg" title='arg' data-ref="377arg">arg</a>-&gt;<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla9OpRequest8shardingEv" title='xla::OpRequest::sharding' data-ref="_ZNK3xla9OpRequest8shardingEv">sharding</a>()));</td></tr>
<tr><th id="1874">1874</th><td>  }</td></tr>
<tr><th id="1875">1875</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1876">1876</th><td>}</td></tr>
<tr><th id="1877">1877</th><td></td></tr>
<tr><th id="1878">1878</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service19SnapshotComputationEPKNS_26SnapshotComputationRequestEPNS_27SnapshotComputationResponseE" title='xla::Service::SnapshotComputation' data-ref="_ZN3xla7Service19SnapshotComputationEPKNS_26SnapshotComputationRequestEPNS_27SnapshotComputationResponseE">SnapshotComputation</dfn>(</td></tr>
<tr><th id="1879">1879</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::SnapshotComputationRequest" title='xla::SnapshotComputationRequest' data-ref="xla::SnapshotComputationRequest">SnapshotComputationRequest</a>* <dfn class="local col2 decl" id="392arg" title='arg' data-type='const xla::SnapshotComputationRequest *' data-ref="392arg">arg</dfn>,</td></tr>
<tr><th id="1880">1880</th><td>    <a class="type" href="../xla.pb.h.html#xla::SnapshotComputationResponse" title='xla::SnapshotComputationResponse' data-ref="xla::SnapshotComputationResponse">SnapshotComputationResponse</a>* <dfn class="local col3 decl" id="393result" title='result' data-type='xla::SnapshotComputationResponse *' data-ref="393result">result</dfn>) {</td></tr>
<tr><th id="1881">1881</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value227 = (computation_tracker_.SnapshotComputation(arg-&gt;computation())); if ((__builtin_expect(!_status_or_value227.ok(), 0))) { return _status_or_value227.status(); } std::unique_ptr&lt;SessionModule&gt; module = std::move(_status_or_value227.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1882">1882</th><td>      std::<a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="session.pb.h.html#xla::SessionModule" title='xla::SessionModule' data-ref="xla::SessionModule">SessionModule</a>&gt; <dfn class="local col4 decl" id="394module" title='module' data-type='std::unique_ptr&lt;SessionModule&gt;' data-ref="394module">module</dfn>,</td></tr>
<tr><th id="1883">1883</th><td>      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE" title='xla::ComputationTracker::SnapshotComputation' data-ref="_ZN3xla18ComputationTracker19SnapshotComputationERKNS_17ComputationHandleE">SnapshotComputation</a>(<a class="local col2 ref" href="#392arg" title='arg' data-ref="392arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla26SnapshotComputationRequest11computationEv" title='xla::SnapshotComputationRequest::computation' data-ref="_ZNK3xla26SnapshotComputationRequest11computationEv">computation</a>()));</td></tr>
<tr><th id="1884">1884</th><td></td></tr>
<tr><th id="1885">1885</th><td>  <a class="local col3 ref" href="#393result" title='result' data-ref="393result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla27SnapshotComputationResponse20set_allocated_moduleEPNS_13SessionModuleE" title='xla::SnapshotComputationResponse::set_allocated_module' data-ref="_ZN3xla27SnapshotComputationResponse20set_allocated_moduleEPNS_13SessionModuleE">set_allocated_module</a>(<a class="local col4 ref" href="#1881" title='module' data-ref="394module">module</a>.<a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptr7releaseEv" title='std::unique_ptr::release' data-ref="_ZNSt10unique_ptr7releaseEv">release</a>());</td></tr>
<tr><th id="1886">1886</th><td></td></tr>
<tr><th id="1887">1887</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1888">1888</th><td>}</td></tr>
<tr><th id="1889">1889</th><td></td></tr>
<tr><th id="1890">1890</th><td><span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="virtual decl def" id="_ZN3xla7Service23LoadComputationSnapshotEPKNS_30LoadComputationSnapshotRequestEPNS_31LoadComputationSnapshotResponseE" title='xla::Service::LoadComputationSnapshot' data-ref="_ZN3xla7Service23LoadComputationSnapshotEPKNS_30LoadComputationSnapshotRequestEPNS_31LoadComputationSnapshotResponseE">LoadComputationSnapshot</dfn>(</td></tr>
<tr><th id="1891">1891</th><td>    <em>const</em> <a class="type" href="../xla.pb.h.html#xla::LoadComputationSnapshotRequest" title='xla::LoadComputationSnapshotRequest' data-ref="xla::LoadComputationSnapshotRequest">LoadComputationSnapshotRequest</a>* <dfn class="local col5 decl" id="395arg" title='arg' data-type='const xla::LoadComputationSnapshotRequest *' data-ref="395arg">arg</dfn>,</td></tr>
<tr><th id="1892">1892</th><td>    <a class="type" href="../xla.pb.h.html#xla::LoadComputationSnapshotResponse" title='xla::LoadComputationSnapshotResponse' data-ref="xla::LoadComputationSnapshotResponse">LoadComputationSnapshotResponse</a>* <dfn class="local col6 decl" id="396result" title='result' data-type='xla::LoadComputationSnapshotResponse *' data-ref="396result">result</dfn>) {</td></tr>
<tr><th id="1893">1893</th><td>  <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value229 = (computation_tracker_.LoadSessionModule(arg-&gt;module())); if ((__builtin_expect(!_status_or_value229.ok(), 0))) { return _status_or_value229.status(); } *result-&gt;mutable_computation() = std::move(_status_or_value229.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(*<a class="local col6 ref" href="#396result" title='result' data-ref="396result">result</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZN3xla31LoadComputationSnapshotResponse19mutable_computationEv" title='xla::LoadComputationSnapshotResponse::mutable_computation' data-ref="_ZN3xla31LoadComputationSnapshotResponse19mutable_computationEv">mutable_computation</a>(),</td></tr>
<tr><th id="1894">1894</th><td>                      <a class="member" href="service.h.html#xla::Service::computation_tracker_" title='xla::Service::computation_tracker_' data-ref="xla::Service::computation_tracker_">computation_tracker_</a>.<a class="ref" href="computation_tracker.h.html#_ZN3xla18ComputationTracker17LoadSessionModuleERKNS_13SessionModuleE" title='xla::ComputationTracker::LoadSessionModule' data-ref="_ZN3xla18ComputationTracker17LoadSessionModuleERKNS_13SessionModuleE">LoadSessionModule</a>(<a class="local col5 ref" href="#395arg" title='arg' data-ref="395arg">arg</a>-&gt;<a class="ref" href="../xla.pb.h.html#_ZNK3xla30LoadComputationSnapshotRequest6moduleEv" title='xla::LoadComputationSnapshotRequest::module' data-ref="_ZNK3xla30LoadComputationSnapshotRequest6moduleEv">module</a>()));</td></tr>
<tr><th id="1895">1895</th><td>  <b>return</b> <span class="namespace">tensorflow::</span><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1896">1896</th><td>}</td></tr>
<tr><th id="1897">1897</th><td></td></tr>
<tr><th id="1898">1898</th><td><a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZNK3xla7Service29SingleComputationDeviceHandleEv" title='xla::Service::SingleComputationDeviceHandle' data-ref="_ZNK3xla7Service29SingleComputationDeviceHandleEv">SingleComputationDeviceHandle</dfn>() <em>const</em> {</td></tr>
<tr><th id="1899">1899</th><td>  <a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a> <a class="ref fake" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandleC1Ev" title='xla::DeviceHandle::DeviceHandle' data-ref="_ZN3xla12DeviceHandleC1Ev"></a><dfn class="local col7 decl" id="397device_handle" title='device_handle' data-type='xla::DeviceHandle' data-ref="397device_handle">device_handle</dfn>;</td></tr>
<tr><th id="1900">1900</th><td>  <a class="local col7 ref" href="#397device_handle" title='device_handle' data-ref="397device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandle10set_handleEl" title='xla::DeviceHandle::set_handle' data-ref="_ZN3xla12DeviceHandle10set_handleEl">set_handle</a>(<var>0</var>);</td></tr>
<tr><th id="1901">1901</th><td>  <a class="local col7 ref" href="#397device_handle" title='device_handle' data-ref="397device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZN3xla12DeviceHandle16set_device_countEl" title='xla::DeviceHandle::set_device_count' data-ref="_ZN3xla12DeviceHandle16set_device_countEl">set_device_count</a>(<var>1</var>);</td></tr>
<tr><th id="1902">1902</th><td>  <b>return</b> <a class="local col7 ref" href="#397device_handle" title='device_handle' data-ref="397device_handle">device_handle</a>;</td></tr>
<tr><th id="1903">1903</th><td>}</td></tr>
<tr><th id="1904">1904</th><td></td></tr>
<tr><th id="1905">1905</th><td><a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt;&gt; <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE" title='xla::Service::Replicas' data-ref="_ZNK3xla7Service8ReplicasERKNS_7BackendERKNS_12DeviceHandleE">Replicas</dfn>(</td></tr>
<tr><th id="1906">1906</th><td>    <em>const</em> <a class="type" href="backend.h.html#xla::Backend" title='xla::Backend' data-ref="xla::Backend">Backend</a>&amp; <dfn class="local col8 decl" id="398backend" title='backend' data-type='const xla::Backend &amp;' data-ref="398backend">backend</dfn>, <em>const</em> <a class="type" href="../xla_data.pb.h.html#xla::DeviceHandle" title='xla::DeviceHandle' data-ref="xla::DeviceHandle">DeviceHandle</a>&amp; <dfn class="local col9 decl" id="399device_handle" title='device_handle' data-type='const xla::DeviceHandle &amp;' data-ref="399device_handle">device_handle</dfn>) <em>const</em> {</td></tr>
<tr><th id="1907">1907</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">perftools::gputools::</span><a class="type" href="../../../stream_executor/stream_executor_pimpl.h.html#perftools::gputools::StreamExecutor" title='perftools::gputools::StreamExecutor' data-ref="perftools::gputools::StreamExecutor">StreamExecutor</a>*&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="400replicas" title='replicas' data-type='std::vector&lt;perftools::gputools::StreamExecutor *&gt;' data-ref="400replicas">replicas</dfn>;</td></tr>
<tr><th id="1908">1908</th><td>  <b>for</b> (<em>int</em> <dfn class="local col1 decl" id="401replica" title='replica' data-type='int' data-ref="401replica">replica</dfn> = <var>0</var>; <a class="local col1 ref" href="#401replica" title='replica' data-ref="401replica">replica</a> &lt; <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(); ++<a class="local col1 ref" href="#401replica" title='replica' data-ref="401replica">replica</a>) {</td></tr>
<tr><th id="1909">1909</th><td>    <i>// From the computation placer, find out the device ids of the replicas for</i></td></tr>
<tr><th id="1910">1910</th><td><i>    // the given device handle.</i></td></tr>
<tr><th id="1911">1911</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value231 = (backend.computation_placer()-&gt;DeviceId(replica, device_handle.handle(), options_.number_of_replicas(), device_handle.device_count())); if ((__builtin_expect(!_status_or_value231.ok(), 0))) { return _status_or_value231.status(); } int device_ordinal = std::move(_status_or_value231.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(</td></tr>
<tr><th id="1912">1912</th><td>        <em>int</em> <dfn class="local col2 decl" id="402device_ordinal" title='device_ordinal' data-type='int' data-ref="402device_ordinal">device_ordinal</dfn>,</td></tr>
<tr><th id="1913">1913</th><td>        <a class="local col8 ref" href="#398backend" title='backend' data-ref="398backend">backend</a>.<a class="ref" href="backend.h.html#_ZNK3xla7Backend18computation_placerEv" title='xla::Backend::computation_placer' data-ref="_ZNK3xla7Backend18computation_placerEv">computation_placer</a>()-&gt;<a class="virtual ref" href="computation_placer.h.html#_ZN3xla17ComputationPlacer8DeviceIdEiiii" title='xla::ComputationPlacer::DeviceId' data-ref="_ZN3xla17ComputationPlacer8DeviceIdEiiii">DeviceId</a>(<a class="local col1 ref" href="#401replica" title='replica' data-ref="401replica">replica</a>, <a class="local col9 ref" href="#399device_handle" title='device_handle' data-ref="399device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12DeviceHandle6handleEv" title='xla::DeviceHandle::handle' data-ref="_ZNK3xla12DeviceHandle6handleEv">handle</a>(),</td></tr>
<tr><th id="1914">1914</th><td>                                               <a class="member" href="service.h.html#xla::Service::options_" title='xla::Service::options_' data-ref="xla::Service::options_">options_</a>.<a class="ref" href="#_ZNK3xla14ServiceOptions18number_of_replicasEv" title='xla::ServiceOptions::number_of_replicas' data-ref="_ZNK3xla14ServiceOptions18number_of_replicasEv">number_of_replicas</a>(),</td></tr>
<tr><th id="1915">1915</th><td>                                               <a class="local col9 ref" href="#399device_handle" title='device_handle' data-ref="399device_handle">device_handle</a>.<a class="ref" href="../xla_data.pb.h.html#_ZNK3xla12DeviceHandle12device_countEv" title='xla::DeviceHandle::device_count' data-ref="_ZNK3xla12DeviceHandle12device_countEv">device_count</a>()));</td></tr>
<tr><th id="1916">1916</th><td>    <a class="macro" href="../status_macros.h.html#199" title="auto _status_or_value233 = (backend.stream_executor(device_ordinal)); if ((__builtin_expect(!_status_or_value233.ok(), 0))) { return _status_or_value233.status(); } auto executor = std::move(_status_or_value233.ValueOrDie())" data-ref="_M/TF_ASSIGN_OR_RETURN">TF_ASSIGN_OR_RETURN</a>(<em>auto</em> <dfn class="local col3 decl" id="403executor" title='executor' data-type='perftools::gputools::StreamExecutor *' data-ref="403executor">executor</dfn>, <a class="local col8 ref" href="#398backend" title='backend' data-ref="398backend">backend</a>.<a class="ref" href="backend.h.html#_ZNK3xla7Backend15stream_executorEi" title='xla::Backend::stream_executor' data-ref="_ZNK3xla7Backend15stream_executorEi">stream_executor</a>(<a class="local col2 ref" href="#1911" title='device_ordinal' data-ref="402device_ordinal">device_ordinal</a>));</td></tr>
<tr><th id="1917">1917</th><td>    <a class="local col0 ref" href="#400replicas" title='replicas' data-ref="400replicas">replicas</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col3 ref" href="#1916" title='executor' data-ref="403executor">executor</a>);</td></tr>
<tr><th id="1918">1918</th><td>  }</td></tr>
<tr><th id="1919">1919</th><td>  <b>return</b> <a class="ref fake" href="../statusor.h.html#_ZN3xla8StatusOrC1ERKT_" title='xla::StatusOr::StatusOr&lt;T&gt;' data-ref="_ZN3xla8StatusOrC1ERKT_"></a><a class="local col0 ref" href="#400replicas" title='replicas' data-ref="400replicas">replicas</a>;</td></tr>
<tr><th id="1920">1920</th><td>}</td></tr>
<tr><th id="1921">1921</th><td></td></tr>
<tr><th id="1922">1922</th><td><a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="type" href="service.h.html#xla::Service" title='xla::Service' data-ref="xla::Service">Service</a>::<dfn class="decl def" id="_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE" title='xla::Service::MaybeDumpHloModule' data-ref="_ZNK3xla7Service18MaybeDumpHloModuleERKNS_9HloModuleE">MaybeDumpHloModule</dfn>(<em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&amp; <dfn class="local col4 decl" id="404module" title='module' data-type='const xla::HloModule &amp;' data-ref="404module">module</dfn>) <em>const</em> {</td></tr>
<tr><th id="1923">1923</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col5 decl" id="405xla_dump_unoptimized_hlo_proto_to" title='xla_dump_unoptimized_hlo_proto_to' data-type='const string' data-ref="405xla_dump_unoptimized_hlo_proto_to">xla_dump_unoptimized_hlo_proto_to</dfn> =</td></tr>
<tr><th id="1924">1924</th><td>      <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1ERKSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1ERKSbIT_T0_T1_E"></a><a class="local col4 ref" href="#404module" title='module' data-ref="404module">module</a>.<a class="ref" href="hlo_module.h.html#_ZNK3xla9HloModule6configEv" title='xla::HloModule::config' data-ref="_ZNK3xla9HloModule6configEv">config</a>().<a class="ref" href="hlo_module_config.h.html#_ZNK3xla15HloModuleConfig13debug_optionsEv" title='xla::HloModuleConfig::debug_options' data-ref="_ZNK3xla15HloModuleConfig13debug_optionsEv">debug_options</a>().<a class="ref" href="../xla.pb.h.html#_ZNK3xla12DebugOptions33xla_dump_unoptimized_hlo_proto_toEv" title='xla::DebugOptions::xla_dump_unoptimized_hlo_proto_to' data-ref="_ZNK3xla12DebugOptions33xla_dump_unoptimized_hlo_proto_toEv">xla_dump_unoptimized_hlo_proto_to</a>();</td></tr>
<tr><th id="1925">1925</th><td>  <b>if</b> (<a class="local col5 ref" href="#405xla_dump_unoptimized_hlo_proto_to" title='xla_dump_unoptimized_hlo_proto_to' data-ref="405xla_dump_unoptimized_hlo_proto_to">xla_dump_unoptimized_hlo_proto_to</a>.<a class="ref" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNKSt12basic_string5emptyEv" title='std::basic_string::empty' data-ref="_ZNKSt12basic_string5emptyEv">empty</a>()) {</td></tr>
<tr><th id="1926">1926</th><td>    <b>return</b> <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a>::<a class="ref" href="../../../core/lib/core/status.h.html#_ZN10tensorflow6Status2OKEv" title='tensorflow::Status::OK' data-ref="_ZN10tensorflow6Status2OKEv">OK</a>();</td></tr>
<tr><th id="1927">1927</th><td>  }</td></tr>
<tr><th id="1928">1928</th><td>  <a class="type" href="hlo.pb.h.html#xla::HloProto" title='xla::HloProto' data-ref="xla::HloProto">HloProto</a> <dfn class="local col6 decl" id="406proto" title='proto' data-type='xla::HloProto' data-ref="406proto">proto</dfn> = <a class="ref" href="hlo_proto_util.h.html#_ZN3xla12MakeHloProtoERKNS_9HloModuleE" title='xla::MakeHloProto' data-ref="_ZN3xla12MakeHloProtoERKNS_9HloModuleE">MakeHloProto</a>(<a class="local col4 ref" href="#404module" title='module' data-ref="404module">module</a>);</td></tr>
<tr><th id="1929">1929</th><td>  <b>return</b> <span class="namespace">protobuf_util::</span><a class="ref" href="../protobuf_util.h.html#_ZN3xla13protobuf_util20DumpProtoToDirectoryERKN6google8protobuf7MessageERKSsS7_" title='xla::protobuf_util::DumpProtoToDirectory' data-ref="_ZN3xla13protobuf_util20DumpProtoToDirectoryERKN6google8protobuf7MessageERKSsS7_">DumpProtoToDirectory</a>(</td></tr>
<tr><th id="1930">1930</th><td>      <a class="local col6 ref" href="#406proto" title='proto' data-ref="406proto">proto</a>, <a class="local col5 ref" href="#405xla_dump_unoptimized_hlo_proto_to" title='xla_dump_unoptimized_hlo_proto_to' data-ref="405xla_dump_unoptimized_hlo_proto_to">xla_dump_unoptimized_hlo_proto_to</a>, <a class="local col4 ref" href="#404module" title='module' data-ref="404module">module</a>.<a class="ref" href="hlo_module.h.html#_ZNK3xla9HloModule4nameEv" title='xla::HloModule::name' data-ref="_ZNK3xla9HloModule4nameEv">name</a>());</td></tr>
<tr><th id="1931">1931</th><td>}</td></tr>
<tr><th id="1932">1932</th><td></td></tr>
<tr><th id="1933">1933</th><td>}  <i>// namespace xla</i></td></tr>
<tr><th id="1934">1934</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Sep-06</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
