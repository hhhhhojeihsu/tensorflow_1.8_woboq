<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>compiler_functor.cc source code [tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc'; var root_path = '../../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>tensorflow</a>/<a href='../../../..'>tensorflow</a>/<a href='../../..'>compiler</a>/<a href='../..'>xla</a>/<a href='..'>service</a>/<a href='./'>cpu</a>/<a href='compiler_functor.cc.html'>compiler_functor.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2017 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="compiler_functor.h.html">"tensorflow/compiler/xla/service/cpu/compiler_functor.h"</a></u></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../../../../../include/c++/5/algorithm.html">&lt;algorithm&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../../include/c++/5/iterator.html">&lt;iterator&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../../../include/c++/5/memory.html">&lt;memory&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../../../include/c++/5/string.html">&lt;string&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../../../../include/c++/5/utility.html">&lt;utility&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../../../../../include/c++/5/vector.html">&lt;vector&gt;</a></u></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#include "llvm/ADT/StringRef.h"</u></td></tr>
<tr><th id="26">26</th><td><u>#include "llvm/Analysis/TargetLibraryInfo.h"</u></td></tr>
<tr><th id="27">27</th><td><u>#include "llvm/Analysis/TargetTransformInfo.h"</u></td></tr>
<tr><th id="28">28</th><td><u>#include "llvm/ExecutionEngine/ObjectMemoryBuffer.h"</u></td></tr>
<tr><th id="29">29</th><td><u>#include "llvm/IR/LegacyPassManager.h"</u></td></tr>
<tr><th id="30">30</th><td><u>#include "llvm/IR/Verifier.h"</u></td></tr>
<tr><th id="31">31</th><td><u>#include "llvm/MC/MCContext.h"</u></td></tr>
<tr><th id="32">32</th><td><u>#include "llvm/Object/ObjectFile.h"</u></td></tr>
<tr><th id="33">33</th><td><u>#include "llvm/Support/raw_ostream.h"</u></td></tr>
<tr><th id="34">34</th><td><u>#include "llvm/Target/TargetMachine.h"</u></td></tr>
<tr><th id="35">35</th><td><u>#include "llvm/Transforms/IPO.h"</u></td></tr>
<tr><th id="36">36</th><td><u>#include "llvm/Transforms/IPO/AlwaysInliner.h"</u></td></tr>
<tr><th id="37">37</th><td><u>#include "llvm/Transforms/IPO/PassManagerBuilder.h"</u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../ptr_util.h.html">"tensorflow/compiler/xla/ptr_util.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="cpu_runtime.h.html">"tensorflow/compiler/xla/service/cpu/cpu_runtime.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="llvm_ir_runtime.h.html">"tensorflow/compiler/xla/service/cpu/llvm_ir_runtime.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../llvm_ir/llvm_util.h.html">"tensorflow/compiler/xla/service/llvm_ir/llvm_util.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../../statusor.h.html">"tensorflow/compiler/xla/statusor.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../../types.h.html">"tensorflow/compiler/xla/types.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../../util.h.html">"tensorflow/compiler/xla/util.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../../../../core/platform/logging.h.html">"tensorflow/core/platform/logging.h"</a></u></td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td><b>namespace</b> <span class="namespace">xla</span> {</td></tr>
<tr><th id="48">48</th><td><b>namespace</b> <span class="namespace">cpu</span> {</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><i>/* Create filtered versions of the LLVM Pass Managers to filter out some</i></td></tr>
<tr><th id="51">51</th><td><i>of the expensive passes.</i></td></tr>
<tr><th id="52">52</th><td><i>Profiling:</i></td></tr>
<tr><th id="53">53</th><td><i>   learning/brain/google/xla/benchmarks:inception_cpu_benchmark</i></td></tr>
<tr><th id="54">54</th><td><i>   learning/brain/google/xla/benchmarks:cifarnet</i></td></tr>
<tr><th id="55">55</th><td><i>pointed to LICM and IndVarSimplify as the hottest passes.</i></td></tr>
<tr><th id="56">56</th><td><i>LICM is known to exhibit O(n^2) time in the number of instructions.</i></td></tr>
<tr><th id="57">57</th><td><i>IndVarSimplify is slow due to SCEV. If loops are emitted in canonical form,</i></td></tr>
<tr><th id="58">58</th><td><i>this pass is not necessary.</i></td></tr>
<tr><th id="59">59</th><td><i>Disabling these as a starting point.</i></td></tr>
<tr><th id="60">60</th><td><i>*/</i></td></tr>
<tr><th id="61">61</th><td><i>// TODO(b/64227304) Creating a custom pass pipeline will replace this.</i></td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><b>namespace</b> {</td></tr>
<tr><th id="64">64</th><td><b>class</b> <dfn class="tu type def" id="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager' data-ref="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager">FilteredFunctionPassManager</dfn> : <b>public</b> <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::FunctionPassManager' data-ref="llvm::legacy::FunctionPassManager">FunctionPassManager</span> {</td></tr>
<tr><th id="65">65</th><td> <b>public</b>:</td></tr>
<tr><th id="66">66</th><td>  <dfn class="tu decl def" id="_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManagerC1EPN4llvm6ModuleEb" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::FilteredFunctionPassManager' data-type='void xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::FilteredFunctionPassManager(llvm::Module * m, bool disable_expensive_passes)' data-ref="_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManagerC1EPN4llvm6ModuleEb">FilteredFunctionPassManager</dfn>(<span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module">Module</span>* <dfn class="local col1 decl" id="41m" title='m' data-type='llvm::Module *' data-ref="41m">m</dfn>, <em>bool</em> <dfn class="local col2 decl" id="42disable_expensive_passes" title='disable_expensive_passes' data-type='bool' data-ref="42disable_expensive_passes">disable_expensive_passes</dfn>)</td></tr>
<tr><th id="67">67</th><td>      : <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::FunctionPassManager' data-ref="llvm::legacy::FunctionPassManager">FunctionPassManager</span><span class='ref' title='llvm::legacy::FunctionPassManager::FunctionPassManager' data-ref="_ZN4llvm6legacy19FunctionPassManagerC1EPNS_6ModuleE">(</span><a class="local col1 ref" href="#41m" title='m' data-ref="41m">m</a>),</td></tr>
<tr><th id="68">68</th><td>        <a class="tu member" href="#xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager::disable_expensive_passes_" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::disable_expensive_passes_' data-use='w' data-ref="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager::disable_expensive_passes_">disable_expensive_passes_</a>(<a class="local col2 ref" href="#42disable_expensive_passes" title='disable_expensive_passes' data-ref="42disable_expensive_passes">disable_expensive_passes</a>) {}</td></tr>
<tr><th id="69">69</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManager3addEPN4llvm4PassE" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::add' data-type='void xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::add(llvm::Pass * p)' data-ref="_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManager3addEPN4llvm4PassE">add</dfn>(<span class="namespace">llvm::</span><span class='type' title='llvm::Pass' data-ref="llvm::Pass">Pass</span>* <dfn class="local col3 decl" id="43p" title='p' data-type='llvm::Pass *' data-ref="43p">p</dfn>) override {</td></tr>
<tr><th id="70">70</th><td>    <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::FunctionPassManager' data-ref="llvm::legacy::FunctionPassManager">FunctionPassManager</span>::<span class='virtual member' title='llvm::legacy::FunctionPassManager::add' data-ref="_ZN4llvm6legacy19FunctionPassManager3addEPNS_4PassE">add</span>(<a class="local col3 ref" href="#43p" title='p' data-ref="43p">p</a>);</td></tr>
<tr><th id="71">71</th><td>  }</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td> <b>private</b>:</td></tr>
<tr><th id="74">74</th><td>  <em>bool</em> <dfn class="tu decl" id="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager::disable_expensive_passes_" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::disable_expensive_passes_' data-type='bool' data-ref="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager::disable_expensive_passes_">disable_expensive_passes_</dfn>;</td></tr>
<tr><th id="75">75</th><td>};</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><b>class</b> <dfn class="tu type def" id="xla::cpu::(anonymousnamespace)::FilteredPassManager" title='xla::cpu::(anonymous namespace)::FilteredPassManager' data-ref="xla::cpu::(anonymousnamespace)::FilteredPassManager">FilteredPassManager</dfn> : <b>public</b> <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManager' data-ref="llvm::legacy::PassManager">PassManager</span> {</td></tr>
<tr><th id="78">78</th><td> <b>public</b>:</td></tr>
<tr><th id="79">79</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManagerC1Eb" title='xla::cpu::(anonymous namespace)::FilteredPassManager::FilteredPassManager' data-type='void xla::cpu::(anonymous namespace)::FilteredPassManager::FilteredPassManager(bool disable_expensive_passes)' data-ref="_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManagerC1Eb">FilteredPassManager</dfn>(<em>bool</em> <dfn class="local col4 decl" id="44disable_expensive_passes" title='disable_expensive_passes' data-type='bool' data-ref="44disable_expensive_passes">disable_expensive_passes</dfn>)</td></tr>
<tr><th id="80">80</th><td>      : <a class="tu member" href="#xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_" title='xla::cpu::(anonymous namespace)::FilteredPassManager::disable_expensive_passes_' data-use='w' data-ref="xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_">disable_expensive_passes_</a>(<a class="local col4 ref" href="#44disable_expensive_passes" title='disable_expensive_passes' data-ref="44disable_expensive_passes">disable_expensive_passes</a>) {}</td></tr>
<tr><th id="81">81</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManager3addEPN4llvm4PassE" title='xla::cpu::(anonymous namespace)::FilteredPassManager::add' data-type='void xla::cpu::(anonymous namespace)::FilteredPassManager::add(llvm::Pass * p)' data-ref="_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManager3addEPN4llvm4PassE">add</dfn>(<span class="namespace">llvm::</span><span class='type' title='llvm::Pass' data-ref="llvm::Pass">Pass</span>* <dfn class="local col5 decl" id="45p" title='p' data-type='llvm::Pass *' data-ref="45p">p</dfn>) override {</td></tr>
<tr><th id="82">82</th><td>    <b>if</b> (<a class="tu member" href="#xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_" title='xla::cpu::(anonymous namespace)::FilteredPassManager::disable_expensive_passes_' data-use='r' data-ref="xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_">disable_expensive_passes_</a>) {</td></tr>
<tr><th id="83">83</th><td>      <span class="namespace">llvm::</span><span class='type' title='llvm::StringRef' data-ref="llvm::StringRef">StringRef</span> <dfn class="local col6 decl" id="46PassName" title='PassName' data-type='llvm::StringRef' data-ref="46PassName">PassName</dfn> = <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<span class='virtual ref' title='llvm::Pass::getPassName' data-ref="_ZNK4llvm4Pass11getPassNameEv">getPassName</span>();</td></tr>
<tr><th id="84">84</th><td>      <b>if</b> (<a class="local col6 ref" href="#46PassName" title='PassName' data-ref="46PassName">PassName</a>.<span class='ref' title='llvm::StringRef::contains' data-ref="_ZNK4llvm9StringRef8containsES0_">contains</span>(<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"Unroll loops"</q>)) {</td></tr>
<tr><th id="85">85</th><td>        <b>return</b>;</td></tr>
<tr><th id="86">86</th><td>      }</td></tr>
<tr><th id="87">87</th><td>    }</td></tr>
<tr><th id="88">88</th><td>    <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManager' data-ref="llvm::legacy::PassManager">PassManager</span>::<span class='virtual member' title='llvm::legacy::PassManager::add' data-ref="_ZN4llvm6legacy11PassManager3addEPNS_4PassE">add</span>(<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>);</td></tr>
<tr><th id="89">89</th><td>  }</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td> <b>private</b>:</td></tr>
<tr><th id="92">92</th><td>  <em>bool</em> <dfn class="tu decl" id="xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_" title='xla::cpu::(anonymous namespace)::FilteredPassManager::disable_expensive_passes_' data-type='bool' data-ref="xla::cpu::(anonymousnamespace)::FilteredPassManager::disable_expensive_passes_">disable_expensive_passes_</dfn>;</td></tr>
<tr><th id="93">93</th><td>};</td></tr>
<tr><th id="94">94</th><td>}  <i>// anonymous namespace</i></td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><span class="namespace">std::</span><a class="type" href="../../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::MemoryBuffer' data-ref="llvm::MemoryBuffer">MemoryBuffer</span>&gt; <a class="type" href="compiler_functor.h.html#xla::cpu::CompilerFunctor" title='xla::cpu::CompilerFunctor' data-ref="xla::cpu::CompilerFunctor">CompilerFunctor</a>::<dfn class="decl def" id="_ZNK3xla3cpu15CompilerFunctorclERN4llvm6ModuleE" title='xla::cpu::CompilerFunctor::operator()' data-ref="_ZNK3xla3cpu15CompilerFunctorclERN4llvm6ModuleE"><b>operator</b>()</dfn>(</td></tr>
<tr><th id="97">97</th><td>    <span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module">Module</span>&amp; <dfn class="local col7 decl" id="47module" title='module' data-type='llvm::Module &amp;' data-ref="47module">module</dfn>) <em>const</em> {</td></tr>
<tr><th id="98">98</th><td>  <a class="tu type" href="#xla::cpu::(anonymousnamespace)::FilteredPassManager" title='xla::cpu::(anonymous namespace)::FilteredPassManager' data-ref="xla::cpu::(anonymousnamespace)::FilteredPassManager">FilteredPassManager</a> <dfn class="local col8 decl" id="48module_passes" title='module_passes' data-type='xla::cpu::(anonymous namespace)::FilteredPassManager' data-ref="48module_passes">module_passes</dfn><a class="tu ref" href="#_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManagerC1Eb" title='xla::cpu::(anonymous namespace)::FilteredPassManager::FilteredPassManager' data-use='c' data-ref="_ZN3xla3cpu12_GLOBAL__N_119FilteredPassManagerC1Eb">(</a><a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::disable_expensive_passes_" title='xla::cpu::CompilerFunctor::disable_expensive_passes_' data-ref="xla::cpu::CompilerFunctor::disable_expensive_passes_">disable_expensive_passes_</a>);</td></tr>
<tr><th id="99">99</th><td>  <a class="tu type" href="#xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager' data-ref="xla::cpu::(anonymousnamespace)::FilteredFunctionPassManager">FilteredFunctionPassManager</a> <dfn class="local col9 decl" id="49function_passes" title='function_passes' data-type='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager' data-ref="49function_passes">function_passes</dfn><a class="tu ref" href="#_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManagerC1EPN4llvm6ModuleEb" title='xla::cpu::(anonymous namespace)::FilteredFunctionPassManager::FilteredFunctionPassManager' data-use='c' data-ref="_ZN3xla3cpu12_GLOBAL__N_127FilteredFunctionPassManagerC1EPN4llvm6ModuleEb">(</a>&amp;<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>,</td></tr>
<tr><th id="100">100</th><td>                                              <a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::disable_expensive_passes_" title='xla::cpu::CompilerFunctor::disable_expensive_passes_' data-ref="xla::cpu::CompilerFunctor::disable_expensive_passes_">disable_expensive_passes_</a>);</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>  <a class="macro" href="../../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((2) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 102, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>2</var>) <a class="ref" href="../../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"IR before optimizations"</q>;</td></tr>
<tr><th id="103">103</th><td>  <a class="macro" href="../../util.h.html#536" title="do { if (((2) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel())) ::xla::LogLines(::tensorflow::INFO, llvm_ir::DumpModuleToString(module), &quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 103); } while (false);" data-ref="_M/XLA_VLOG_LINES">XLA_VLOG_LINES</a>(<var>2</var>, <a class="ref fake" href="../../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1ERKSs" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1ERKSs"></a>llvm_ir::<a class="ref" href="../llvm_ir/llvm_util.h.html#_ZN3xla7llvm_ir18DumpModuleToStringERKN4llvm6ModuleE" title='xla::llvm_ir::DumpModuleToString' data-ref="_ZN3xla7llvm_ir18DumpModuleToStringERKN4llvm6ModuleE">DumpModuleToString</a>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>));</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td>  <b>if</b> (<a class="ref fake" href="../../../../../../include/c++/5/functional.html#_ZNKSt8functionIFT_DpT0_EEcvbEv" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator bool' data-ref="_ZNKSt8functionIFT_DpT0_EEcvbEv"></a><a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::pre_optimization_hook_" title='xla::cpu::CompilerFunctor::pre_optimization_hook_' data-ref="xla::cpu::CompilerFunctor::pre_optimization_hook_">pre_optimization_hook_</a>) {</td></tr>
<tr><th id="106">106</th><td>    <a class="macro" href="../../../../core/lib/core/status.h.html#134" title="while (auto _result = ::tensorflow::TfCheckOpHelper(pre_optimization_hook_(module), &quot;pre_optimization_hook_(module)&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 106) &lt;&lt; *(_result)" data-ref="_M/TF_CHECK_OK">TF_CHECK_OK</a>(<a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::pre_optimization_hook_" title='xla::cpu::CompilerFunctor::pre_optimization_hook_' data-ref="xla::cpu::CompilerFunctor::pre_optimization_hook_">pre_optimization_hook_</a>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>));</td></tr>
<tr><th id="107">107</th><td>  }</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td>  <i>// Add the appropriate TargetLibraryInfo and TargetTransformInfo.</i></td></tr>
<tr><th id="110">110</th><td>  <a class="member" href="#_ZNK3xla3cpu15CompilerFunctor19AddTargetInfoPassesEPN4llvm6legacy15PassManagerBaseE" title='xla::cpu::CompilerFunctor::AddTargetInfoPasses' data-ref="_ZNK3xla3cpu15CompilerFunctor19AddTargetInfoPassesEPN4llvm6legacy15PassManagerBaseE">AddTargetInfoPasses</a>(&amp;<a class="local col8 ref" href="#48module_passes" title='module_passes' data-ref="48module_passes">module_passes</a>);</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td>  <i>// Build up optimization pipeline.</i></td></tr>
<tr><th id="113">113</th><td>  <b>if</b> (<a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::optimize_for_size_" title='xla::cpu::CompilerFunctor::optimize_for_size_' data-ref="xla::cpu::CompilerFunctor::optimize_for_size_">optimize_for_size_</a>) {</td></tr>
<tr><th id="114">114</th><td>    <i>// Optimizing for size turns on -O2 level optimizations.</i></td></tr>
<tr><th id="115">115</th><td><i>    //</i></td></tr>
<tr><th id="116">116</th><td><i>    // TODO(b/64153864): Although the code generator supports size_level = 2 to</i></td></tr>
<tr><th id="117">117</th><td><i>    // turn on more aggressive code size optimizations than size_level = 1, we</i></td></tr>
<tr><th id="118">118</th><td><i>    // pass size_level = 1 because in many cases a size_level of 2 does</i></td></tr>
<tr><th id="119">119</th><td><i>    // worse. Investigate why.</i></td></tr>
<tr><th id="120">120</th><td>    <a class="member" href="#_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj" title='xla::cpu::CompilerFunctor::AddOptimizationPasses' data-ref="_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj">AddOptimizationPasses</a>(&amp;<a class="local col8 ref" href="#48module_passes" title='module_passes' data-ref="48module_passes">module_passes</a>, &amp;<a class="local col9 ref" href="#49function_passes" title='function_passes' data-ref="49function_passes">function_passes</a>, <i>/*opt_level=*/</i><var>2</var>,</td></tr>
<tr><th id="121">121</th><td>                          <i>/*size_level=*/</i><var>1</var>);</td></tr>
<tr><th id="122">122</th><td>  } <b>else</b> {</td></tr>
<tr><th id="123">123</th><td>    <a class="member" href="#_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj" title='xla::cpu::CompilerFunctor::AddOptimizationPasses' data-ref="_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj">AddOptimizationPasses</a>(&amp;<a class="local col8 ref" href="#48module_passes" title='module_passes' data-ref="48module_passes">module_passes</a>, &amp;<a class="local col9 ref" href="#49function_passes" title='function_passes' data-ref="49function_passes">function_passes</a>,</td></tr>
<tr><th id="124">124</th><td>                          <i>/*opt_level=*/</i><a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::opt_level_" title='xla::cpu::CompilerFunctor::opt_level_' data-ref="xla::cpu::CompilerFunctor::opt_level_">opt_level_</a>, <i>/*size_level=*/</i><var>0</var>);</td></tr>
<tr><th id="125">125</th><td>  }</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>  <i>// Run optimization passes on module.</i></td></tr>
<tr><th id="128">128</th><td>  <a class="local col9 ref" href="#49function_passes" title='function_passes' data-ref="49function_passes">function_passes</a>.<span class='ref' title='llvm::legacy::FunctionPassManager::doInitialization' data-ref="_ZN4llvm6legacy19FunctionPassManager16doInitializationEv">doInitialization</span>();</td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td>  <a class="macro" href="../../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(!llvm::verifyModule(module, &amp;llvm::dbgs())), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 130) &lt;&lt; &quot;Check failed: &quot; &quot;!llvm::verifyModule(module, &amp;llvm::dbgs())&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(!llvm::<span class='ref' title='llvm::verifyModule' data-ref="_ZN4llvm12verifyModuleERKNS_6ModuleEPNS_11raw_ostreamEPb">verifyModule</span>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>, &amp;llvm::<span class='ref' title='llvm::dbgs' data-ref="_ZN4llvm4dbgsEv">dbgs</span>()));</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col0 decl" id="50func" title='func' data-type='llvm::ilist_iterator&lt;llvm::ilist_detail::node_options&lt;llvm::Function, false, false, void&gt;, false, false&gt;' data-ref="50func">func</dfn> = <a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>.<span class='ref' title='llvm::Module::begin' data-ref="_ZN4llvm6Module5beginEv">begin</span>(); <a class="local col0 ref" href="#50func" title='func' data-ref="50func">func</a> <span class='ref' title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</span> <a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>.<span class='ref' title='llvm::Module::end' data-ref="_ZN4llvm6Module3endEv">end</span>(); <span class='ref' title='llvm::ilist_iterator::operator++' data-ref="_ZN4llvm14ilist_iteratorppEv">++</span><a class="local col0 ref" href="#50func" title='func' data-ref="50func">func</a>) {</td></tr>
<tr><th id="133">133</th><td>    <a class="local col9 ref" href="#49function_passes" title='function_passes' data-ref="49function_passes">function_passes</a>.<span class='ref' title='llvm::legacy::FunctionPassManager::run' data-ref="_ZN4llvm6legacy19FunctionPassManager3runERNS_8FunctionE">run</span>(<span class='refarg'><span class='ref' title='llvm::ilist_iterator::operator*' data-ref="_ZNK4llvm14ilist_iteratordeEv">*</span><a class="local col0 ref" href="#50func" title='func' data-ref="50func">func</a></span>);</td></tr>
<tr><th id="134">134</th><td>  }</td></tr>
<tr><th id="135">135</th><td>  <a class="local col9 ref" href="#49function_passes" title='function_passes' data-ref="49function_passes">function_passes</a>.<span class='ref' title='llvm::legacy::FunctionPassManager::doFinalization' data-ref="_ZN4llvm6legacy19FunctionPassManager14doFinalizationEv">doFinalization</span>();</td></tr>
<tr><th id="136">136</th><td>  <a class="local col8 ref" href="#48module_passes" title='module_passes' data-ref="48module_passes">module_passes</a>.<span class='ref' title='llvm::legacy::PassManager::run' data-ref="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE">run</span>(<span class='refarg'><a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a></span>);</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td>  <a class="macro" href="../../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(!llvm::verifyModule(module, &amp;llvm::dbgs())), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 138) &lt;&lt; &quot;Check failed: &quot; &quot;!llvm::verifyModule(module, &amp;llvm::dbgs())&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(!llvm::<span class='ref' title='llvm::verifyModule' data-ref="_ZN4llvm12verifyModuleERKNS_6ModuleEPNS_11raw_ostreamEPb">verifyModule</span>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>, &amp;llvm::<span class='ref' title='llvm::dbgs' data-ref="_ZN4llvm4dbgsEv">dbgs</span>()));</td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td>  <span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#_ZN3xla3cpu7runtime25RewriteIRRuntimeFunctionsEPN4llvm6ModuleEb" title='xla::cpu::runtime::RewriteIRRuntimeFunctions' data-ref="_ZN3xla3cpu7runtime25RewriteIRRuntimeFunctionsEPN4llvm6ModuleEb">RewriteIRRuntimeFunctions</a>(&amp;<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>, <a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::enable_fast_math_" title='xla::cpu::CompilerFunctor::enable_fast_math_' data-ref="xla::cpu::CompilerFunctor::enable_fast_math_">enable_fast_math_</a>);</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>  <i>// Buffer for holding machine code prior to constructing the ObjectFile.</i></td></tr>
<tr><th id="143">143</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::SmallVector' data-ref="llvm::SmallVector">SmallVector</span>&lt;<em>char</em>, <var>0</var>&gt; <span class='ref fake' title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev"></span><dfn class="local col1 decl" id="51stream_buffer" title='stream_buffer' data-type='llvm::SmallVector&lt;char, 0&gt;' data-ref="51stream_buffer">stream_buffer</dfn>;</td></tr>
<tr><th id="144">144</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::raw_svector_ostream' data-ref="llvm::raw_svector_ostream">raw_svector_ostream</span> <dfn class="local col2 decl" id="52ostream" title='ostream' data-type='llvm::raw_svector_ostream' data-ref="52ostream">ostream</dfn><span class='ref' title='llvm::raw_svector_ostream::raw_svector_ostream' data-ref="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE">(</span><a class="local col1 ref" href="#51stream_buffer" title='stream_buffer' data-ref="51stream_buffer">stream_buffer</a>);</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>  <a class="macro" href="../../../../core/platform/default/logging.h.html#89" title="if ((__builtin_expect(((2) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel()), 0))) ::tensorflow::internal::LogMessage(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 146, tensorflow::INFO)" data-ref="_M/VLOG">VLOG</a>(<var>2</var>) <a class="ref" href="../../../../../../include/c++/5/ostream.html#_ZStlsOSt13basic_ostreamIT_T0_ERKT1_" title='std::operator&lt;&lt;' data-ref="_ZStlsOSt13basic_ostreamIT_T0_ERKT1_">&lt;&lt;</a> <q>"IR after optimizations"</q>;</td></tr>
<tr><th id="147">147</th><td>  <a class="macro" href="../../util.h.html#536" title="do { if (((2) &lt;= ::tensorflow::internal::LogMessage::MinVLogLevel())) ::xla::LogLines(::tensorflow::INFO, llvm_ir::DumpModuleToString(module), &quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 147); } while (false);" data-ref="_M/XLA_VLOG_LINES">XLA_VLOG_LINES</a>(<var>2</var>, <a class="ref fake" href="../../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1ERKSs" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1ERKSs"></a>llvm_ir::<a class="ref" href="../llvm_ir/llvm_util.h.html#_ZN3xla7llvm_ir18DumpModuleToStringERKN4llvm6ModuleE" title='xla::llvm_ir::DumpModuleToString' data-ref="_ZN3xla7llvm_ir18DumpModuleToStringERKN4llvm6ModuleE">DumpModuleToString</a>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>));</td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td>  <b>if</b> (<a class="ref fake" href="../../../../../../include/c++/5/functional.html#_ZNKSt8functionIFT_DpT0_EEcvbEv" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator bool' data-ref="_ZNKSt8functionIFT_DpT0_EEcvbEv"></a><a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::post_optimization_hook_" title='xla::cpu::CompilerFunctor::post_optimization_hook_' data-ref="xla::cpu::CompilerFunctor::post_optimization_hook_">post_optimization_hook_</a>) {</td></tr>
<tr><th id="150">150</th><td>    <a class="macro" href="../../../../core/lib/core/status.h.html#134" title="while (auto _result = ::tensorflow::TfCheckOpHelper(post_optimization_hook_(module), &quot;post_optimization_hook_(module)&quot;)) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/xla/service/cpu/compiler_functor.cc&quot;, 150) &lt;&lt; *(_result)" data-ref="_M/TF_CHECK_OK">TF_CHECK_OK</a>(<a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::post_optimization_hook_" title='xla::cpu::CompilerFunctor::post_optimization_hook_' data-ref="xla::cpu::CompilerFunctor::post_optimization_hook_">post_optimization_hook_</a>(<a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a>));</td></tr>
<tr><th id="151">151</th><td>  }</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>  <i>// Generate code.</i></td></tr>
<tr><th id="154">154</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::MCContext' data-ref="llvm::MCContext">MCContext</span>* <dfn class="local col3 decl" id="53mc_context" title='mc_context' data-type='llvm::MCContext *' data-ref="53mc_context">mc_context</dfn>;</td></tr>
<tr><th id="155">155</th><td>  <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManager' data-ref="llvm::legacy::PassManager">PassManager</span> <span class='ref fake' title='llvm::legacy::PassManager::PassManager' data-ref="_ZN4llvm6legacy11PassManagerC1Ev"></span><dfn class="local col4 decl" id="54codegen_passes" title='codegen_passes' data-type='llvm::legacy::PassManager' data-ref="54codegen_passes">codegen_passes</dfn>;</td></tr>
<tr><th id="156">156</th><td>  <a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::target_machine_" title='xla::cpu::CompilerFunctor::target_machine_' data-ref="xla::cpu::CompilerFunctor::target_machine_">target_machine_</a>-&gt;<span class='virtual ref' title='llvm::TargetMachine::addPassesToEmitMC' data-ref="_ZN4llvm13TargetMachine17addPassesToEmitMCERNS_6legacy15PassManagerBaseERPNS_9MCContextERNS_17raw_pwrite_streamEb">addPassesToEmitMC</span>(<span class='refarg'><a class="local col4 ref" href="#54codegen_passes" title='codegen_passes' data-ref="54codegen_passes">codegen_passes</a></span>, <span class='refarg'><a class="local col3 ref" href="#53mc_context" title='mc_context' data-ref="53mc_context">mc_context</a></span>, <span class='refarg'><a class="local col2 ref" href="#52ostream" title='ostream' data-ref="52ostream">ostream</a></span>);</td></tr>
<tr><th id="157">157</th><td>  <a class="local col4 ref" href="#54codegen_passes" title='codegen_passes' data-ref="54codegen_passes">codegen_passes</a>.<span class='ref' title='llvm::legacy::PassManager::run' data-ref="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE">run</span>(<span class='refarg'><a class="local col7 ref" href="#47module" title='module' data-ref="47module">module</a></span>);</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td>  <i>// Construct ObjectFile from machine code buffer.</i></td></tr>
<tr><th id="160">160</th><td>  <b>return</b> <span class="namespace">std::</span><a class="type" href="../../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::MemoryBuffer' data-ref="llvm::MemoryBuffer">MemoryBuffer</span>&gt;<a class="ref" href="../../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1ENNS_8_PointerE4typeE" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1ENNS_8_PointerE4typeE">(</a></td></tr>
<tr><th id="161">161</th><td>      <b>new</b> <span class="namespace">llvm::</span><span class='type' title='llvm::ObjectMemoryBuffer' data-ref="llvm::ObjectMemoryBuffer">ObjectMemoryBuffer</span><span class='ref' title='llvm::ObjectMemoryBuffer::ObjectMemoryBuffer' data-ref="_ZN4llvm18ObjectMemoryBufferC1EONS_15SmallVectorImplIcEE">(</span><span class="namespace">std::</span><a class="ref" href="../../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#51stream_buffer" title='stream_buffer' data-ref="51stream_buffer">stream_buffer</a></span>)));</td></tr>
<tr><th id="162">162</th><td>}</td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td><em>static</em> <span class="namespace">std::</span><a class="type" href="../../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::VecDesc' data-ref="llvm::VecDesc">VecDesc</span>&gt; <dfn class="tu decl def" id="_ZN3xla3cpuL39VectorFunctionsForTargetLibraryInfoImplEv" title='xla::cpu::VectorFunctionsForTargetLibraryInfoImpl' data-type='std::vector&lt;llvm::VecDesc&gt; xla::cpu::VectorFunctionsForTargetLibraryInfoImpl()' data-ref="_ZN3xla3cpuL39VectorFunctionsForTargetLibraryInfoImplEv">VectorFunctionsForTargetLibraryInfoImpl</dfn>() {</td></tr>
<tr><th id="165">165</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::VecDesc' data-ref="llvm::VecDesc">VecDesc</span>&gt; <dfn class="local col5 decl" id="55result" title='result' data-type='std::vector&lt;llvm::VecDesc&gt;' data-ref="55result">result</dfn> = <a class="ref fake" href="../../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_"></a>{</td></tr>
<tr><th id="166">166</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"tanhf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kTanhV4F32SymbolName" title='xla::cpu::runtime::kTanhV4F32SymbolName' data-ref="xla::cpu::runtime::kTanhV4F32SymbolName">kTanhV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="167">167</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.tanh.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kTanhV4F32SymbolName" title='xla::cpu::runtime::kTanhV4F32SymbolName' data-ref="xla::cpu::runtime::kTanhV4F32SymbolName">kTanhV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"tanhf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kTanhV8F32SymbolName" title='xla::cpu::runtime::kTanhV8F32SymbolName' data-ref="xla::cpu::runtime::kTanhV8F32SymbolName">kTanhV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="170">170</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.tanh.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kTanhV8F32SymbolName" title='xla::cpu::runtime::kTanhV8F32SymbolName' data-ref="xla::cpu::runtime::kTanhV8F32SymbolName">kTanhV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"expf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kExpV4F32SymbolName" title='xla::cpu::runtime::kExpV4F32SymbolName' data-ref="xla::cpu::runtime::kExpV4F32SymbolName">kExpV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="173">173</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.exp.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kExpV4F32SymbolName" title='xla::cpu::runtime::kExpV4F32SymbolName' data-ref="xla::cpu::runtime::kExpV4F32SymbolName">kExpV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"expf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kExpV8F32SymbolName" title='xla::cpu::runtime::kExpV8F32SymbolName' data-ref="xla::cpu::runtime::kExpV8F32SymbolName">kExpV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="176">176</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.exp.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kExpV8F32SymbolName" title='xla::cpu::runtime::kExpV8F32SymbolName' data-ref="xla::cpu::runtime::kExpV8F32SymbolName">kExpV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"logf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kLogV4F32SymbolName" title='xla::cpu::runtime::kLogV4F32SymbolName' data-ref="xla::cpu::runtime::kLogV4F32SymbolName">kLogV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="179">179</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.log.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kLogV4F32SymbolName" title='xla::cpu::runtime::kLogV4F32SymbolName' data-ref="xla::cpu::runtime::kLogV4F32SymbolName">kLogV4F32SymbolName</a>, <var>4</var>},</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"logf"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kLogV8F32SymbolName" title='xla::cpu::runtime::kLogV8F32SymbolName' data-ref="xla::cpu::runtime::kLogV8F32SymbolName">kLogV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="182">182</th><td>      {<span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><q>"llvm.log.f32"</q>, <span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class='ref fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc"></span><span class="namespace">runtime::</span><a class="ref" href="llvm_ir_runtime.h.html#xla::cpu::runtime::kLogV8F32SymbolName" title='xla::cpu::runtime::kLogV8F32SymbolName' data-ref="xla::cpu::runtime::kLogV8F32SymbolName">kLogV8F32SymbolName</a>, <var>8</var>},</td></tr>
<tr><th id="183">183</th><td>  };</td></tr>
<tr><th id="184">184</th><td>  <b>return</b> <a class="local col5 ref" href="#55result" title='result' data-ref="55result">result</a>;</td></tr>
<tr><th id="185">185</th><td>}</td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td><em>void</em> <a class="type" href="compiler_functor.h.html#xla::cpu::CompilerFunctor" title='xla::cpu::CompilerFunctor' data-ref="xla::cpu::CompilerFunctor">CompilerFunctor</a>::<dfn class="decl def" id="_ZNK3xla3cpu15CompilerFunctor19AddTargetInfoPassesEPN4llvm6legacy15PassManagerBaseE" title='xla::cpu::CompilerFunctor::AddTargetInfoPasses' data-ref="_ZNK3xla3cpu15CompilerFunctor19AddTargetInfoPassesEPN4llvm6legacy15PassManagerBaseE">AddTargetInfoPasses</dfn>(</td></tr>
<tr><th id="188">188</th><td>    <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManagerBase' data-ref="llvm::legacy::PassManagerBase">PassManagerBase</span>* <dfn class="local col6 decl" id="56passes" title='passes' data-type='llvm::legacy::PassManagerBase *' data-ref="56passes">passes</dfn>) <em>const</em> {</td></tr>
<tr><th id="189">189</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::Triple' data-ref="llvm::Triple">Triple</span> <dfn class="local col7 decl" id="57target_triple" title='target_triple' data-type='llvm::Triple' data-ref="57target_triple">target_triple</dfn><span class='ref' title='llvm::Triple::Triple' data-ref="_ZN4llvm6TripleC1ERKS0_">(</span><a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::target_machine_" title='xla::cpu::CompilerFunctor::target_machine_' data-ref="xla::cpu::CompilerFunctor::target_machine_">target_machine_</a>-&gt;<span class='ref' title='llvm::TargetMachine::getTargetTriple' data-ref="_ZNK4llvm13TargetMachine15getTargetTripleEv">getTargetTriple</span>());</td></tr>
<tr><th id="190">190</th><td>  <em>auto</em> <dfn class="local col8 decl" id="58target_library_info_impl" title='target_library_info_impl' data-type='std::unique_ptr&lt;llvm::TargetLibraryInfoImpl, std::default_delete&lt;llvm::TargetLibraryInfoImpl&gt; &gt;' data-ref="58target_library_info_impl">target_library_info_impl</dfn> =</td></tr>
<tr><th id="191">191</th><td>      <a class="ref" href="../../ptr_util.h.html#_ZN3xla10MakeUniqueEDpOT0_" title='xla::MakeUnique' data-ref="_ZN3xla10MakeUniqueEDpOT0_">MakeUnique</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::TargetLibraryInfoImpl' data-ref="llvm::TargetLibraryInfoImpl">TargetLibraryInfoImpl</span>&gt;(<span class='refarg'><a class="local col7 ref" href="#57target_triple" title='target_triple' data-ref="57target_triple">target_triple</a></span>);</td></tr>
<tr><th id="192">192</th><td>  <a class="local col8 ref" href="#58target_library_info_impl" title='target_library_info_impl' data-ref="58target_library_info_impl">target_library_info_impl</a><a class="ref" href="../../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref' title='llvm::TargetLibraryInfoImpl::addVectorizableFunctions' data-ref="_ZN4llvm21TargetLibraryInfoImpl24addVectorizableFunctionsENS_8ArrayRefINS_7VecDescEEE">addVectorizableFunctions</span>(</td></tr>
<tr><th id="193">193</th><td>      <span class='ref fake' title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt6vectorIT_T_E"></span><a class="tu ref" href="#_ZN3xla3cpuL39VectorFunctionsForTargetLibraryInfoImplEv" title='xla::cpu::VectorFunctionsForTargetLibraryInfoImpl' data-use='c' data-ref="_ZN3xla3cpuL39VectorFunctionsForTargetLibraryInfoImplEv">VectorFunctionsForTargetLibraryInfoImpl</a>());</td></tr>
<tr><th id="194">194</th><td>  <a class="local col6 ref" href="#56passes" title='passes' data-ref="56passes">passes</a>-&gt;<span class='virtual ref' title='llvm::legacy::PassManagerBase::add' data-ref="_ZN4llvm6legacy15PassManagerBase3addEPNS_4PassE">add</span>(</td></tr>
<tr><th id="195">195</th><td>      <b>new</b> <span class="namespace">llvm::</span><span class='type' title='llvm::TargetLibraryInfoWrapperPass' data-ref="llvm::TargetLibraryInfoWrapperPass">TargetLibraryInfoWrapperPass</span><span class='ref' title='llvm::TargetLibraryInfoWrapperPass::TargetLibraryInfoWrapperPass' data-ref="_ZN4llvm28TargetLibraryInfoWrapperPassC1ERKNS_21TargetLibraryInfoImplE">(</span><a class="ref" href="../../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="local col8 ref" href="#58target_library_info_impl" title='target_library_info_impl' data-ref="58target_library_info_impl">target_library_info_impl</a>));</td></tr>
<tr><th id="196">196</th><td>  <a class="local col6 ref" href="#56passes" title='passes' data-ref="56passes">passes</a>-&gt;<span class='virtual ref' title='llvm::legacy::PassManagerBase::add' data-ref="_ZN4llvm6legacy15PassManagerBase3addEPNS_4PassE">add</span>(<span class='ref' title='llvm::createTargetTransformInfoWrapperPass' data-ref="_ZN4llvm36createTargetTransformInfoWrapperPassENS_16TargetIRAnalysisE">createTargetTransformInfoWrapperPass</span>(</td></tr>
<tr><th id="197">197</th><td>      <a class="member" href="compiler_functor.h.html#xla::cpu::CompilerFunctor::target_machine_" title='xla::cpu::CompilerFunctor::target_machine_' data-ref="xla::cpu::CompilerFunctor::target_machine_">target_machine_</a>-&gt;<span class='ref' title='llvm::TargetMachine::getTargetIRAnalysis' data-ref="_ZN4llvm13TargetMachine19getTargetIRAnalysisEv">getTargetIRAnalysis</span>()));</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><em>void</em> <a class="type" href="compiler_functor.h.html#xla::cpu::CompilerFunctor" title='xla::cpu::CompilerFunctor' data-ref="xla::cpu::CompilerFunctor">CompilerFunctor</a>::<dfn class="decl def" id="_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj" title='xla::cpu::CompilerFunctor::AddOptimizationPasses' data-ref="_ZNK3xla3cpu15CompilerFunctor21AddOptimizationPassesEPN4llvm6legacy15PassManagerBaseEPNS3_19FunctionPassManagerEjj">AddOptimizationPasses</dfn>(</td></tr>
<tr><th id="201">201</th><td>    <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManagerBase' data-ref="llvm::legacy::PassManagerBase">PassManagerBase</span>* <dfn class="local col9 decl" id="59module_passes" title='module_passes' data-type='llvm::legacy::PassManagerBase *' data-ref="59module_passes">module_passes</dfn>,</td></tr>
<tr><th id="202">202</th><td>    <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::FunctionPassManager' data-ref="llvm::legacy::FunctionPassManager">FunctionPassManager</span>* <dfn class="local col0 decl" id="60function_passes" title='function_passes' data-type='llvm::legacy::FunctionPassManager *' data-ref="60function_passes">function_passes</dfn>, <em>unsigned</em> <dfn class="local col1 decl" id="61opt_level" title='opt_level' data-type='unsigned int' data-ref="61opt_level">opt_level</dfn>,</td></tr>
<tr><th id="203">203</th><td>    <em>unsigned</em> <dfn class="local col2 decl" id="62size_level" title='size_level' data-type='unsigned int' data-ref="62size_level">size_level</dfn>) <em>const</em> {</td></tr>
<tr><th id="204">204</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::PassManagerBuilder' data-ref="llvm::PassManagerBuilder">PassManagerBuilder</span> <span class='ref fake' title='llvm::PassManagerBuilder::PassManagerBuilder' data-ref="_ZN4llvm18PassManagerBuilderC1Ev"></span><dfn class="local col3 decl" id="63builder" title='builder' data-type='llvm::PassManagerBuilder' data-ref="63builder">builder</dfn>;</td></tr>
<tr><th id="205">205</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::OptLevel' data-ref="llvm::PassManagerBuilder::OptLevel">OptLevel</span> = <a class="local col1 ref" href="#61opt_level" title='opt_level' data-ref="61opt_level">opt_level</a>;</td></tr>
<tr><th id="206">206</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::SizeLevel' data-ref="llvm::PassManagerBuilder::SizeLevel">SizeLevel</span> = <a class="local col2 ref" href="#62size_level" title='size_level' data-ref="62size_level">size_level</a>;</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td>  <b>if</b> (<a class="local col1 ref" href="#61opt_level" title='opt_level' data-ref="61opt_level">opt_level</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="209">209</th><td>    <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::Inliner' data-ref="llvm::PassManagerBuilder::Inliner">Inliner</span> = <span class="namespace">llvm::</span><span class='ref' title='llvm::createFunctionInliningPass' data-ref="_ZN4llvm26createFunctionInliningPassEv">createFunctionInliningPass</span>();</td></tr>
<tr><th id="210">210</th><td>  } <b>else</b> {</td></tr>
<tr><th id="211">211</th><td>    <i>// Only inline functions marked with "alwaysinline".</i></td></tr>
<tr><th id="212">212</th><td>    <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::Inliner' data-ref="llvm::PassManagerBuilder::Inliner">Inliner</span> = <span class="namespace">llvm::</span><span class='ref' title='llvm::createAlwaysInlinerLegacyPass' data-ref="_ZN4llvm29createAlwaysInlinerLegacyPassEb">createAlwaysInlinerLegacyPass</span>();</td></tr>
<tr><th id="213">213</th><td>  }</td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::DisableUnitAtATime' data-ref="llvm::PassManagerBuilder::DisableUnitAtATime">DisableUnitAtATime</span> = <b>false</b>;</td></tr>
<tr><th id="216">216</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::DisableUnrollLoops' data-ref="llvm::PassManagerBuilder::DisableUnrollLoops">DisableUnrollLoops</span> = <a class="local col1 ref" href="#61opt_level" title='opt_level' data-ref="61opt_level">opt_level</a> == <var>0</var>;</td></tr>
<tr><th id="217">217</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::LoopVectorize' data-ref="llvm::PassManagerBuilder::LoopVectorize">LoopVectorize</span> = <a class="local col1 ref" href="#61opt_level" title='opt_level' data-ref="61opt_level">opt_level</a> &gt; <var>0</var> &amp;&amp; <a class="local col2 ref" href="#62size_level" title='size_level' data-ref="62size_level">size_level</a> == <var>0</var>;</td></tr>
<tr><th id="218">218</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::SLPVectorize' data-ref="llvm::PassManagerBuilder::SLPVectorize">SLPVectorize</span> = <a class="local col1 ref" href="#61opt_level" title='opt_level' data-ref="61opt_level">opt_level</a> &gt; <var>1</var> &amp;&amp; <a class="local col2 ref" href="#62size_level" title='size_level' data-ref="62size_level">size_level</a> == <var>0</var>;</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::populateFunctionPassManager' data-ref="_ZN4llvm18PassManagerBuilder27populateFunctionPassManagerERNS_6legacy19FunctionPassManagerE">populateFunctionPassManager</span>(<span class='refarg'>*<a class="local col0 ref" href="#60function_passes" title='function_passes' data-ref="60function_passes">function_passes</a></span>);</td></tr>
<tr><th id="221">221</th><td>  <a class="local col3 ref" href="#63builder" title='builder' data-ref="63builder">builder</a>.<span class='ref' title='llvm::PassManagerBuilder::populateModulePassManager' data-ref="_ZN4llvm18PassManagerBuilder25populateModulePassManagerERNS_6legacy15PassManagerBaseE">populateModulePassManager</span>(<span class='refarg'>*<a class="local col9 ref" href="#59module_passes" title='module_passes' data-ref="59module_passes">module_passes</a></span>);</td></tr>
<tr><th id="222">222</th><td>}</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>}  <i>// namespace cpu</i></td></tr>
<tr><th id="225">225</th><td>}  <i>// namespace xla</i></td></tr>
<tr><th id="226">226</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Sep-06</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
