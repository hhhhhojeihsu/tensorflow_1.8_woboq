<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>virtual_scheduler.h source code [tensorflow/tensorflow/core/grappler/costs/virtual_scheduler.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tensorflow::grappler::CompositeNodeManager,tensorflow::grappler::DeviceState,tensorflow::grappler::FIFOManager,tensorflow::grappler::FirstReadyManager,tensorflow::grappler::LIFOManager,tensorflow::grappler::NodeState,tensorflow::grappler::ReadyNodeManager,tensorflow::grappler::VirtualScheduler "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/core/grappler/costs/virtual_scheduler.h'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>tensorflow</a>/<a href='../../..'>tensorflow</a>/<a href='../..'>core</a>/<a href='..'>grappler</a>/<a href='./'>costs</a>/<a href='virtual_scheduler.h.html'>virtual_scheduler.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2017 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">ifndef</span> <span class="macro" data-ref="_M/TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_">TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_</span></u></td></tr>
<tr><th id="17">17</th><td><u>#define <dfn class="macro" id="_M/TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_" data-ref="_M/TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_">TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_</dfn></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../include/c++/5/list.html">&lt;list&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../../include/c++/5/memory.html">&lt;memory&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../../include/c++/5/unordered_map.html">&lt;unordered_map&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../../../include/c++/5/unordered_set.html">&lt;unordered_set&gt;</a></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#include "tensorflow/core/framework/node_def.pb.h"</u></td></tr>
<tr><th id="25">25</th><td><u>#include "tensorflow/core/framework/step_stats.pb.h"</u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="cost_estimator.h.html">"tensorflow/core/grappler/costs/cost_estimator.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="graph_properties.h.html">"tensorflow/core/grappler/costs/graph_properties.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="op_context.h.html">"tensorflow/core/grappler/costs/op_context.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="virtual_placer.h.html">"tensorflow/core/grappler/costs/virtual_placer.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../grappler_item.h.html">"tensorflow/core/grappler/grappler_item.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><b>namespace</b> <span class="namespace">tensorflow</span> {</td></tr>
<tr><th id="33">33</th><td><b>namespace</b> <span class="namespace">grappler</span> {</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><b>struct</b> <dfn class="type def" id="tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</dfn> {</td></tr>
<tr><th id="36">36</th><td>  <i>// A node (i.e., an op) takes a set of input:port pairs and produces</i></td></tr>
<tr><th id="37">37</th><td><i>  // a set of output ports.</i></td></tr>
<tr><th id="38">38</th><td><i></i></td></tr>
<tr><th id="39">39</th><td><i>  // Cross references to input and output nodes from graphdef.</i></td></tr>
<tr><th id="40">40</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>int</em>&gt;&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::inputs" title='tensorflow::grappler::NodeState::inputs' data-ref="tensorflow::grappler::NodeState::inputs">inputs</dfn>;  <i>// Input, port pairs.</i></td></tr>
<tr><th id="41">41</th><td>  <i>// List of output nodes (a list of nodes that takes this output port as input)</i></td></tr>
<tr><th id="42">42</th><td><i>  // keyed by port_num. Note that port_num -1 is used for control dependency.</i></td></tr>
<tr><th id="43">43</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>int</em>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt;&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::outputs" title='tensorflow::grappler::NodeState::outputs' data-ref="tensorflow::grappler::NodeState::outputs">outputs</dfn>;</td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td>  <i>// Info from GraphProperties.</i></td></tr>
<tr><th id="46">46</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class='type' title='tensorflow::OpInfo' data-ref="tensorflow::OpInfo">OpInfo</span>::<span class='typedef' title='tensorflow::OpInfo::TensorProperties' data-type='tensorflow::OpInfo_TensorProperties' data-ref="tensorflow::OpInfo::TensorProperties">TensorProperties</span>&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::input_properties" title='tensorflow::grappler::NodeState::input_properties' data-ref="tensorflow::grappler::NodeState::input_properties">input_properties</dfn>;</td></tr>
<tr><th id="47">47</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class='type' title='tensorflow::OpInfo' data-ref="tensorflow::OpInfo">OpInfo</span>::<span class='typedef' title='tensorflow::OpInfo::TensorProperties' data-type='tensorflow::OpInfo_TensorProperties' data-ref="tensorflow::OpInfo::TensorProperties">TensorProperties</span>&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::output_properties" title='tensorflow::grappler::NodeState::output_properties' data-ref="tensorflow::grappler::NodeState::output_properties">output_properties</dfn>;</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td>  <i>// Canonical device name used within VirtualScheduler.</i></td></tr>
<tr><th id="50">50</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="tensorflow::grappler::NodeState::device_name" title='tensorflow::grappler::NodeState::device_name' data-ref="tensorflow::grappler::NodeState::device_name">device_name</dfn>;</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td>  <i>// States updated as scheduling nodes.</i></td></tr>
<tr><th id="53">53</th><td>  <em>int</em> <dfn class="decl" id="tensorflow::grappler::NodeState::num_inputs_ready" title='tensorflow::grappler::NodeState::num_inputs_ready' data-ref="tensorflow::grappler::NodeState::num_inputs_ready">num_inputs_ready</dfn>;</td></tr>
<tr><th id="54">54</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>int</em>, <em>int</em>&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::num_outputs_executed" title='tensorflow::grappler::NodeState::num_outputs_executed' data-ref="tensorflow::grappler::NodeState::num_outputs_executed">num_outputs_executed</dfn>;</td></tr>
<tr><th id="55">55</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a> <dfn class="decl" id="tensorflow::grappler::NodeState::time_ready" title='tensorflow::grappler::NodeState::time_ready' data-ref="tensorflow::grappler::NodeState::time_ready">time_ready</dfn>;</td></tr>
<tr><th id="56">56</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a> <dfn class="decl" id="tensorflow::grappler::NodeState::time_scheduled" title='tensorflow::grappler::NodeState::time_scheduled' data-ref="tensorflow::grappler::NodeState::time_scheduled">time_scheduled</dfn>;</td></tr>
<tr><th id="57">57</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a> <dfn class="decl" id="tensorflow::grappler::NodeState::time_finished" title='tensorflow::grappler::NodeState::time_finished' data-ref="tensorflow::grappler::NodeState::time_finished">time_finished</dfn>;</td></tr>
<tr><th id="58">58</th><td>  <i>// Time that all the consumers are executed (hence, no need to keep this</i></td></tr>
<tr><th id="59">59</th><td><i>  // output in memory), keyed by port_num.</i></td></tr>
<tr><th id="60">60</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>int</em>, <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a>&gt; <dfn class="decl" id="tensorflow::grappler::NodeState::time_no_references" title='tensorflow::grappler::NodeState::time_no_references' data-ref="tensorflow::grappler::NodeState::time_no_references">time_no_references</dfn>;</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td>  <i>// Note that a node may have multiple output ports. The length of outputs,</i></td></tr>
<tr><th id="63">63</th><td><i>  // num_outputs_executed, and time_no_references should be</i></td></tr>
<tr><th id="64">64</th><td><i>  // identical when a NodeState is fully initialized.</i></td></tr>
<tr><th id="65">65</th><td><i>  // They should be 1 + output_properties.size() as we add [-1] for control</i></td></tr>
<tr><th id="66">66</th><td><i>  // dependency.</i></td></tr>
<tr><th id="67">67</th><td><i></i></td></tr>
<tr><th id="68">68</th><td><i>  // Node will be ready to be executed at time_ready, scheduled at</i></td></tr>
<tr><th id="69">69</th><td><i>  // time_scheduled, and finishes execution at time_finished.</i></td></tr>
<tr><th id="70">70</th><td><i>  // Each output port uses up memory space from time_scheduled to its</i></td></tr>
<tr><th id="71">71</th><td><i>  // time_no_references.</i></td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>  <dfn class="decl def" id="_ZN10tensorflow8grappler9NodeStateC1Ev" title='tensorflow::grappler::NodeState::NodeState' data-ref="_ZN10tensorflow8grappler9NodeStateC1Ev">NodeState</dfn>() {</td></tr>
<tr><th id="74">74</th><td>    <a class="member" href="#tensorflow::grappler::NodeState::num_inputs_ready" title='tensorflow::grappler::NodeState::num_inputs_ready' data-ref="tensorflow::grappler::NodeState::num_inputs_ready">num_inputs_ready</a> = <var>0</var>;</td></tr>
<tr><th id="75">75</th><td>    <a class="member" href="#tensorflow::grappler::NodeState::time_ready" title='tensorflow::grappler::NodeState::time_ready' data-ref="tensorflow::grappler::NodeState::time_ready">time_ready</a> <a class="ref" href="cost_estimator.h.html#_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE" title='tensorflow::grappler::Costs::NanoSeconds::operator=' data-ref="_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE">=</a> <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a>::<a class="ref" href="../../../../../include/c++/5/chrono.html#_ZNSt6chrono8duration3maxEv" title='std::chrono::duration::max' data-ref="_ZNSt6chrono8duration3maxEv">max</a>();</td></tr>
<tr><th id="76">76</th><td>    <a class="member" href="#tensorflow::grappler::NodeState::time_scheduled" title='tensorflow::grappler::NodeState::time_scheduled' data-ref="tensorflow::grappler::NodeState::time_scheduled">time_scheduled</a> <a class="ref" href="cost_estimator.h.html#_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE" title='tensorflow::grappler::Costs::NanoSeconds::operator=' data-ref="_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE">=</a> <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a>::<a class="ref" href="../../../../../include/c++/5/chrono.html#_ZNSt6chrono8duration3maxEv" title='std::chrono::duration::max' data-ref="_ZNSt6chrono8duration3maxEv">max</a>();</td></tr>
<tr><th id="77">77</th><td>    <a class="member" href="#tensorflow::grappler::NodeState::time_finished" title='tensorflow::grappler::NodeState::time_finished' data-ref="tensorflow::grappler::NodeState::time_finished">time_finished</a> <a class="ref" href="cost_estimator.h.html#_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE" title='tensorflow::grappler::Costs::NanoSeconds::operator=' data-ref="_ZN10tensorflow8grappler5Costs11NanoSecondsaSERKNSt6chrono8durationIlSt5ratioILl1ELl1000000000EEEE">=</a> <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a>::<a class="ref" href="../../../../../include/c++/5/chrono.html#_ZNSt6chrono8duration3maxEv" title='std::chrono::duration::max' data-ref="_ZNSt6chrono8duration3maxEv">max</a>();</td></tr>
<tr><th id="78">78</th><td>    <i>// Note that num_outputs_executed and time_no_references are not initialized</i></td></tr>
<tr><th id="79">79</th><td><i>    // here, since we don't know the size (i.e., # outputs for this node).</i></td></tr>
<tr><th id="80">80</th><td>  }</td></tr>
<tr><th id="81">81</th><td>};</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><b>struct</b> <dfn class="type def" id="tensorflow::grappler::DeviceState" title='tensorflow::grappler::DeviceState' data-ref="tensorflow::grappler::DeviceState">DeviceState</dfn> {</td></tr>
<tr><th id="84">84</th><td>  <i>// Nodes executed on this device in execution order.</i></td></tr>
<tr><th id="85">85</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="tensorflow::grappler::DeviceState::nodes_executed" title='tensorflow::grappler::DeviceState::nodes_executed' data-ref="tensorflow::grappler::DeviceState::nodes_executed">nodes_executed</dfn>;</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>  <b>struct</b> <dfn class="type def" id="tensorflow::grappler::DeviceState::NodePairHash" title='tensorflow::grappler::DeviceState::NodePairHash' data-ref="tensorflow::grappler::DeviceState::NodePairHash">NodePairHash</dfn> {</td></tr>
<tr><th id="88">88</th><td>   <b>public</b>:</td></tr>
<tr><th id="89">89</th><td>    <em>const</em> <span class="namespace">std::</span><a class="typedef" href="../../../../../include/x86_64-linux-gnu/c++/5/bits/c++config.h.html#std::size_t" title='std::size_t' data-type='unsigned long' data-ref="std::size_t">size_t</a> <dfn class="decl def" id="_ZNK10tensorflow8grappler11DeviceState12NodePairHashclERKSt4pairIPKNS_7NodeDefEiE" title='tensorflow::grappler::DeviceState::NodePairHash::operator()' data-ref="_ZNK10tensorflow8grappler11DeviceState12NodePairHashclERKSt4pairIPKNS_7NodeDefEiE"><b>operator</b>()</dfn>(</td></tr>
<tr><th id="90">90</th><td>        <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>int</em>&gt;&amp; <dfn class="local col7 decl" id="187element" title='element' data-type='const std::pair&lt;const NodeDef *, int&gt; &amp;' data-ref="187element">element</dfn>) <em>const</em> {</td></tr>
<tr><th id="91">91</th><td>      <b>return</b> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/functional_hash.h.html#std::hash" title='std::hash' data-ref="std::hash">hash</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt;<a class="ref" href="../../../../../include/c++/5/bits/functional_hash.h.html#62" title='std::hash&lt;const tensorflow::NodeDef *&gt;::hash' data-ref="_ZNSt4hashIPKN10tensorflow7NodeDefEEC1Ev">(</a>)<a class="ref" href="../../../../../include/c++/5/bits/functional_hash.h.html#_ZNKSt4hashIPT_EclES1_" title='std::hash&lt;type-parameter-0-0 *&gt;::operator()' data-ref="_ZNKSt4hashIPT_EclES1_">(<a class="local col7 ref" href="#187element" title='element' data-ref="187element">element</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;const tensorflow::NodeDef *, int&gt;::first' data-ref="std::pair::first">first</a>)</a>;</td></tr>
<tr><th id="92">92</th><td>    }</td></tr>
<tr><th id="93">93</th><td>  };</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td>  <i>// Nodes currently allocated in memory: set of NodeDef* and port_num pairs</i></td></tr>
<tr><th id="96">96</th><td><i>  // so that we can track which output of the node is in memory.</i></td></tr>
<tr><th id="97">97</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_set.h.html#std::unordered_set" title='std::unordered_set' data-ref="std::unordered_set">unordered_set</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>int</em>&gt;, <a class="type" href="#tensorflow::grappler::DeviceState::NodePairHash" title='tensorflow::grappler::DeviceState::NodePairHash' data-ref="tensorflow::grappler::DeviceState::NodePairHash">NodePairHash</a>&gt;</td></tr>
<tr><th id="98">98</th><td>      <dfn class="decl" id="tensorflow::grappler::DeviceState::nodes_in_memory" title='tensorflow::grappler::DeviceState::nodes_in_memory' data-ref="tensorflow::grappler::DeviceState::nodes_in_memory">nodes_in_memory</dfn>;</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td>  <i>// Nodes allocated in memory persistently: e.g., Variables.</i></td></tr>
<tr><th id="101">101</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_set.h.html#std::unordered_set" title='std::unordered_set' data-ref="std::unordered_set">unordered_set</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>int</em>&gt;, <a class="type" href="#tensorflow::grappler::DeviceState::NodePairHash" title='tensorflow::grappler::DeviceState::NodePairHash' data-ref="tensorflow::grappler::DeviceState::NodePairHash">NodePairHash</a>&gt;</td></tr>
<tr><th id="102">102</th><td>      <dfn class="decl" id="tensorflow::grappler::DeviceState::persistent_nodes" title='tensorflow::grappler::DeviceState::persistent_nodes' data-ref="tensorflow::grappler::DeviceState::persistent_nodes">persistent_nodes</dfn>;</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td>  <i>// Snapshot of nodes_in_memory, when memory usage is at peak.</i></td></tr>
<tr><th id="105">105</th><td><i>  // Same to nodes_in_memory, it's a set of NodeDef* and port_num pairs.</i></td></tr>
<tr><th id="106">106</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_set.h.html#std::unordered_set" title='std::unordered_set' data-ref="std::unordered_set">unordered_set</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>int</em>&gt;, <a class="type" href="#tensorflow::grappler::DeviceState::NodePairHash" title='tensorflow::grappler::DeviceState::NodePairHash' data-ref="tensorflow::grappler::DeviceState::NodePairHash">NodePairHash</a>&gt;</td></tr>
<tr><th id="107">107</th><td>      <dfn class="decl" id="tensorflow::grappler::DeviceState::mem_usage_snapshot_at_peak" title='tensorflow::grappler::DeviceState::mem_usage_snapshot_at_peak' data-ref="tensorflow::grappler::DeviceState::mem_usage_snapshot_at_peak">mem_usage_snapshot_at_peak</dfn>;</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a> <dfn class="decl" id="tensorflow::grappler::DeviceState::device_costs" title='tensorflow::grappler::DeviceState::device_costs' data-ref="tensorflow::grappler::DeviceState::device_costs">device_costs</dfn>;</td></tr>
<tr><th id="110">110</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>&gt; <dfn class="decl" id="tensorflow::grappler::DeviceState::op_to_cost" title='tensorflow::grappler::DeviceState::op_to_cost' data-ref="tensorflow::grappler::DeviceState::op_to_cost">op_to_cost</dfn>;    <i>// Per-op cost.</i></td></tr>
<tr><th id="111">111</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="typedef" href="../../platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="decl" id="tensorflow::grappler::DeviceState::op_to_memory" title='tensorflow::grappler::DeviceState::op_to_memory' data-ref="tensorflow::grappler::DeviceState::op_to_memory">op_to_memory</dfn>;  <i>// Per-op memory usage at peak usage.</i></td></tr>
<tr><th id="112">112</th><td>  <a class="typedef" href="../../platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="tensorflow::grappler::DeviceState::memory_usage" title='tensorflow::grappler::DeviceState::memory_usage' data-ref="tensorflow::grappler::DeviceState::memory_usage">memory_usage</dfn>;</td></tr>
<tr><th id="113">113</th><td>  <a class="typedef" href="../../platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="tensorflow::grappler::DeviceState::max_memory_usage" title='tensorflow::grappler::DeviceState::max_memory_usage' data-ref="tensorflow::grappler::DeviceState::max_memory_usage">max_memory_usage</dfn>;</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td>  <dfn class="decl def" id="_ZN10tensorflow8grappler11DeviceStateC1Ev" title='tensorflow::grappler::DeviceState::DeviceState' data-ref="_ZN10tensorflow8grappler11DeviceStateC1Ev">DeviceState</dfn>() {</td></tr>
<tr><th id="116">116</th><td>    <a class="member" href="#tensorflow::grappler::DeviceState::device_costs" title='tensorflow::grappler::DeviceState::device_costs' data-ref="tensorflow::grappler::DeviceState::device_costs">device_costs</a> <a class="ref" href="cost_estimator.h.html#36" title='tensorflow::grappler::Costs::operator=' data-ref="_ZN10tensorflow8grappler5CostsaSEOS1_">=</a> <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="ref" href="cost_estimator.h.html#_ZN10tensorflow8grappler5Costs9ZeroCostsEv" title='tensorflow::grappler::Costs::ZeroCosts' data-ref="_ZN10tensorflow8grappler5Costs9ZeroCostsEv">ZeroCosts</a>();</td></tr>
<tr><th id="117">117</th><td>    <a class="member" href="#tensorflow::grappler::DeviceState::memory_usage" title='tensorflow::grappler::DeviceState::memory_usage' data-ref="tensorflow::grappler::DeviceState::memory_usage">memory_usage</a> = <var>0</var>;</td></tr>
<tr><th id="118">118</th><td>    <a class="member" href="#tensorflow::grappler::DeviceState::max_memory_usage" title='tensorflow::grappler::DeviceState::max_memory_usage' data-ref="tensorflow::grappler::DeviceState::max_memory_usage">max_memory_usage</a> = <var>0</var>;</td></tr>
<tr><th id="119">119</th><td>  }</td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>::<a class="typedef" href="cost_estimator.h.html#tensorflow::grappler::Costs::Duration" title='tensorflow::grappler::Costs::Duration' data-type='tensorflow::grappler::Costs::NanoSeconds' data-ref="tensorflow::grappler::Costs::Duration">Duration</a> <dfn class="decl def" id="_ZNK10tensorflow8grappler11DeviceState11GetCurrTimeEv" title='tensorflow::grappler::DeviceState::GetCurrTime' data-ref="_ZNK10tensorflow8grappler11DeviceState11GetCurrTimeEv">GetCurrTime</dfn>() <em>const</em> { <b>return</b> <a class="ref fake" href="cost_estimator.h.html#66" title='tensorflow::grappler::Costs::NanoSeconds::NanoSeconds' data-ref="_ZN10tensorflow8grappler5Costs11NanoSecondsC1ERKS2_"></a><a class="member" href="#tensorflow::grappler::DeviceState::device_costs" title='tensorflow::grappler::DeviceState::device_costs' data-ref="tensorflow::grappler::DeviceState::device_costs">device_costs</a>.<a class="ref" href="cost_estimator.h.html#tensorflow::grappler::Costs::execution_time" title='tensorflow::grappler::Costs::execution_time' data-ref="tensorflow::grappler::Costs::execution_time">execution_time</a>; }</td></tr>
<tr><th id="122">122</th><td>};</td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td><i>// ReadyNodeManager (abstract class):</i></td></tr>
<tr><th id="125">125</th><td><i>// Keeps ready nodes and picks the best one to be scheduled.</i></td></tr>
<tr><th id="126">126</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</dfn> {</td></tr>
<tr><th id="127">127</th><td> <b>public</b>:</td></tr>
<tr><th id="128">128</th><td>  <dfn class="decl def" id="_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev" title='tensorflow::grappler::ReadyNodeManager::ReadyNodeManager' data-ref="_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev">ReadyNodeManager</dfn>() {}</td></tr>
<tr><th id="129">129</th><td>  <b>virtual</b> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler16ReadyNodeManagerD1Ev" title='tensorflow::grappler::ReadyNodeManager::~ReadyNodeManager' data-ref="_ZN10tensorflow8grappler16ReadyNodeManagerD1Ev">~ReadyNodeManager</dfn>() {}</td></tr>
<tr><th id="130">130</th><td>  <b>virtual</b> <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler16ReadyNodeManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE" title='tensorflow::grappler::ReadyNodeManager::Init' data-ref="_ZN10tensorflow8grappler16ReadyNodeManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE">Init</dfn>(</td></tr>
<tr><th id="131">131</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="local col8 decl" id="188node_state" title='node_state' data-type='const std::unordered_map&lt;const NodeDef *, NodeState&gt; *' data-ref="188node_state">node_state</dfn>) {}</td></tr>
<tr><th id="132">132</th><td>  <b>virtual</b> <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler16ReadyNodeManager7AddNodeEPKNS_7NodeDefE" title='tensorflow::grappler::ReadyNodeManager::AddNode' data-ref="_ZN10tensorflow8grappler16ReadyNodeManager7AddNodeEPKNS_7NodeDefE">AddNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col9 decl" id="189node" title='node' data-type='const tensorflow::NodeDef *' data-ref="189node">node</dfn>) = <var>0</var>;</td></tr>
<tr><th id="133">133</th><td>  <b>virtual</b> <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="virtual decl" id="_ZN10tensorflow8grappler16ReadyNodeManager11GetCurrNodeEv" title='tensorflow::grappler::ReadyNodeManager::GetCurrNode' data-ref="_ZN10tensorflow8grappler16ReadyNodeManager11GetCurrNodeEv">GetCurrNode</dfn>() = <var>0</var>;</td></tr>
<tr><th id="134">134</th><td>  <b>virtual</b> <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler16ReadyNodeManager14RemoveCurrNodeEv" title='tensorflow::grappler::ReadyNodeManager::RemoveCurrNode' data-ref="_ZN10tensorflow8grappler16ReadyNodeManager14RemoveCurrNodeEv">RemoveCurrNode</dfn>() = <var>0</var>;</td></tr>
<tr><th id="135">135</th><td>  <b>virtual</b> <em>bool</em> <dfn class="virtual decl" id="_ZNK10tensorflow8grappler16ReadyNodeManager5EmptyEv" title='tensorflow::grappler::ReadyNodeManager::Empty' data-ref="_ZNK10tensorflow8grappler16ReadyNodeManager5EmptyEv">Empty</dfn>() <em>const</em> = <var>0</var>;</td></tr>
<tr><th id="136">136</th><td>};</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::FIFOManager" title='tensorflow::grappler::FIFOManager' data-ref="tensorflow::grappler::FIFOManager">FIFOManager</dfn> : <b>public</b> <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a> {</td></tr>
<tr><th id="139">139</th><td> <b>public</b>:</td></tr>
<tr><th id="140">140</th><td>  <dfn class="decl def" id="_ZN10tensorflow8grappler11FIFOManagerC1Ev" title='tensorflow::grappler::FIFOManager::FIFOManager' data-ref="_ZN10tensorflow8grappler11FIFOManagerC1Ev">FIFOManager</dfn>() : <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a><a class="ref" href="#_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev" title='tensorflow::grappler::ReadyNodeManager::ReadyNodeManager' data-ref="_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev">(</a>) {}</td></tr>
<tr><th id="141">141</th><td>  <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11FIFOManagerD1Ev" title='tensorflow::grappler::FIFOManager::~FIFOManager' data-ref="_ZN10tensorflow8grappler11FIFOManagerD1Ev">~FIFOManager</dfn>() override {}</td></tr>
<tr><th id="142">142</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11FIFOManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE" title='tensorflow::grappler::FIFOManager::Init' data-ref="_ZN10tensorflow8grappler11FIFOManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE">Init</dfn>(<em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="local col0 decl" id="190node_state" title='node_state' data-type='const std::unordered_map&lt;const NodeDef *, NodeState&gt; *' data-ref="190node_state">node_state</dfn>)</td></tr>
<tr><th id="143">143</th><td>      override {}</td></tr>
<tr><th id="144">144</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11FIFOManager7AddNodeEPKNS_7NodeDefE" title='tensorflow::grappler::FIFOManager::AddNode' data-ref="_ZN10tensorflow8grappler11FIFOManager7AddNodeEPKNS_7NodeDefE">AddNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col1 decl" id="191node" title='node' data-type='const tensorflow::NodeDef *' data-ref="191node">node</dfn>) override { <a class="member" href="#tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNSt4list9push_backERKT_" title='std::list::push_back' data-ref="_ZNSt4list9push_backERKT_">push_back</a>(<a class="local col1 ref" href="#191node" title='node' data-ref="191node">node</a>); }</td></tr>
<tr><th id="145">145</th><td>  <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11FIFOManager11GetCurrNodeEv" title='tensorflow::grappler::FIFOManager::GetCurrNode' data-ref="_ZN10tensorflow8grappler11FIFOManager11GetCurrNodeEv">GetCurrNode</dfn>() override {</td></tr>
<tr><th id="146">146</th><td>    <a class="macro" href="../../platform/default/logging.h.html#97" title="if ((__builtin_expect(!(!nodes_.empty()), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/./tensorflow/core/grappler/costs/virtual_scheduler.h&quot;, 146) &lt;&lt; &quot;Check failed: &quot; &quot;!nodes_.empty()&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(!<a class="member" href="#tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNKSt4list5emptyEv" title='std::list::empty' data-ref="_ZNKSt4list5emptyEv">empty</a>()) <a class="ref" href="../../../../../include/c++/5/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"GetCurrNode(), but there's no ready node"</q>;</td></tr>
<tr><th id="147">147</th><td>    <b>return</b> <a class="member" href="#tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNSt4list5frontEv" title='std::list::front' data-ref="_ZNSt4list5frontEv">front</a>();</td></tr>
<tr><th id="148">148</th><td>  }</td></tr>
<tr><th id="149">149</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11FIFOManager14RemoveCurrNodeEv" title='tensorflow::grappler::FIFOManager::RemoveCurrNode' data-ref="_ZN10tensorflow8grappler11FIFOManager14RemoveCurrNodeEv">RemoveCurrNode</dfn>() override { <a class="member" href="#tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNSt4list9pop_frontEv" title='std::list::pop_front' data-ref="_ZNSt4list9pop_frontEv">pop_front</a>(); }</td></tr>
<tr><th id="150">150</th><td>  <em>bool</em> <dfn class="virtual decl def" id="_ZNK10tensorflow8grappler11FIFOManager5EmptyEv" title='tensorflow::grappler::FIFOManager::Empty' data-ref="_ZNK10tensorflow8grappler11FIFOManager5EmptyEv">Empty</dfn>() <em>const</em> override { <b>return</b> <a class="member" href="#tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNKSt4list5emptyEv" title='std::list::empty' data-ref="_ZNKSt4list5emptyEv">empty</a>(); }</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td> <b>private</b>:</td></tr>
<tr><th id="153">153</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_list.h.html#std::list" title='std::list' data-ref="std::list">list</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="tensorflow::grappler::FIFOManager::nodes_" title='tensorflow::grappler::FIFOManager::nodes_' data-ref="tensorflow::grappler::FIFOManager::nodes_">nodes_</dfn>;</td></tr>
<tr><th id="154">154</th><td>};</td></tr>
<tr><th id="155">155</th><td></td></tr>
<tr><th id="156">156</th><td><i>// The LIFOManager schedules nodes by returning the last one added to the</i></td></tr>
<tr><th id="157">157</th><td><i>// scheduler. A node is executed and then its ready outputs are newly added to</i></td></tr>
<tr><th id="158">158</th><td><i>// the scheduler, so the LIFOManager will return outputs to a node following</i></td></tr>
<tr><th id="159">159</th><td><i>// that node's execution.</i></td></tr>
<tr><th id="160">160</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::LIFOManager" title='tensorflow::grappler::LIFOManager' data-ref="tensorflow::grappler::LIFOManager">LIFOManager</dfn> : <b>public</b> <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a> {</td></tr>
<tr><th id="161">161</th><td> <b>public</b>:</td></tr>
<tr><th id="162">162</th><td>  <dfn class="decl def" id="_ZN10tensorflow8grappler11LIFOManagerC1Ev" title='tensorflow::grappler::LIFOManager::LIFOManager' data-ref="_ZN10tensorflow8grappler11LIFOManagerC1Ev">LIFOManager</dfn>() : <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a><a class="ref" href="#_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev" title='tensorflow::grappler::ReadyNodeManager::ReadyNodeManager' data-ref="_ZN10tensorflow8grappler16ReadyNodeManagerC1Ev">(</a>) {}</td></tr>
<tr><th id="163">163</th><td>  <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11LIFOManagerD1Ev" title='tensorflow::grappler::LIFOManager::~LIFOManager' data-ref="_ZN10tensorflow8grappler11LIFOManagerD1Ev">~LIFOManager</dfn>() override {}</td></tr>
<tr><th id="164">164</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11LIFOManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE" title='tensorflow::grappler::LIFOManager::Init' data-ref="_ZN10tensorflow8grappler11LIFOManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE">Init</dfn>(<em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="local col2 decl" id="192node_state" title='node_state' data-type='const std::unordered_map&lt;const NodeDef *, NodeState&gt; *' data-ref="192node_state">node_state</dfn>)</td></tr>
<tr><th id="165">165</th><td>      override {}</td></tr>
<tr><th id="166">166</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler11LIFOManager7AddNodeEPKNS_7NodeDefE" title='tensorflow::grappler::LIFOManager::AddNode' data-ref="_ZN10tensorflow8grappler11LIFOManager7AddNodeEPKNS_7NodeDefE">AddNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col3 decl" id="193node" title='node' data-type='const tensorflow::NodeDef *' data-ref="193node">node</dfn>) override { <a class="member" href="#tensorflow::grappler::LIFOManager::nodes_" title='tensorflow::grappler::LIFOManager::nodes_' data-ref="tensorflow::grappler::LIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNSt4list9push_backERKT_" title='std::list::push_back' data-ref="_ZNSt4list9push_backERKT_">push_back</a>(<a class="local col3 ref" href="#193node" title='node' data-ref="193node">node</a>); }</td></tr>
<tr><th id="167">167</th><td>  <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="virtual decl" id="_ZN10tensorflow8grappler11LIFOManager11GetCurrNodeEv" title='tensorflow::grappler::LIFOManager::GetCurrNode' data-ref="_ZN10tensorflow8grappler11LIFOManager11GetCurrNodeEv">GetCurrNode</dfn>() override;</td></tr>
<tr><th id="168">168</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler11LIFOManager14RemoveCurrNodeEv" title='tensorflow::grappler::LIFOManager::RemoveCurrNode' data-ref="_ZN10tensorflow8grappler11LIFOManager14RemoveCurrNodeEv">RemoveCurrNode</dfn>() override;</td></tr>
<tr><th id="169">169</th><td>  <em>bool</em> <dfn class="virtual decl def" id="_ZNK10tensorflow8grappler11LIFOManager5EmptyEv" title='tensorflow::grappler::LIFOManager::Empty' data-ref="_ZNK10tensorflow8grappler11LIFOManager5EmptyEv">Empty</dfn>() <em>const</em> override { <b>return</b> <a class="member" href="#tensorflow::grappler::LIFOManager::nodes_" title='tensorflow::grappler::LIFOManager::nodes_' data-ref="tensorflow::grappler::LIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNKSt4list5emptyEv" title='std::list::empty' data-ref="_ZNKSt4list5emptyEv">empty</a>(); }</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td> <b>private</b>:</td></tr>
<tr><th id="172">172</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_list.h.html#std::list" title='std::list' data-ref="std::list">list</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="tensorflow::grappler::LIFOManager::nodes_" title='tensorflow::grappler::LIFOManager::nodes_' data-ref="tensorflow::grappler::LIFOManager::nodes_">nodes_</dfn>;</td></tr>
<tr><th id="173">173</th><td>  <i>// Keep track of the current node being executed by saving its position.</i></td></tr>
<tr><th id="174">174</th><td><i>  // Necessary because nodes may be added to the end of the list while a node is</i></td></tr>
<tr><th id="175">175</th><td><i>  // executing, and we want to remove the correct node (the one that is</i></td></tr>
<tr><th id="176">176</th><td><i>  // executing) rather than the new ones being added.</i></td></tr>
<tr><th id="177">177</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_list.h.html#std::list" title='std::list' data-ref="std::list">list</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt;::<a class="typedef" href="../../../../../include/c++/5/bits/stl_list.h.html#std::list{consttensorflow::NodeDef*,std::allocator{consttensorflow::NodeDef*}}::iterator" title='std::list&lt;const tensorflow::NodeDef *, std::allocator&lt;const tensorflow::NodeDef *&gt; &gt;::iterator' data-type='_List_iterator&lt;const tensorflow::NodeDef *&gt;' data-ref="std::list{consttensorflow::NodeDef*,std::allocator{consttensorflow::NodeDef*}}::iterator">iterator</a> <dfn class="decl" id="tensorflow::grappler::LIFOManager::curr_pos_" title='tensorflow::grappler::LIFOManager::curr_pos_' data-ref="tensorflow::grappler::LIFOManager::curr_pos_">curr_pos_</dfn> = <a class="ref" href="#tensorflow::grappler::LIFOManager::nodes_" title='tensorflow::grappler::LIFOManager::nodes_' data-ref="tensorflow::grappler::LIFOManager::nodes_">nodes_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_list.h.html#_ZNSt4list3endEv" title='std::list::end' data-ref="_ZNSt4list3endEv">end</a>();</td></tr>
<tr><th id="178">178</th><td>};</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td><i>// FirstReadyManager picks a node with the minimum time_ready value.</i></td></tr>
<tr><th id="181">181</th><td><i>// Behavior is unknown if there are more than one nodes with the minimum</i></td></tr>
<tr><th id="182">182</th><td><i>// time_ready value (it depends on C++ STL push_heap and pop_heap).</i></td></tr>
<tr><th id="183">183</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::FirstReadyManager" title='tensorflow::grappler::FirstReadyManager' data-ref="tensorflow::grappler::FirstReadyManager">FirstReadyManager</dfn> : <b>public</b> <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a> {</td></tr>
<tr><th id="184">184</th><td> <b>public</b>:</td></tr>
<tr><th id="185">185</th><td>  <dfn class="decl" id="_ZN10tensorflow8grappler17FirstReadyManagerC1Ev" title='tensorflow::grappler::FirstReadyManager::FirstReadyManager' data-ref="_ZN10tensorflow8grappler17FirstReadyManagerC1Ev">FirstReadyManager</dfn>();</td></tr>
<tr><th id="186">186</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler17FirstReadyManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE" title='tensorflow::grappler::FirstReadyManager::Init' data-ref="_ZN10tensorflow8grappler17FirstReadyManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE">Init</dfn>(</td></tr>
<tr><th id="187">187</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="local col4 decl" id="194node_state" title='node_state' data-type='const std::unordered_map&lt;const NodeDef *, NodeState&gt; *' data-ref="194node_state">node_state</dfn>) override;</td></tr>
<tr><th id="188">188</th><td>  <dfn class="virtual decl def" id="_ZN10tensorflow8grappler17FirstReadyManagerD1Ev" title='tensorflow::grappler::FirstReadyManager::~FirstReadyManager' data-ref="_ZN10tensorflow8grappler17FirstReadyManagerD1Ev">~FirstReadyManager</dfn>() override {}</td></tr>
<tr><th id="189">189</th><td>  <em>void</em> <dfn class="virtual decl def" id="_ZN10tensorflow8grappler17FirstReadyManager7AddNodeEPKNS_7NodeDefE" title='tensorflow::grappler::FirstReadyManager::AddNode' data-ref="_ZN10tensorflow8grappler17FirstReadyManager7AddNodeEPKNS_7NodeDefE">AddNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col5 decl" id="195node" title='node' data-type='const tensorflow::NodeDef *' data-ref="195node">node</dfn>) override { <a class="member" href="#tensorflow::grappler::FirstReadyManager::waiting_queue_" title='tensorflow::grappler::FirstReadyManager::waiting_queue_' data-ref="tensorflow::grappler::FirstReadyManager::waiting_queue_">waiting_queue_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col5 ref" href="#195node" title='node' data-ref="195node">node</a>); }</td></tr>
<tr><th id="190">190</th><td>  <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="virtual decl" id="_ZN10tensorflow8grappler17FirstReadyManager11GetCurrNodeEv" title='tensorflow::grappler::FirstReadyManager::GetCurrNode' data-ref="_ZN10tensorflow8grappler17FirstReadyManager11GetCurrNodeEv">GetCurrNode</dfn>() override;</td></tr>
<tr><th id="191">191</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler17FirstReadyManager14RemoveCurrNodeEv" title='tensorflow::grappler::FirstReadyManager::RemoveCurrNode' data-ref="_ZN10tensorflow8grappler17FirstReadyManager14RemoveCurrNodeEv">RemoveCurrNode</dfn>() override;</td></tr>
<tr><th id="192">192</th><td>  <em>bool</em> <dfn class="virtual decl" id="_ZNK10tensorflow8grappler17FirstReadyManager5EmptyEv" title='tensorflow::grappler::FirstReadyManager::Empty' data-ref="_ZNK10tensorflow8grappler17FirstReadyManager5EmptyEv">Empty</dfn>() <em>const</em> override;</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td> <b>private</b>:</td></tr>
<tr><th id="195">195</th><td>  <i>// Move all the nodes in the waiting_queue_ to nodes_.</i></td></tr>
<tr><th id="196">196</th><td>  <em>void</em> <dfn class="decl" id="_ZN10tensorflow8grappler17FirstReadyManager17DrainWaitingQueueEv" title='tensorflow::grappler::FirstReadyManager::DrainWaitingQueue' data-ref="_ZN10tensorflow8grappler17FirstReadyManager17DrainWaitingQueueEv">DrainWaitingQueue</dfn>();</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td>  <i>// nodes_ is the main queue, where we construct heap, and the front is the</i></td></tr>
<tr><th id="199">199</th><td><i>  // current node.</i></td></tr>
<tr><th id="200">200</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="tensorflow::grappler::FirstReadyManager::nodes_" title='tensorflow::grappler::FirstReadyManager::nodes_' data-ref="tensorflow::grappler::FirstReadyManager::nodes_">nodes_</dfn>;</td></tr>
<tr><th id="201">201</th><td>  <i>// Newly added nodes are added to waiting_queue_. That way, GetCurrNode(),</i></td></tr>
<tr><th id="202">202</th><td><i>  // wihch returns the front of the nodes_, always returns the same node,</i></td></tr>
<tr><th id="203">203</th><td><i>  // even if any of new nodes has time_ready smaller than the current node's.</i></td></tr>
<tr><th id="204">204</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="tensorflow::grappler::FirstReadyManager::waiting_queue_" title='tensorflow::grappler::FirstReadyManager::waiting_queue_' data-ref="tensorflow::grappler::FirstReadyManager::waiting_queue_">waiting_queue_</dfn>;</td></tr>
<tr><th id="205">205</th><td>  <i>// Comparator functor for heap; stl heap is max heap, so we use "greater than"</i></td></tr>
<tr><th id="206">206</th><td><i>  // functor for keeping the smallest time_ready node at the front of heap.</i></td></tr>
<tr><th id="207">207</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/functional.html#std::function" title='std::function' data-ref="std::function">function</a>&lt;<em>bool</em>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*)&gt; <dfn class="decl" id="tensorflow::grappler::FirstReadyManager::greater_" title='tensorflow::grappler::FirstReadyManager::greater_' data-ref="tensorflow::grappler::FirstReadyManager::greater_">greater_</dfn>;</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>  <i>// NodeState structure from VirtualScheduler to get time_ready of ready nodes.</i></td></tr>
<tr><th id="210">210</th><td><i>  // Not owned by FirstReadyManager.</i></td></tr>
<tr><th id="211">211</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="decl" id="tensorflow::grappler::FirstReadyManager::node_state_" title='tensorflow::grappler::FirstReadyManager::node_state_' data-ref="tensorflow::grappler::FirstReadyManager::node_state_">node_state_</dfn>;</td></tr>
<tr><th id="212">212</th><td>};</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td><i>// CompositeNodeManager has a few other NodeManagers: per-device LIFO for normal</i></td></tr>
<tr><th id="215">215</th><td><i>// ops (neither _Send nor _Recv) and FirstyReadyManagers for _Send ops and _Recv</i></td></tr>
<tr><th id="216">216</th><td><i>// ops, and then it chooses FirstReady among the ops chosen from each</i></td></tr>
<tr><th id="217">217</th><td><i>// internal NodeManagers. The objective is to maximize producer-consumer</i></td></tr>
<tr><th id="218">218</th><td><i>// locality within device, while processing nodes across devices, including</i></td></tr>
<tr><th id="219">219</th><td><i>// _Send and _Recv, fairly, in terms of their time_ready.</i></td></tr>
<tr><th id="220">220</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::CompositeNodeManager" title='tensorflow::grappler::CompositeNodeManager' data-ref="tensorflow::grappler::CompositeNodeManager">CompositeNodeManager</dfn> : <b>public</b> <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a> {</td></tr>
<tr><th id="221">221</th><td> <b>public</b>:</td></tr>
<tr><th id="222">222</th><td>  <dfn class="decl" id="_ZN10tensorflow8grappler20CompositeNodeManagerC1Ev" title='tensorflow::grappler::CompositeNodeManager::CompositeNodeManager' data-ref="_ZN10tensorflow8grappler20CompositeNodeManagerC1Ev">CompositeNodeManager</dfn>();</td></tr>
<tr><th id="223">223</th><td>  <dfn class="virtual decl def" id="_ZN10tensorflow8grappler20CompositeNodeManagerD1Ev" title='tensorflow::grappler::CompositeNodeManager::~CompositeNodeManager' data-ref="_ZN10tensorflow8grappler20CompositeNodeManagerD1Ev">~CompositeNodeManager</dfn>() override {}</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler20CompositeNodeManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE" title='tensorflow::grappler::CompositeNodeManager::Init' data-ref="_ZN10tensorflow8grappler20CompositeNodeManager4InitEPKSt13unordered_mapIPKNS_7NodeDefENS0_9NodeStateESt4hashIS5_ESt8equal_toIS5_ESaISt4pairIKS5_S6_EEE">Init</dfn>(</td></tr>
<tr><th id="226">226</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="local col6 decl" id="196node_state" title='node_state' data-type='const std::unordered_map&lt;const NodeDef *, NodeState&gt; *' data-ref="196node_state">node_state</dfn>) override;</td></tr>
<tr><th id="227">227</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler20CompositeNodeManager7AddNodeEPKNS_7NodeDefE" title='tensorflow::grappler::CompositeNodeManager::AddNode' data-ref="_ZN10tensorflow8grappler20CompositeNodeManager7AddNodeEPKNS_7NodeDefE">AddNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col7 decl" id="197node" title='node' data-type='const tensorflow::NodeDef *' data-ref="197node">node</dfn>) override;</td></tr>
<tr><th id="228">228</th><td>  <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="virtual decl" id="_ZN10tensorflow8grappler20CompositeNodeManager11GetCurrNodeEv" title='tensorflow::grappler::CompositeNodeManager::GetCurrNode' data-ref="_ZN10tensorflow8grappler20CompositeNodeManager11GetCurrNodeEv">GetCurrNode</dfn>() override;</td></tr>
<tr><th id="229">229</th><td>  <em>void</em> <dfn class="virtual decl" id="_ZN10tensorflow8grappler20CompositeNodeManager14RemoveCurrNodeEv" title='tensorflow::grappler::CompositeNodeManager::RemoveCurrNode' data-ref="_ZN10tensorflow8grappler20CompositeNodeManager14RemoveCurrNodeEv">RemoveCurrNode</dfn>() override;</td></tr>
<tr><th id="230">230</th><td>  <em>bool</em> <dfn class="virtual decl" id="_ZNK10tensorflow8grappler20CompositeNodeManager5EmptyEv" title='tensorflow::grappler::CompositeNodeManager::Empty' data-ref="_ZNK10tensorflow8grappler20CompositeNodeManager5EmptyEv">Empty</dfn>() <em>const</em> override;</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td> <b>private</b>:</td></tr>
<tr><th id="233">233</th><td>  <i>// Internal ready node managers:</i></td></tr>
<tr><th id="234">234</th><td><i>  // LIFO for normal ops to maximize producer consumer locality.</i></td></tr>
<tr><th id="235">235</th><td><i>  // One LIFO per device.</i></td></tr>
<tr><th id="236">236</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="#tensorflow::grappler::LIFOManager" title='tensorflow::grappler::LIFOManager' data-ref="tensorflow::grappler::LIFOManager">LIFOManager</a>&gt; <dfn class="decl" id="tensorflow::grappler::CompositeNodeManager::ops_lifo_map_" title='tensorflow::grappler::CompositeNodeManager::ops_lifo_map_' data-ref="tensorflow::grappler::CompositeNodeManager::ops_lifo_map_">ops_lifo_map_</dfn>;</td></tr>
<tr><th id="237">237</th><td>  <i>// FirstReady for send and recv. Handle send and recv separately ensures that</i></td></tr>
<tr><th id="238">238</th><td><i>  // send and recv do not block previously read ops with LIFO schedule.</i></td></tr>
<tr><th id="239">239</th><td>  <a class="type" href="#tensorflow::grappler::FirstReadyManager" title='tensorflow::grappler::FirstReadyManager' data-ref="tensorflow::grappler::FirstReadyManager">FirstReadyManager</a> <dfn class="decl" id="tensorflow::grappler::CompositeNodeManager::send_manager_" title='tensorflow::grappler::CompositeNodeManager::send_manager_' data-ref="tensorflow::grappler::CompositeNodeManager::send_manager_">send_manager_</dfn>;</td></tr>
<tr><th id="240">240</th><td>  <a class="type" href="#tensorflow::grappler::FirstReadyManager" title='tensorflow::grappler::FirstReadyManager' data-ref="tensorflow::grappler::FirstReadyManager">FirstReadyManager</a> <dfn class="decl" id="tensorflow::grappler::CompositeNodeManager::recv_manager_" title='tensorflow::grappler::CompositeNodeManager::recv_manager_' data-ref="tensorflow::grappler::CompositeNodeManager::recv_manager_">recv_manager_</dfn>;</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td>  <i>// NodeState structure from VirtualScheduler to get time_ready of ready nodes.</i></td></tr>
<tr><th id="243">243</th><td><i>  // Not owned by FirstReadyManager.</i></td></tr>
<tr><th id="244">244</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="decl" id="tensorflow::grappler::CompositeNodeManager::node_state_" title='tensorflow::grappler::CompositeNodeManager::node_state_' data-ref="tensorflow::grappler::CompositeNodeManager::node_state_">node_state_</dfn>;</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td>  <i>// Cached curr node. Set back to nullptr from RemoveCurrNode().</i></td></tr>
<tr><th id="247">247</th><td>  <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="decl" id="tensorflow::grappler::CompositeNodeManager::curr_node_" title='tensorflow::grappler::CompositeNodeManager::curr_node_' data-ref="tensorflow::grappler::CompositeNodeManager::curr_node_">curr_node_</dfn>;</td></tr>
<tr><th id="248">248</th><td>};</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td><i>// The virtual scheduler emulates execution of nodes in a graph, considering</i></td></tr>
<tr><th id="251">251</th><td><i>// dependencies, device, etc.</i></td></tr>
<tr><th id="252">252</th><td><b>class</b> <dfn class="type def" id="tensorflow::grappler::VirtualScheduler" title='tensorflow::grappler::VirtualScheduler' data-ref="tensorflow::grappler::VirtualScheduler">VirtualScheduler</dfn> {</td></tr>
<tr><th id="253">253</th><td> <b>public</b>:</td></tr>
<tr><th id="254">254</th><td>  <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualSchedulerC1EPKNS0_12GrapplerItemEbPNS0_7ClusterEPNS0_16ReadyNodeManagerE" title='tensorflow::grappler::VirtualScheduler::VirtualScheduler' data-ref="_ZN10tensorflow8grappler16VirtualSchedulerC1EPKNS0_12GrapplerItemEbPNS0_7ClusterEPNS0_16ReadyNodeManagerE">VirtualScheduler</dfn>(<em>const</em> <a class="type" href="../grappler_item.h.html#tensorflow::grappler::GrapplerItem" title='tensorflow::grappler::GrapplerItem' data-ref="tensorflow::grappler::GrapplerItem">GrapplerItem</a>* <dfn class="local col8 decl" id="198grappler_item" title='grappler_item' data-type='const tensorflow::grappler::GrapplerItem *' data-ref="198grappler_item">grappler_item</dfn>,</td></tr>
<tr><th id="255">255</th><td>                   <em>const</em> <em>bool</em> <dfn class="local col9 decl" id="199use_static_shapes" title='use_static_shapes' data-type='const bool' data-ref="199use_static_shapes">use_static_shapes</dfn>, <a class="type" href="../clusters/cluster.h.html#tensorflow::grappler::Cluster" title='tensorflow::grappler::Cluster' data-ref="tensorflow::grappler::Cluster">Cluster</a>* <dfn class="local col0 decl" id="200cluster" title='cluster' data-type='tensorflow::grappler::Cluster *' data-ref="200cluster">cluster</dfn>,</td></tr>
<tr><th id="256">256</th><td>                   <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a>* <dfn class="local col1 decl" id="201ready_nodes" title='ready_nodes' data-type='tensorflow::grappler::ReadyNodeManager *' data-ref="201ready_nodes">ready_nodes</dfn>);</td></tr>
<tr><th id="257">257</th><td>  <i>// Initializes NodeState and DeviceState from grappler_item_ and</i></td></tr>
<tr><th id="258">258</th><td><i>  // graph_properties_.</i></td></tr>
<tr><th id="259">259</th><td>  <a class="type" href="../../lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler4InitEv" title='tensorflow::grappler::VirtualScheduler::Init' data-ref="_ZN10tensorflow8grappler16VirtualScheduler4InitEv">Init</dfn>();</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td>  <a class="type" href="op_context.h.html#tensorflow::grappler::OpContext" title='tensorflow::grappler::OpContext' data-ref="tensorflow::grappler::OpContext">OpContext</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler11GetCurrNodeEv" title='tensorflow::grappler::VirtualScheduler::GetCurrNode' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler11GetCurrNodeEv">GetCurrNode</dfn>() <em>const</em>;</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>  <i>// Returns true if there is any node to be scheduled.</i></td></tr>
<tr><th id="264">264</th><td>  <em>bool</em> <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler20MarkCurrNodeExecutedERKNS0_5CostsE" title='tensorflow::grappler::VirtualScheduler::MarkCurrNodeExecuted' data-ref="_ZN10tensorflow8grappler16VirtualScheduler20MarkCurrNodeExecutedERKNS0_5CostsE">MarkCurrNodeExecuted</dfn>(<em>const</em> <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>&amp; <dfn class="local col2 decl" id="202node_costs" title='node_costs' data-type='const tensorflow::grappler::Costs &amp;' data-ref="202node_costs">node_costs</dfn>);</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>  <i>// Prints out summary of execution (timing, memory usage, etc.)</i></td></tr>
<tr><th id="267">267</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler7SummaryEv" title='tensorflow::grappler::VirtualScheduler::Summary' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler7SummaryEv">Summary</dfn>() <em>const</em>;</td></tr>
<tr><th id="268">268</th><td>  <i>// Like the above, but writes detailed stats to RunMetadata.</i></td></tr>
<tr><th id="269">269</th><td><i>  // If metadata is nullptr, then just calls and return Summary().</i></td></tr>
<tr><th id="270">270</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a> <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler7SummaryEPNS_11RunMetadataE" title='tensorflow::grappler::VirtualScheduler::Summary' data-ref="_ZN10tensorflow8grappler16VirtualScheduler7SummaryEPNS_11RunMetadataE">Summary</dfn>(<span class='type' title='tensorflow::RunMetadata' data-ref="tensorflow::RunMetadata">RunMetadata</span>* <dfn class="local col3 decl" id="203metadata" title='metadata' data-type='tensorflow::RunMetadata *' data-ref="203metadata">metadata</dfn>);</td></tr>
<tr><th id="271">271</th><td>  <i>// Methods called from constructor.</i></td></tr>
<tr><th id="272">272</th><td>  <em>static</em> <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a>* <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler23ReadyNodeManagerFactoryERKSs" title='tensorflow::grappler::VirtualScheduler::ReadyNodeManagerFactory' data-ref="_ZN10tensorflow8grappler16VirtualScheduler23ReadyNodeManagerFactoryERKSs">ReadyNodeManagerFactory</dfn>(</td></tr>
<tr><th id="273">273</th><td>      <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col4 decl" id="204ready_node_manager" title='ready_node_manager' data-type='const string &amp;' data-ref="204ready_node_manager">ready_node_manager</dfn>);</td></tr>
<tr><th id="274">274</th><td></td></tr>
<tr><th id="275">275</th><td>  <i>// Return per device peak memory usage.</i></td></tr>
<tr><th id="276">276</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="typedef" href="../../platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler18GetPeakMemoryUsageEv" title='tensorflow::grappler::VirtualScheduler::GetPeakMemoryUsage' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler18GetPeakMemoryUsageEv">GetPeakMemoryUsage</dfn>() <em>const</em>;</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td> <b>protected</b>:</td></tr>
<tr><th id="279">279</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="#tensorflow::grappler::DeviceState" title='tensorflow::grappler::DeviceState' data-ref="tensorflow::grappler::DeviceState">DeviceState</a>&gt;* <dfn class="decl def" id="_ZNK10tensorflow8grappler16VirtualScheduler15GetDeviceStatesEv" title='tensorflow::grappler::VirtualScheduler::GetDeviceStates' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler15GetDeviceStatesEv">GetDeviceStates</dfn>() <em>const</em> {</td></tr>
<tr><th id="280">280</th><td>    <b>return</b> &amp;<a class="member" href="#tensorflow::grappler::VirtualScheduler::device_" title='tensorflow::grappler::VirtualScheduler::device_' data-ref="tensorflow::grappler::VirtualScheduler::device_">device_</a>;</td></tr>
<tr><th id="281">281</th><td>  }</td></tr>
<tr><th id="282">282</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt;* <dfn class="decl def" id="_ZNK10tensorflow8grappler16VirtualScheduler13GetNodeStatesEv" title='tensorflow::grappler::VirtualScheduler::GetNodeStates' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler13GetNodeStatesEv">GetNodeStates</dfn>() <em>const</em> {</td></tr>
<tr><th id="283">283</th><td>    <b>return</b> &amp;<a class="member" href="#tensorflow::grappler::VirtualScheduler::node_map_" title='tensorflow::grappler::VirtualScheduler::node_map_' data-ref="tensorflow::grappler::VirtualScheduler::node_map_">node_map_</a>;</td></tr>
<tr><th id="284">284</th><td>  }</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td>  <i>// Returns the size of output at port_num (unit: bytes). A special case is</i></td></tr>
<tr><th id="287">287</th><td><i>  // port_num -1, which is for control dependency and assumed to be 4 bytes.</i></td></tr>
<tr><th id="288">288</th><td>  <a class="typedef" href="../../platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler19CalculateOutputSizeERKSt6vectorINS_23OpInfo_TensorPropertiesESaIS3_EEi" title='tensorflow::grappler::VirtualScheduler::CalculateOutputSize' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler19CalculateOutputSizeERKSt6vectorINS_23OpInfo_TensorPropertiesESaIS3_EEi">CalculateOutputSize</dfn>(</td></tr>
<tr><th id="289">289</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class='type' title='tensorflow::OpInfo' data-ref="tensorflow::OpInfo">OpInfo</span>::<span class='typedef' title='tensorflow::OpInfo::TensorProperties' data-type='tensorflow::OpInfo_TensorProperties' data-ref="tensorflow::OpInfo::TensorProperties">TensorProperties</span>&gt;&amp; <dfn class="local col5 decl" id="205output_properties" title='output_properties' data-type='const std::vector&lt;OpInfo::TensorProperties&gt; &amp;' data-ref="205output_properties">output_properties</dfn>,</td></tr>
<tr><th id="290">290</th><td>      <em>const</em> <em>int</em> <dfn class="local col6 decl" id="206port_num" title='port_num' data-type='const int' data-ref="206port_num">port_num</dfn>) <em>const</em>;</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td> <b>private</b>:</td></tr>
<tr><th id="293">293</th><td>  <i>// Constants.</i></td></tr>
<tr><th id="294">294</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::kAttrInputSrc" title='tensorflow::grappler::VirtualScheduler::kAttrInputSrc' data-ref="tensorflow::grappler::VirtualScheduler::kAttrInputSrc">kAttrInputSrc</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"input_source_"</q>;</td></tr>
<tr><th id="295">295</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::kAttrSrcDevice" title='tensorflow::grappler::VirtualScheduler::kAttrSrcDevice' data-ref="tensorflow::grappler::VirtualScheduler::kAttrSrcDevice">kAttrSrcDevice</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"src_device_"</q>;</td></tr>
<tr><th id="296">296</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::kAttrDstDevice" title='tensorflow::grappler::VirtualScheduler::kAttrDstDevice' data-ref="tensorflow::grappler::VirtualScheduler::kAttrDstDevice">kAttrDstDevice</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"dst_device_"</q>;</td></tr>
<tr><th id="297">297</th><td>  <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::kChannelDevice" title='tensorflow::grappler::VirtualScheduler::kChannelDevice' data-ref="tensorflow::grappler::VirtualScheduler::kChannelDevice">kChannelDevice</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"Channel"</q>;</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>  <i>// Methods called from Init(). Fails if initialize_ is set.</i></td></tr>
<tr><th id="300">300</th><td>  <em>void</em> <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler22MaybeUpdateInputOutputEPKNS_7NodeDefE" title='tensorflow::grappler::VirtualScheduler::MaybeUpdateInputOutput' data-ref="_ZN10tensorflow8grappler16VirtualScheduler22MaybeUpdateInputOutputEPKNS_7NodeDefE">MaybeUpdateInputOutput</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col7 decl" id="207node" title='node' data-type='const tensorflow::NodeDef *' data-ref="207node">node</dfn>);</td></tr>
<tr><th id="301">301</th><td>  <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&amp; <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler22GetNodeStateOrCreateItEPKNS_7NodeDefE" title='tensorflow::grappler::VirtualScheduler::GetNodeStateOrCreateIt' data-ref="_ZN10tensorflow8grappler16VirtualScheduler22GetNodeStateOrCreateItEPKNS_7NodeDefE">GetNodeStateOrCreateIt</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col8 decl" id="208node" title='node' data-type='const tensorflow::NodeDef *' data-ref="208node">node</dfn>);</td></tr>
<tr><th id="302">302</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*&gt; <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler14CreateSendRecvEPKNS_7NodeDefES4_RKSs" title='tensorflow::grappler::VirtualScheduler::CreateSendRecv' data-ref="_ZN10tensorflow8grappler16VirtualScheduler14CreateSendRecvEPKNS_7NodeDefES4_RKSs">CreateSendRecv</dfn>(</td></tr>
<tr><th id="303">303</th><td>      <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col9 decl" id="209from" title='from' data-type='const tensorflow::NodeDef *' data-ref="209from">from</dfn>, <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col0 decl" id="210to" title='to' data-type='const tensorflow::NodeDef *' data-ref="210to">to</dfn>, <em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col1 decl" id="211input_name" title='input_name' data-type='const string &amp;' data-ref="211input_name">input_name</dfn>);</td></tr>
<tr><th id="304">304</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler10DeviceNameEPKNS_7NodeDefE" title='tensorflow::grappler::VirtualScheduler::DeviceName' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler10DeviceNameEPKNS_7NodeDefE">DeviceName</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col2 decl" id="212node" title='node' data-type='const tensorflow::NodeDef *' data-ref="212node">node</dfn>) <em>const</em>;</td></tr>
<tr><th id="305">305</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler19SanitizedDeviceNameEPKNS_7NodeDefE" title='tensorflow::grappler::VirtualScheduler::SanitizedDeviceName' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler19SanitizedDeviceNameEPKNS_7NodeDefE">SanitizedDeviceName</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col3 decl" id="213node" title='node' data-type='const tensorflow::NodeDef *' data-ref="213node">node</dfn>) <em>const</em>;</td></tr>
<tr><th id="306">306</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler17ChannelDeviceNameEPKNS_7NodeDefES4_" title='tensorflow::grappler::VirtualScheduler::ChannelDeviceName' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler17ChannelDeviceNameEPKNS_7NodeDefES4_">ChannelDeviceName</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col4 decl" id="214from" title='from' data-type='const tensorflow::NodeDef *' data-ref="214from">from</dfn>, <em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col5 decl" id="215to" title='to' data-type='const tensorflow::NodeDef *' data-ref="215to">to</dfn>) <em>const</em>;</td></tr>
<tr><th id="307">307</th><td></td></tr>
<tr><th id="308">308</th><td>  <i>// Helper methods.</i></td></tr>
<tr><th id="309">309</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>&amp; <dfn class="decl" id="_ZN10tensorflow8grappler16VirtualScheduler16FindOrCreateZeroERKSsPSt3mapISsNS0_5CostsESt4lessISsESaISt4pairIS2_S5_EEE" title='tensorflow::grappler::VirtualScheduler::FindOrCreateZero' data-ref="_ZN10tensorflow8grappler16VirtualScheduler16FindOrCreateZeroERKSsPSt3mapISsNS0_5CostsESt4lessISsESaISt4pairIS2_S5_EEE">FindOrCreateZero</dfn>(<em>const</em> <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>&amp; <dfn class="local col6 decl" id="216op_name" title='op_name' data-type='const string &amp;' data-ref="216op_name">op_name</dfn>,</td></tr>
<tr><th id="310">310</th><td>                          <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>&gt;* <dfn class="local col7 decl" id="217op_cost" title='op_cost' data-type='std::map&lt;string, Costs&gt; *' data-ref="217op_cost">op_cost</dfn>);</td></tr>
<tr><th id="311">311</th><td>  <em>float</em> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler6Round2Ef" title='tensorflow::grappler::VirtualScheduler::Round2' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler6Round2Ef">Round2</dfn>(<em>const</em> <em>float</em> <dfn class="local col8 decl" id="218x" title='x' data-type='const float' data-ref="218x">x</dfn>) <em>const</em>;</td></tr>
<tr><th id="312">312</th><td>  <em>bool</em> <dfn class="decl" id="_ZNK10tensorflow8grappler16VirtualScheduler16IsPersistentNodeEPKNS_7NodeDefE" title='tensorflow::grappler::VirtualScheduler::IsPersistentNode' data-ref="_ZNK10tensorflow8grappler16VirtualScheduler16IsPersistentNodeEPKNS_7NodeDefE">IsPersistentNode</dfn>(<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>* <dfn class="local col9 decl" id="219node" title='node' data-type='const tensorflow::NodeDef *' data-ref="219node">node</dfn>) <em>const</em>;</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td>  <i>// Scheduler states:</i></td></tr>
<tr><th id="315">315</th><td>  <a class="type" href="#tensorflow::grappler::ReadyNodeManager" title='tensorflow::grappler::ReadyNodeManager' data-ref="tensorflow::grappler::ReadyNodeManager">ReadyNodeManager</a>* <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::ready_nodes_" title='tensorflow::grappler::VirtualScheduler::ready_nodes_' data-ref="tensorflow::grappler::VirtualScheduler::ready_nodes_">ready_nodes_</dfn>;  <i>// Not owned.</i></td></tr>
<tr><th id="316">316</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<em>const</em> <span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>*, <a class="type" href="#tensorflow::grappler::NodeState" title='tensorflow::grappler::NodeState' data-ref="tensorflow::grappler::NodeState">NodeState</a>&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::node_map_" title='tensorflow::grappler::VirtualScheduler::node_map_' data-ref="tensorflow::grappler::VirtualScheduler::node_map_">node_map_</dfn>;</td></tr>
<tr><th id="317">317</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unordered_map.h.html#std::unordered_map" title='std::unordered_map' data-ref="std::unordered_map">unordered_map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="#tensorflow::grappler::DeviceState" title='tensorflow::grappler::DeviceState' data-ref="tensorflow::grappler::DeviceState">DeviceState</a>&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::device_" title='tensorflow::grappler::VirtualScheduler::device_' data-ref="tensorflow::grappler::VirtualScheduler::device_">device_</dfn>;</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>  <i>// Pool of NodeDefs for SendRecv and Identity ops created.</i></td></tr>
<tr><th id="320">320</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<span class='type' title='tensorflow::NodeDef' data-ref="tensorflow::NodeDef">NodeDef</span>&gt;&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::additional_nodes_" title='tensorflow::grappler::VirtualScheduler::additional_nodes_' data-ref="tensorflow::grappler::VirtualScheduler::additional_nodes_">additional_nodes_</dfn>;</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>  <i>// Stats:</i></td></tr>
<tr><th id="323">323</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <em>int</em>&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::op_counts_" title='tensorflow::grappler::VirtualScheduler::op_counts_' data-ref="tensorflow::grappler::VirtualScheduler::op_counts_">op_counts_</dfn>;  <i>// Op counts with key with input shape.</i></td></tr>
<tr><th id="324">324</th><td>  <i>// Individual op costs (with input shapes).</i></td></tr>
<tr><th id="325">325</th><td><i>  // Boolean field for whether the cost is accurate.</i></td></tr>
<tr><th id="326">326</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<em>int</em>, <em>bool</em>&gt;&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::op_costs_" title='tensorflow::grappler::VirtualScheduler::op_costs_' data-ref="tensorflow::grappler::VirtualScheduler::op_costs_">op_costs_</dfn>;</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>  <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::graph_costs_" title='tensorflow::grappler::VirtualScheduler::graph_costs_' data-ref="tensorflow::grappler::VirtualScheduler::graph_costs_">graph_costs_</dfn>;                   <i>// Graph cost.</i></td></tr>
<tr><th id="329">329</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a>, <a class="type" href="cost_estimator.h.html#tensorflow::grappler::Costs" title='tensorflow::grappler::Costs' data-ref="tensorflow::grappler::Costs">Costs</a>&gt; <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::op_to_cost_" title='tensorflow::grappler::VirtualScheduler::op_to_cost_' data-ref="tensorflow::grappler::VirtualScheduler::op_to_cost_">op_to_cost_</dfn>;  <i>// Per-op cost.</i></td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td>  <i>// Auxilliary data structures for constructing NodeState and DeviceState.</i></td></tr>
<tr><th id="332">332</th><td>  <a class="type" href="graph_properties.h.html#tensorflow::grappler::GraphProperties" title='tensorflow::grappler::GraphProperties' data-ref="tensorflow::grappler::GraphProperties">GraphProperties</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::graph_properties_" title='tensorflow::grappler::VirtualScheduler::graph_properties_' data-ref="tensorflow::grappler::VirtualScheduler::graph_properties_">graph_properties_</dfn>;</td></tr>
<tr><th id="333">333</th><td>  <a class="type" href="../clusters/cluster.h.html#tensorflow::grappler::Cluster" title='tensorflow::grappler::Cluster' data-ref="tensorflow::grappler::Cluster">Cluster</a>* <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::cluster_" title='tensorflow::grappler::VirtualScheduler::cluster_' data-ref="tensorflow::grappler::VirtualScheduler::cluster_">cluster_</dfn>;  <i>// Not owned.</i></td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>  <em>const</em> <a class="type" href="../grappler_item.h.html#tensorflow::grappler::GrapplerItem" title='tensorflow::grappler::GrapplerItem' data-ref="tensorflow::grappler::GrapplerItem">GrapplerItem</a>* <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::grappler_item_" title='tensorflow::grappler::VirtualScheduler::grappler_item_' data-ref="tensorflow::grappler::VirtualScheduler::grappler_item_">grappler_item_</dfn>;  <i>// Not owned.</i></td></tr>
<tr><th id="336">336</th><td>  <em>bool</em> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::use_static_shapes_" title='tensorflow::grappler::VirtualScheduler::use_static_shapes_' data-ref="tensorflow::grappler::VirtualScheduler::use_static_shapes_">use_static_shapes_</dfn>;</td></tr>
<tr><th id="337">337</th><td>  <em>bool</em> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::initialized_" title='tensorflow::grappler::VirtualScheduler::initialized_' data-ref="tensorflow::grappler::VirtualScheduler::initialized_">initialized_</dfn>;</td></tr>
<tr><th id="338">338</th><td></td></tr>
<tr><th id="339">339</th><td>  <a class="type" href="virtual_placer.h.html#tensorflow::grappler::VirtualPlacer" title='tensorflow::grappler::VirtualPlacer' data-ref="tensorflow::grappler::VirtualPlacer">VirtualPlacer</a> <dfn class="decl" id="tensorflow::grappler::VirtualScheduler::placer_" title='tensorflow::grappler::VirtualScheduler::placer_' data-ref="tensorflow::grappler::VirtualScheduler::placer_">placer_</dfn>;  <i>// owned.</i></td></tr>
<tr><th id="340">340</th><td>};</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>}  <i>// namespace grappler</i></td></tr>
<tr><th id="343">343</th><td>}  <i>// end namespace tensorflow</i></td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td><u>#<span data-ppcond="16">endif</span>  // TENSORFLOW_CORE_GRAPPLER_COSTS_VIRTUAL_SCHEDULER_H_</u></td></tr>
<tr><th id="346">346</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../common_runtime/graph_execution_state.cc.html'>tensorflow/tensorflow/core/common_runtime/graph_execution_state.cc</a><br/>Generated on <em>2018-Aug-20</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
