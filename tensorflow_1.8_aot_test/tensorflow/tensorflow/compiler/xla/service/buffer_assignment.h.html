<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>buffer_assignment.h source code [tensorflow/tensorflow/compiler/xla/service/buffer_assignment.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="xla::BufferAllocation,xla::BufferAssigner,xla::BufferAssignment "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/compiler/xla/service/buffer_assignment.h'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>tensorflow</a>/<a href='../../..'>tensorflow</a>/<a href='../..'>compiler</a>/<a href='..'>xla</a>/<a href='./'>service</a>/<a href='buffer_assignment.h.html'>buffer_assignment.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2017 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">ifndef</span> <span class="macro" data-ref="_M/TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_">TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_</span></u></td></tr>
<tr><th id="17">17</th><td><u>#define <dfn class="macro" id="_M/TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_" data-ref="_M/TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_">TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_</dfn></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../include/c++/5/functional.html">&lt;functional&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../../include/c++/5/iosfwd.html">&lt;iosfwd&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../../include/c++/5/memory.html">&lt;memory&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../../../include/c++/5/string.html">&lt;string&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../../../../include/c++/5/vector.html">&lt;vector&gt;</a></u></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="buffer_liveness.h.html">"tensorflow/compiler/xla/service/buffer_liveness.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="heap_simulator.h.html">"tensorflow/compiler/xla/service/heap_simulator.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include "tensorflow/compiler/xla/service/hlo.pb.h"</u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="hlo_computation.h.html">"tensorflow/compiler/xla/service/hlo_computation.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="hlo_instruction.h.html">"tensorflow/compiler/xla/service/hlo_instruction.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="hlo_module.h.html">"tensorflow/compiler/xla/service/hlo_module.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="logical_buffer.h.html">"tensorflow/compiler/xla/service/logical_buffer.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="tuple_points_to_analysis.h.html">"tensorflow/compiler/xla/service/tuple_points_to_analysis.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../statusor.h.html">"tensorflow/compiler/xla/statusor.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../types.h.html">"tensorflow/compiler/xla/types.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include "tensorflow/compiler/xla/xla_data.pb.h"</u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../../core/lib/gtl/array_slice.h.html">"tensorflow/core/lib/gtl/array_slice.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../../core/lib/gtl/flatmap.h.html">"tensorflow/core/lib/gtl/flatmap.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../../core/lib/gtl/flatset.h.html">"tensorflow/core/lib/gtl/flatset.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../../../core/platform/logging.h.html">"tensorflow/core/platform/logging.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../../../core/platform/macros.h.html">"tensorflow/core/platform/macros.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../../../core/platform/types.h.html">"tensorflow/core/platform/types.h"</a></u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><b>namespace</b> <span class="namespace">xla</span> {</td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><i>// This class abstracts an allocation of contiguous memory which can hold the</i></td></tr>
<tr><th id="46">46</th><td><i>// values described by LogicalBuffers. Each LogicalBuffer occupies a sub-range</i></td></tr>
<tr><th id="47">47</th><td><i>// of the allocation, represented by a Slice. A single BufferAllocation may hold</i></td></tr>
<tr><th id="48">48</th><td><i>// LogicalBuffers with disjoint liveness, which may have overlapping Slices. A</i></td></tr>
<tr><th id="49">49</th><td><i>// single BufferAllocation may also hold LogicalBuffers with overlapping</i></td></tr>
<tr><th id="50">50</th><td><i>// liveness, which must have disjoint Slices.</i></td></tr>
<tr><th id="51">51</th><td><i>//</i></td></tr>
<tr><th id="52">52</th><td><i>// The abstraction includes information required by the backends for allocation,</i></td></tr>
<tr><th id="53">53</th><td><i>// use, and deallocation of the buffer. This includes the LogicalBuffers which</i></td></tr>
<tr><th id="54">54</th><td><i>// are held in this allocation through the execution of the computation.</i></td></tr>
<tr><th id="55">55</th><td><b>class</b> <dfn class="type def" id="xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</dfn> {</td></tr>
<tr><th id="56">56</th><td> <b>public</b>:</td></tr>
<tr><th id="57">57</th><td>  <i>// Holds a unique identifier for each allocation. Values are assigned</i></td></tr>
<tr><th id="58">58</th><td><i>  // contiguously and can be used as array indexes.</i></td></tr>
<tr><th id="59">59</th><td>  <b>using</b> <dfn class="typedef" id="xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</dfn> = <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>;</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td>  <dfn class="decl def" id="_ZN3xla16BufferAllocationC1ExxbbN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE" title='xla::BufferAllocation::BufferAllocation' data-ref="_ZN3xla16BufferAllocationC1ExxbbN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE">BufferAllocation</dfn>(<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="local col6 decl" id="306index" title='index' data-type='Index' data-ref="306index">index</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col7 decl" id="307size" title='size' data-type='int64' data-ref="307size">size</dfn>, <em>bool</em> <dfn class="local col8 decl" id="308is_thread_local" title='is_thread_local' data-type='bool' data-ref="308is_thread_local">is_thread_local</dfn>,</td></tr>
<tr><th id="62">62</th><td>                   <em>bool</em> <dfn class="local col9 decl" id="309is_reusable" title='is_reusable' data-type='bool' data-ref="309is_reusable">is_reusable</dfn>, <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a> <dfn class="local col0 decl" id="310color" title='color' data-type='LogicalBuffer::Color' data-ref="310color">color</dfn>)</td></tr>
<tr><th id="63">63</th><td>      : <a class="member" href="#xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</a>(<a class="local col6 ref" href="#306index" title='index' data-ref="306index">index</a>),</td></tr>
<tr><th id="64">64</th><td>        <a class="member" href="#xla::BufferAllocation::size_" title='xla::BufferAllocation::size_' data-ref="xla::BufferAllocation::size_">size_</a>(<a class="local col7 ref" href="#307size" title='size' data-ref="307size">size</a>),</td></tr>
<tr><th id="65">65</th><td>        <a class="member" href="#xla::BufferAllocation::is_thread_local_" title='xla::BufferAllocation::is_thread_local_' data-ref="xla::BufferAllocation::is_thread_local_">is_thread_local_</a>(<a class="local col8 ref" href="#308is_thread_local" title='is_thread_local' data-ref="308is_thread_local">is_thread_local</a>),</td></tr>
<tr><th id="66">66</th><td>        <a class="member" href="#xla::BufferAllocation::is_reusable_" title='xla::BufferAllocation::is_reusable_' data-ref="xla::BufferAllocation::is_reusable_">is_reusable_</a>(<a class="local col9 ref" href="#309is_reusable" title='is_reusable' data-ref="309is_reusable">is_reusable</a>),</td></tr>
<tr><th id="67">67</th><td>        <a class="member" href="#xla::BufferAllocation::color_" title='xla::BufferAllocation::color_' data-ref="xla::BufferAllocation::color_">color_</a><a class="ref" href="../../../core/lib/gtl/int_type.h.html#188" title='tensorflow::gtl::IntType&lt;xla::LogicalBuffer::Color_tag_, long long&gt;::IntType' data-ref="_ZN10tensorflow3gtl7IntTypeIN3xla13LogicalBuffer10Color_tag_ExEC1ERKS5_">(</a><a class="local col0 ref" href="#310color" title='color' data-ref="310color">color</a>) {}</td></tr>
<tr><th id="68">68</th><td>  <dfn class="decl def" id="_ZN3xla16BufferAllocationD1Ev" title='xla::BufferAllocation::~BufferAllocation' data-ref="_ZN3xla16BufferAllocationD1Ev">~BufferAllocation</dfn>() {}</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td>  <i>// Returns the index of this allocation.</i></td></tr>
<tr><th id="71">71</th><td>  <a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5indexEv" title='xla::BufferAllocation::index' data-ref="_ZNK3xla16BufferAllocation5indexEv">index</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</a>; }</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>  <i>// Whether this allocation is used in a parallel calling context such as</i></td></tr>
<tr><th id="74">74</th><td><i>  // inside of a map or reduce computation. Such allocations need to be thread</i></td></tr>
<tr><th id="75">75</th><td><i>  // local.</i></td></tr>
<tr><th id="76">76</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation15is_thread_localEv" title='xla::BufferAllocation::is_thread_local' data-ref="_ZNK3xla16BufferAllocation15is_thread_localEv">is_thread_local</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::is_thread_local_" title='xla::BufferAllocation::is_thread_local_' data-ref="xla::BufferAllocation::is_thread_local_">is_thread_local_</a>; }</td></tr>
<tr><th id="77">77</th><td></td></tr>
<tr><th id="78">78</th><td>  <i>// Whether this allocation can be used by more than one logical buffer.</i></td></tr>
<tr><th id="79">79</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation11is_reusableEv" title='xla::BufferAllocation::is_reusable' data-ref="_ZNK3xla16BufferAllocation11is_reusableEv">is_reusable</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::is_reusable_" title='xla::BufferAllocation::is_reusable_' data-ref="xla::BufferAllocation::is_reusable_">is_reusable_</a>; }</td></tr>
<tr><th id="80">80</th><td></td></tr>
<tr><th id="81">81</th><td>  <i>// Whether this allocation holds a LogicalBuffer from a parameter of the entry</i></td></tr>
<tr><th id="82">82</th><td><i>  // computation. These buffers have lifetimes which may be longer than the</i></td></tr>
<tr><th id="83">83</th><td><i>  // XLA computation.</i></td></tr>
<tr><th id="84">84</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv" title='xla::BufferAllocation::is_entry_computation_parameter' data-ref="_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv">is_entry_computation_parameter</dfn>() <em>const</em> {</td></tr>
<tr><th id="85">85</th><td>    <b>return</b> <a class="member" href="#xla::BufferAllocation::is_entry_computation_parameter_" title='xla::BufferAllocation::is_entry_computation_parameter_' data-ref="xla::BufferAllocation::is_entry_computation_parameter_">is_entry_computation_parameter_</a>;</td></tr>
<tr><th id="86">86</th><td>  }</td></tr>
<tr><th id="87">87</th><td>  <i>// If this allocation holds a Buffer from a parameter of the entry</i></td></tr>
<tr><th id="88">88</th><td><i>  // computation, this methods returns the parameter number. CHECKs otherwise.</i></td></tr>
<tr><th id="89">89</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation16parameter_numberEv" title='xla::BufferAllocation::parameter_number' data-ref="_ZNK3xla16BufferAllocation16parameter_numberEv">parameter_number</dfn>() <em>const</em> {</td></tr>
<tr><th id="90">90</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(is_entry_computation_parameter_), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/./tensorflow/compiler/xla/service/buffer_assignment.h&quot;, 90) &lt;&lt; &quot;Check failed: &quot; &quot;is_entry_computation_parameter_&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(<a class="member" href="#xla::BufferAllocation::is_entry_computation_parameter_" title='xla::BufferAllocation::is_entry_computation_parameter_' data-ref="xla::BufferAllocation::is_entry_computation_parameter_">is_entry_computation_parameter_</a>);</td></tr>
<tr><th id="91">91</th><td>    <b>return</b> <a class="member" href="#xla::BufferAllocation::parameter_number_" title='xla::BufferAllocation::parameter_number_' data-ref="xla::BufferAllocation::parameter_number_">parameter_number_</a>;</td></tr>
<tr><th id="92">92</th><td>  }</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>  <i>// If this allocation is for a parameter of the entry computation, this</i></td></tr>
<tr><th id="95">95</th><td><i>  // function returns which subshape of the parameter the allocation is for.</i></td></tr>
<tr><th id="96">96</th><td>  <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAllocation17param_shape_indexEv" title='xla::BufferAllocation::param_shape_index' data-ref="_ZNK3xla16BufferAllocation17param_shape_indexEv">param_shape_index</dfn>() <em>const</em> {</td></tr>
<tr><th id="97">97</th><td>    <a class="macro" href="../../../core/platform/default/logging.h.html#97" title="if ((__builtin_expect(!(is_entry_computation_parameter_), 0))) ::tensorflow::internal::LogMessageFatal(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/./tensorflow/compiler/xla/service/buffer_assignment.h&quot;, 97) &lt;&lt; &quot;Check failed: &quot; &quot;is_entry_computation_parameter_&quot; &quot; &quot;" data-ref="_M/CHECK">CHECK</a>(<a class="member" href="#xla::BufferAllocation::is_entry_computation_parameter_" title='xla::BufferAllocation::is_entry_computation_parameter_' data-ref="xla::BufferAllocation::is_entry_computation_parameter_">is_entry_computation_parameter_</a>);</td></tr>
<tr><th id="98">98</th><td>    <b>return</b> <a class="member" href="#xla::BufferAllocation::param_shape_index_" title='xla::BufferAllocation::param_shape_index_' data-ref="xla::BufferAllocation::param_shape_index_">param_shape_index_</a>;</td></tr>
<tr><th id="99">99</th><td>  }</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td>  <i>// Returns whether this allocation is assigned a LogicalBuffer which may</i></td></tr>
<tr><th id="102">102</th><td><i>  // be live out of the entry computation.</i></td></tr>
<tr><th id="103">103</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation14maybe_live_outEv" title='xla::BufferAllocation::maybe_live_out' data-ref="_ZNK3xla16BufferAllocation14maybe_live_outEv">maybe_live_out</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::maybe_live_out_" title='xla::BufferAllocation::maybe_live_out_' data-ref="xla::BufferAllocation::maybe_live_out_">maybe_live_out_</a>; }</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td>  <i>// Returns the size of the allocation. Necessarily this must be at least as</i></td></tr>
<tr><th id="106">106</th><td><i>  // large as any LogicalBuffer assigned to this allocation.</i></td></tr>
<tr><th id="107">107</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation4sizeEv" title='xla::BufferAllocation::size' data-ref="_ZNK3xla16BufferAllocation4sizeEv">size</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::size_" title='xla::BufferAllocation::size_' data-ref="xla::BufferAllocation::size_">size_</a>; }</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td>  <i>// Returns the color of the allocation. Only logical buffers with a matching</i></td></tr>
<tr><th id="110">110</th><td><i>  // color can reside in this allocation.</i></td></tr>
<tr><th id="111">111</th><td>  <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5colorEv" title='xla::BufferAllocation::color' data-ref="_ZNK3xla16BufferAllocation5colorEv">color</dfn>() <em>const</em> { <b>return</b> <a class="ref fake" href="../../../core/lib/gtl/int_type.h.html#188" title='tensorflow::gtl::IntType&lt;xla::LogicalBuffer::Color_tag_, long long&gt;::IntType' data-ref="_ZN10tensorflow3gtl7IntTypeIN3xla13LogicalBuffer10Color_tag_ExEC1ERKS5_"></a><a class="member" href="#xla::BufferAllocation::color_" title='xla::BufferAllocation::color_' data-ref="xla::BufferAllocation::color_">color_</a>; }</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>  <b>struct</b> <dfn class="type def" id="xla::BufferAllocation::OffsetSize" title='xla::BufferAllocation::OffsetSize' data-ref="xla::BufferAllocation::OffsetSize">OffsetSize</dfn> {</td></tr>
<tr><th id="114">114</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::OffsetSize::offset" title='xla::BufferAllocation::OffsetSize::offset' data-ref="xla::BufferAllocation::OffsetSize::offset">offset</dfn> = <var>0</var>;</td></tr>
<tr><th id="115">115</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::OffsetSize::size" title='xla::BufferAllocation::OffsetSize::size' data-ref="xla::BufferAllocation::OffsetSize::size">size</dfn> = <var>0</var>;</td></tr>
<tr><th id="116">116</th><td>  };</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td>  <i>// Access to the logical buffers assigned to this allocation, and their</i></td></tr>
<tr><th id="119">119</th><td><i>  // associated logical offsets and sizes.</i></td></tr>
<tr><th id="120">120</th><td>  <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*, <a class="type" href="#xla::BufferAllocation::OffsetSize" title='xla::BufferAllocation::OffsetSize' data-ref="xla::BufferAllocation::OffsetSize">OffsetSize</a>&gt;&amp;</td></tr>
<tr><th id="121">121</th><td>  <dfn class="decl def" id="_ZNK3xla16BufferAllocation16assigned_buffersEv" title='xla::BufferAllocation::assigned_buffers' data-ref="_ZNK3xla16BufferAllocation16assigned_buffersEv">assigned_buffers</dfn>() <em>const</em> {</td></tr>
<tr><th id="122">122</th><td>    <b>return</b> <a class="member" href="#xla::BufferAllocation::assigned_buffers_" title='xla::BufferAllocation::assigned_buffers_' data-ref="xla::BufferAllocation::assigned_buffers_">assigned_buffers_</a>;</td></tr>
<tr><th id="123">123</th><td>  }</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>  <i>// A Slice represents a contiguous portion of a memory allocation. It is used</i></td></tr>
<tr><th id="126">126</th><td><i>  // to identify the memory range that a LogicalBuffer corresponds to.</i></td></tr>
<tr><th id="127">127</th><td>  <b>class</b> <dfn class="type def" id="xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</dfn> {</td></tr>
<tr><th id="128">128</th><td>   <b>public</b>:</td></tr>
<tr><th id="129">129</th><td>    <dfn class="decl def" id="_ZN3xla16BufferAllocation5SliceC1Ev" title='xla::BufferAllocation::Slice::Slice' data-ref="_ZN3xla16BufferAllocation5SliceC1Ev">Slice</dfn>() {}</td></tr>
<tr><th id="130">130</th><td>    <dfn class="decl def" id="_ZN3xla16BufferAllocation5SliceC1EPKS0_xx" title='xla::BufferAllocation::Slice::Slice' data-ref="_ZN3xla16BufferAllocation5SliceC1EPKS0_xx">Slice</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <dfn class="local col1 decl" id="311allocation" title='allocation' data-type='const xla::BufferAllocation *' data-ref="311allocation">allocation</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col2 decl" id="312offset" title='offset' data-type='int64' data-ref="312offset">offset</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="313size" title='size' data-type='int64' data-ref="313size">size</dfn>)</td></tr>
<tr><th id="131">131</th><td>        : <a class="member" href="#xla::BufferAllocation::Slice::allocation_" title='xla::BufferAllocation::Slice::allocation_' data-ref="xla::BufferAllocation::Slice::allocation_">allocation_</a>(<a class="local col1 ref" href="#311allocation" title='allocation' data-ref="311allocation">allocation</a>), <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a>(<a class="local col2 ref" href="#312offset" title='offset' data-ref="312offset">offset</a>), <a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>(<a class="local col3 ref" href="#313size" title='size' data-ref="313size">size</a>) {}</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>    <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <dfn class="decl def" id="_ZNK3xla16BufferAllocation5Slice10allocationEv" title='xla::BufferAllocation::Slice::allocation' data-ref="_ZNK3xla16BufferAllocation5Slice10allocationEv">allocation</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::allocation_" title='xla::BufferAllocation::Slice::allocation_' data-ref="xla::BufferAllocation::Slice::allocation_">allocation_</a>; }</td></tr>
<tr><th id="134">134</th><td>    <a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::allocation_" title='xla::BufferAllocation::Slice::allocation_' data-ref="xla::BufferAllocation::Slice::allocation_">allocation_</a>-&gt;<a class="ref" href="#_ZNK3xla16BufferAllocation5indexEv" title='xla::BufferAllocation::index' data-ref="_ZNK3xla16BufferAllocation5indexEv">index</a>(); }</td></tr>
<tr><th id="135">135</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5Slice6offsetEv" title='xla::BufferAllocation::Slice::offset' data-ref="_ZNK3xla16BufferAllocation5Slice6offsetEv">offset</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a>; }</td></tr>
<tr><th id="136">136</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5Slice4sizeEv" title='xla::BufferAllocation::Slice::size' data-ref="_ZNK3xla16BufferAllocation5Slice4sizeEv">size</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>; }</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td>    <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5SliceeqERKS1_" title='xla::BufferAllocation::Slice::operator==' data-ref="_ZNK3xla16BufferAllocation5SliceeqERKS1_"><b>operator</b>==</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&amp; <dfn class="local col4 decl" id="314other" title='other' data-type='const xla::BufferAllocation::Slice &amp;' data-ref="314other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="139">139</th><td>      <b>return</b> <a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() == <a class="local col4 ref" href="#314other" title='other' data-ref="314other">other</a>.<a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() &amp;&amp; <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> == <a class="local col4 ref" href="#314other" title='other' data-ref="314other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> &amp;&amp;</td></tr>
<tr><th id="140">140</th><td>             <a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a> == <a class="local col4 ref" href="#314other" title='other' data-ref="314other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>;</td></tr>
<tr><th id="141">141</th><td>    }</td></tr>
<tr><th id="142">142</th><td>    <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5SliceneERKS1_" title='xla::BufferAllocation::Slice::operator!=' data-ref="_ZNK3xla16BufferAllocation5SliceneERKS1_"><b>operator</b>!=</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&amp; <dfn class="local col5 decl" id="315other" title='other' data-type='const xla::BufferAllocation::Slice &amp;' data-ref="315other">other</dfn>) <em>const</em> { <b>return</b> !(*<b>this</b> <a class="member" href="#_ZNK3xla16BufferAllocation5SliceeqERKS1_" title='xla::BufferAllocation::Slice::operator==' data-ref="_ZNK3xla16BufferAllocation5SliceeqERKS1_">==</a> <a class="local col5 ref" href="#315other" title='other' data-ref="315other">other</a>); }</td></tr>
<tr><th id="143">143</th><td>    <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5SliceltERKS1_" title='xla::BufferAllocation::Slice::operator&lt;' data-ref="_ZNK3xla16BufferAllocation5SliceltERKS1_"><b>operator</b>&lt;</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&amp; <dfn class="local col6 decl" id="316other" title='other' data-type='const xla::BufferAllocation::Slice &amp;' data-ref="316other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="144">144</th><td>      <b>if</b> (<a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() != <a class="local col6 ref" href="#316other" title='other' data-ref="316other">other</a>.<a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>()) <b>return</b> <a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() &lt; <a class="local col6 ref" href="#316other" title='other' data-ref="316other">other</a>.<a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>();</td></tr>
<tr><th id="145">145</th><td>      <b>if</b> (<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> != <a class="local col6 ref" href="#316other" title='other' data-ref="316other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a>) <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> &lt; <a class="local col6 ref" href="#316other" title='other' data-ref="316other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a>;</td></tr>
<tr><th id="146">146</th><td>      <b>return</b> <a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a> &lt; <a class="local col6 ref" href="#316other" title='other' data-ref="316other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>;</td></tr>
<tr><th id="147">147</th><td>    }</td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td>    <i>// Returns true iff this slice's memory range has a non-empty intersection</i></td></tr>
<tr><th id="150">150</th><td><i>    // with the other slice's memory range.</i></td></tr>
<tr><th id="151">151</th><td>    <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation5Slice12OverlapsWithERKS1_" title='xla::BufferAllocation::Slice::OverlapsWith' data-ref="_ZNK3xla16BufferAllocation5Slice12OverlapsWithERKS1_">OverlapsWith</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&amp; <dfn class="local col7 decl" id="317other" title='other' data-type='const xla::BufferAllocation::Slice &amp;' data-ref="317other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="152">152</th><td>      <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="318end" title='end' data-type='const int64' data-ref="318end">end</dfn> = <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> + <a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>;</td></tr>
<tr><th id="153">153</th><td>      <em>const</em> <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col9 decl" id="319other_end" title='other_end' data-type='const int64' data-ref="319other_end">other_end</dfn> = <a class="local col7 ref" href="#317other" title='other' data-ref="317other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> + <a class="local col7 ref" href="#317other" title='other' data-ref="317other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</a>;</td></tr>
<tr><th id="154">154</th><td>      <b>return</b> <a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() == <a class="local col7 ref" href="#317other" title='other' data-ref="317other">other</a>.<a class="member" href="#_ZNK3xla16BufferAllocation5Slice5indexEv" title='xla::BufferAllocation::Slice::index' data-ref="_ZNK3xla16BufferAllocation5Slice5indexEv">index</a>() &amp;&amp; <a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a> &lt; <a class="local col9 ref" href="#319other_end" title='other_end' data-ref="319other_end">other_end</a> &amp;&amp;</td></tr>
<tr><th id="155">155</th><td>             <a class="local col8 ref" href="#318end" title='end' data-ref="318end">end</a> &gt; <a class="local col7 ref" href="#317other" title='other' data-ref="317other">other</a>.<a class="member" href="#xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</a>;</td></tr>
<tr><th id="156">156</th><td>    }</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>    <b>struct</b> <dfn class="type def" id="xla::BufferAllocation::Slice::Hasher" title='xla::BufferAllocation::Slice::Hasher' data-ref="xla::BufferAllocation::Slice::Hasher">Hasher</dfn> {</td></tr>
<tr><th id="159">159</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation5Slice6HasherclES1_" title='xla::BufferAllocation::Slice::Hasher::operator()' data-ref="_ZNK3xla16BufferAllocation5Slice6HasherclES1_" id="_ZNK3xla16BufferAllocation5Slice6HasherclES1_"><b>operator</b>()</a>(<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a> <dfn class="local col0 decl" id="320s" title='s' data-type='xla::BufferAllocation::Slice' data-ref="320s">s</dfn>) <em>const</em>;</td></tr>
<tr><th id="160">160</th><td>    };</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation5Slice8ToStringEv" title='xla::BufferAllocation::Slice::ToString' data-ref="_ZNK3xla16BufferAllocation5Slice8ToStringEv" id="_ZNK3xla16BufferAllocation5Slice8ToStringEv">ToString</a>() <em>const</em>;</td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td>   <b>private</b>:</td></tr>
<tr><th id="165">165</th><td>    <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <dfn class="decl" id="xla::BufferAllocation::Slice::allocation_" title='xla::BufferAllocation::Slice::allocation_' data-ref="xla::BufferAllocation::Slice::allocation_">allocation_</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="166">166</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::Slice::offset_" title='xla::BufferAllocation::Slice::offset_' data-ref="xla::BufferAllocation::Slice::offset_">offset_</dfn> = <var>0</var>;</td></tr>
<tr><th id="167">167</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::Slice::size_" title='xla::BufferAllocation::Slice::size_' data-ref="xla::BufferAllocation::Slice::size_">size_</dfn> = <var>0</var>;</td></tr>
<tr><th id="168">168</th><td>  };</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td>  <i>// GetSlice returns the Slice of contiguous memory that holds the value</i></td></tr>
<tr><th id="171">171</th><td><i>  // described by the given 'buffer'.</i></td></tr>
<tr><th id="172">172</th><td><i>  // REQUIRES: 'buffer' must be assigned to this allocation.</i></td></tr>
<tr><th id="173">173</th><td>  <a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation8GetSliceERKNS_13LogicalBufferE" title='xla::BufferAllocation::GetSlice' data-ref="_ZNK3xla16BufferAllocation8GetSliceERKNS_13LogicalBufferE" id="_ZNK3xla16BufferAllocation8GetSliceERKNS_13LogicalBufferE">GetSlice</a>(<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col1 decl" id="321buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="321buffer">buffer</dfn>) <em>const</em>;</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation8ToStringEv" title='xla::BufferAllocation::ToString' data-ref="_ZNK3xla16BufferAllocation8ToStringEv" id="_ZNK3xla16BufferAllocation8ToStringEv">ToString</a>() <em>const</em>;</td></tr>
<tr><th id="176">176</th><td>  <span class='type' title='xla::BufferAllocationProto' data-ref="xla::BufferAllocationProto">BufferAllocationProto</span> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation7ToProtoEv" title='xla::BufferAllocation::ToProto' data-ref="_ZNK3xla16BufferAllocation7ToProtoEv" id="_ZNK3xla16BufferAllocation7ToProtoEv">ToProto</a>() <em>const</em>;</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>  <i>// Whether the buffer is a parameter to or live out of the entry computation.</i></td></tr>
<tr><th id="179">179</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation15IsInputOrOutputEv" title='xla::BufferAllocation::IsInputOrOutput' data-ref="_ZNK3xla16BufferAllocation15IsInputOrOutputEv">IsInputOrOutput</dfn>() <em>const</em> {</td></tr>
<tr><th id="180">180</th><td>    <b>return</b> <a class="member" href="#_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv" title='xla::BufferAllocation::is_entry_computation_parameter' data-ref="_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv">is_entry_computation_parameter</a>() || <a class="member" href="#_ZNK3xla16BufferAllocation14maybe_live_outEv" title='xla::BufferAllocation::maybe_live_out' data-ref="_ZNK3xla16BufferAllocation14maybe_live_outEv">maybe_live_out</a>();</td></tr>
<tr><th id="181">181</th><td>  }</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>  <i>// Whether the buffer is a temporary buffer allocated before</i></td></tr>
<tr><th id="184">184</th><td><i>  // Executable::ExecuteOnStream.</i></td></tr>
<tr><th id="185">185</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocation24IsPreallocatedTempBufferEv" title='xla::BufferAllocation::IsPreallocatedTempBuffer' data-ref="_ZNK3xla16BufferAllocation24IsPreallocatedTempBufferEv">IsPreallocatedTempBuffer</dfn>() <em>const</em> {</td></tr>
<tr><th id="186">186</th><td>    <i>// Parameters do not need temporary buffers.</i></td></tr>
<tr><th id="187">187</th><td>    <b>return</b> !<a class="member" href="#_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv" title='xla::BufferAllocation::is_entry_computation_parameter' data-ref="_ZNK3xla16BufferAllocation30is_entry_computation_parameterEv">is_entry_computation_parameter</a>() &amp;&amp;</td></tr>
<tr><th id="188">188</th><td>           <i>// LogicalBuffers that maybe pointed to by the output should live out</i></td></tr>
<tr><th id="189">189</th><td><i>           // of the computation.</i></td></tr>
<tr><th id="190">190</th><td>           !<a class="member" href="#_ZNK3xla16BufferAllocation14maybe_live_outEv" title='xla::BufferAllocation::maybe_live_out' data-ref="_ZNK3xla16BufferAllocation14maybe_live_outEv">maybe_live_out</a>() &amp;&amp;</td></tr>
<tr><th id="191">191</th><td>           <i>// Thread-local buffers are allocated using `alloca`s.</i></td></tr>
<tr><th id="192">192</th><td>           !<a class="member" href="#_ZNK3xla16BufferAllocation15is_thread_localEv" title='xla::BufferAllocation::is_thread_local' data-ref="_ZNK3xla16BufferAllocation15is_thread_localEv">is_thread_local</a>();</td></tr>
<tr><th id="193">193</th><td>  }</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td>  <i>// Add a heap trace which was used to assign slices to logical buffers in this</i></td></tr>
<tr><th id="196">196</th><td><i>  // allocation. A single BufferAllocation may include multiple heap traces</i></td></tr>
<tr><th id="197">197</th><td><i>  // in the case of the temporary block where there is a heap trace per</i></td></tr>
<tr><th id="198">198</th><td><i>  // computation.</i></td></tr>
<tr><th id="199">199</th><td>  <em>void</em> <dfn class="decl def" id="_ZN3xla16BufferAllocation12AddHeapTraceERKNS_18HeapSimulatorTraceE" title='xla::BufferAllocation::AddHeapTrace' data-ref="_ZN3xla16BufferAllocation12AddHeapTraceERKNS_18HeapSimulatorTraceE">AddHeapTrace</dfn>(<em>const</em> <span class='type' title='xla::HeapSimulatorTrace' data-ref="xla::HeapSimulatorTrace">HeapSimulatorTrace</span>&amp; <dfn class="local col2 decl" id="322heap_trace" title='heap_trace' data-type='const xla::HeapSimulatorTrace &amp;' data-ref="322heap_trace">heap_trace</dfn>) {</td></tr>
<tr><th id="200">200</th><td>    <a class="member" href="#xla::BufferAllocation::heap_traces_" title='xla::BufferAllocation::heap_traces_' data-ref="xla::BufferAllocation::heap_traces_">heap_traces_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<a class="local col2 ref" href="#322heap_trace" title='heap_trace' data-ref="322heap_trace">heap_trace</a>);</td></tr>
<tr><th id="201">201</th><td>  }</td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td>  <i>// Return the set of heap traces used to assign slices to logical buffers in</i></td></tr>
<tr><th id="204">204</th><td><i>  // this allocation.</i></td></tr>
<tr><th id="205">205</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class='type' title='xla::HeapSimulatorTrace' data-ref="xla::HeapSimulatorTrace">HeapSimulatorTrace</span>&gt; <dfn class="decl def" id="_ZNK3xla16BufferAllocation10HeapTracesEv" title='xla::BufferAllocation::HeapTraces' data-ref="_ZNK3xla16BufferAllocation10HeapTracesEv">HeapTraces</dfn>() <em>const</em> {</td></tr>
<tr><th id="206">206</th><td>    <b>return</b> <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="member" href="#xla::BufferAllocation::heap_traces_" title='xla::BufferAllocation::heap_traces_' data-ref="xla::BufferAllocation::heap_traces_">heap_traces_</a>;</td></tr>
<tr><th id="207">207</th><td>  }</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>  <i>// Compute and return the LogicalBuffers which are live at the point of peak</i></td></tr>
<tr><th id="210">210</th><td><i>  // memory usage for the given allocation. The point of peak memory usage is</i></td></tr>
<tr><th id="211">211</th><td><i>  // the point at which the total size of all live logical buffers is</i></td></tr>
<tr><th id="212">212</th><td><i>  // maximal. If peak memory is reached at multiple points, the set of logical</i></td></tr>
<tr><th id="213">213</th><td><i>  // buffers live at the earliest maximal point is returned. The vector is</i></td></tr>
<tr><th id="214">214</th><td><i>  // stabily asserted by LogicalBuffer::Index.</i></td></tr>
<tr><th id="215">215</th><td><i>  //</i></td></tr>
<tr><th id="216">216</th><td><i>  // The return value is a pair of total size of the logical buffers at peak,</i></td></tr>
<tr><th id="217">217</th><td><i>  // and the buffers themselves.</i></td></tr>
<tr><th id="218">218</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_pair.h.html#std::pair" title='std::pair' data-ref="std::pair">pair</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&gt;</td></tr>
<tr><th id="219">219</th><td>  <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAllocation31ComputePeakMemoryLogicalBuffersEv" title='xla::BufferAllocation::ComputePeakMemoryLogicalBuffers' data-ref="_ZNK3xla16BufferAllocation31ComputePeakMemoryLogicalBuffersEv" id="_ZNK3xla16BufferAllocation31ComputePeakMemoryLogicalBuffersEv">ComputePeakMemoryLogicalBuffers</a>() <em>const</em>;</td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td>  <i>// Get the number of bytes lost to fragmentation. This is equal to the</i></td></tr>
<tr><th id="222">222</th><td><i>  // difference between the size of the allocation and the size of the maximal</i></td></tr>
<tr><th id="223">223</th><td><i>  // live set.</i></td></tr>
<tr><th id="224">224</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAllocation19fragmentation_bytesEv" title='xla::BufferAllocation::fragmentation_bytes' data-ref="_ZNK3xla16BufferAllocation19fragmentation_bytesEv">fragmentation_bytes</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAllocation::fragmentation_bytes_" title='xla::BufferAllocation::fragmentation_bytes_' data-ref="xla::BufferAllocation::fragmentation_bytes_">fragmentation_bytes_</a>; }</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocationeqERKS0_" title='xla::BufferAllocation::operator==' data-ref="_ZNK3xla16BufferAllocationeqERKS0_"><b>operator</b>==</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <dfn class="local col3 decl" id="323other" title='other' data-type='const xla::BufferAllocation &amp;' data-ref="323other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="227">227</th><td>    <b>return</b> <a class="member" href="#xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</a> == <a class="local col3 ref" href="#323other" title='other' data-ref="323other">other</a>.<a class="member" href="#xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</a>;</td></tr>
<tr><th id="228">228</th><td>  }</td></tr>
<tr><th id="229">229</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocationneERKS0_" title='xla::BufferAllocation::operator!=' data-ref="_ZNK3xla16BufferAllocationneERKS0_"><b>operator</b>!=</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <dfn class="local col4 decl" id="324other" title='other' data-type='const xla::BufferAllocation &amp;' data-ref="324other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="230">230</th><td>    <b>return</b> !(*<b>this</b> <a class="member" href="#_ZNK3xla16BufferAllocationeqERKS0_" title='xla::BufferAllocation::operator==' data-ref="_ZNK3xla16BufferAllocationeqERKS0_">==</a> <a class="local col4 ref" href="#324other" title='other' data-ref="324other">other</a>);</td></tr>
<tr><th id="231">231</th><td>  }</td></tr>
<tr><th id="232">232</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAllocationltERKS0_" title='xla::BufferAllocation::operator&lt;' data-ref="_ZNK3xla16BufferAllocationltERKS0_"><b>operator</b>&lt;</dfn>(<em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <dfn class="local col5 decl" id="325other" title='other' data-type='const xla::BufferAllocation &amp;' data-ref="325other">other</dfn>) <em>const</em> {</td></tr>
<tr><th id="233">233</th><td>    <b>return</b> <a class="member" href="#_ZNK3xla16BufferAllocation5indexEv" title='xla::BufferAllocation::index' data-ref="_ZNK3xla16BufferAllocation5indexEv">index</a>() &lt; <a class="local col5 ref" href="#325other" title='other' data-ref="325other">other</a>.<a class="member" href="#_ZNK3xla16BufferAllocation5indexEv" title='xla::BufferAllocation::index' data-ref="_ZNK3xla16BufferAllocation5indexEv">index</a>();</td></tr>
<tr><th id="234">234</th><td>  }</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td> <b>private</b>:</td></tr>
<tr><th id="237">237</th><td>  <i>// Only BufferAssigner and BufferAssignment can modify BufferAllocation.</i></td></tr>
<tr><th id="238">238</th><td>  <b>friend</b> <b>class</b> <a class="type" href="#xla::BufferAssigner" title='xla::BufferAssigner' data-ref="xla::BufferAssigner">BufferAssigner</a>;</td></tr>
<tr><th id="239">239</th><td>  <b>friend</b> <b>class</b> <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>;</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>  <i>// Adds a LogicalBuffer to the set assigned to this buffer.</i></td></tr>
<tr><th id="242">242</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAllocation13AddAssignmentERKNS_13LogicalBufferExx" title='xla::BufferAllocation::AddAssignment' data-ref="_ZN3xla16BufferAllocation13AddAssignmentERKNS_13LogicalBufferExx" id="_ZN3xla16BufferAllocation13AddAssignmentERKNS_13LogicalBufferExx">AddAssignment</a>(<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col6 decl" id="326buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="326buffer">buffer</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col7 decl" id="327offset" title='offset' data-type='int64' data-ref="327offset">offset</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="328size" title='size' data-type='int64' data-ref="328size">size</dfn>);</td></tr>
<tr><th id="243">243</th><td></td></tr>
<tr><th id="244">244</th><td>  <em>void</em> <dfn class="decl def" id="_ZN3xla16BufferAllocation31set_entry_computation_parameterExNS_10ShapeIndexE" title='xla::BufferAllocation::set_entry_computation_parameter' data-ref="_ZN3xla16BufferAllocation31set_entry_computation_parameterExNS_10ShapeIndexE">set_entry_computation_parameter</dfn>(<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col9 decl" id="329parameter_number" title='parameter_number' data-type='int64' data-ref="329parameter_number">parameter_number</dfn>,</td></tr>
<tr><th id="245">245</th><td>                                       <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a> <dfn class="local col0 decl" id="330param_shape_index" title='param_shape_index' data-type='xla::ShapeIndex' data-ref="330param_shape_index">param_shape_index</dfn>) {</td></tr>
<tr><th id="246">246</th><td>    <a class="member" href="#xla::BufferAllocation::is_entry_computation_parameter_" title='xla::BufferAllocation::is_entry_computation_parameter_' data-ref="xla::BufferAllocation::is_entry_computation_parameter_">is_entry_computation_parameter_</a> = <b>true</b>;</td></tr>
<tr><th id="247">247</th><td>    <a class="member" href="#xla::BufferAllocation::parameter_number_" title='xla::BufferAllocation::parameter_number_' data-ref="xla::BufferAllocation::parameter_number_">parameter_number_</a> = <a class="local col9 ref" href="#329parameter_number" title='parameter_number' data-ref="329parameter_number">parameter_number</a>;</td></tr>
<tr><th id="248">248</th><td>    <a class="member" href="#xla::BufferAllocation::param_shape_index_" title='xla::BufferAllocation::param_shape_index_' data-ref="xla::BufferAllocation::param_shape_index_">param_shape_index_</a> <a class="ref" href="../shape_util.h.html#59" title='xla::ShapeIndex::operator=' data-ref="_ZN3xla10ShapeIndexaSEOS0_">=</a> <span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col0 ref" href="#330param_shape_index" title='param_shape_index' data-ref="330param_shape_index">param_shape_index</a></span>);</td></tr>
<tr><th id="249">249</th><td>  }</td></tr>
<tr><th id="250">250</th><td>  <em>void</em> <dfn class="decl def" id="_ZN3xla16BufferAllocation18set_maybe_live_outEb" title='xla::BufferAllocation::set_maybe_live_out' data-ref="_ZN3xla16BufferAllocation18set_maybe_live_outEb">set_maybe_live_out</dfn>(<em>bool</em> <dfn class="local col1 decl" id="331value" title='value' data-type='bool' data-ref="331value">value</dfn>) { <a class="member" href="#xla::BufferAllocation::maybe_live_out_" title='xla::BufferAllocation::maybe_live_out_' data-ref="xla::BufferAllocation::maybe_live_out_">maybe_live_out_</a> = <a class="local col1 ref" href="#331value" title='value' data-ref="331value">value</a>; }</td></tr>
<tr><th id="251">251</th><td>  <em>void</em> <dfn class="decl def" id="_ZN3xla16BufferAllocation9set_indexEx" title='xla::BufferAllocation::set_index' data-ref="_ZN3xla16BufferAllocation9set_indexEx">set_index</dfn>(<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="local col2 decl" id="332index" title='index' data-type='Index' data-ref="332index">index</dfn>) { <a class="member" href="#xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</a> = <a class="local col2 ref" href="#332index" title='index' data-ref="332index">index</a>; }</td></tr>
<tr><th id="252">252</th><td>  <em>void</em> <dfn class="decl def" id="_ZN3xla16BufferAllocation8set_sizeEx" title='xla::BufferAllocation::set_size' data-ref="_ZN3xla16BufferAllocation8set_sizeEx">set_size</dfn>(<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="333size" title='size' data-type='int64' data-ref="333size">size</dfn>) { <a class="member" href="#xla::BufferAllocation::size_" title='xla::BufferAllocation::size_' data-ref="xla::BufferAllocation::size_">size_</a> = <a class="local col3 ref" href="#333size" title='size' data-ref="333size">size</a>; }</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td>  <i>// The index of the allocation in the BufferAssignment.</i></td></tr>
<tr><th id="255">255</th><td>  <a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="decl" id="xla::BufferAllocation::index_" title='xla::BufferAllocation::index_' data-ref="xla::BufferAllocation::index_">index_</dfn>;</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td>  <i>// Size of the allocation in bytes.</i></td></tr>
<tr><th id="258">258</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::size_" title='xla::BufferAllocation::size_' data-ref="xla::BufferAllocation::size_">size_</dfn>;</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td>  <i>// Whether this buffer needs to be thread-local.</i></td></tr>
<tr><th id="261">261</th><td>  <em>bool</em> <dfn class="decl" id="xla::BufferAllocation::is_thread_local_" title='xla::BufferAllocation::is_thread_local_' data-ref="xla::BufferAllocation::is_thread_local_">is_thread_local_</dfn>;</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>  <i>// Whether this buffer is usable by more than one logical buffer.</i></td></tr>
<tr><th id="264">264</th><td>  <em>bool</em> <dfn class="decl" id="xla::BufferAllocation::is_reusable_" title='xla::BufferAllocation::is_reusable_' data-ref="xla::BufferAllocation::is_reusable_">is_reusable_</dfn>;</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>  <i>// Color of the allocation.</i></td></tr>
<tr><th id="267">267</th><td>  <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a> <dfn class="decl" id="xla::BufferAllocation::color_" title='xla::BufferAllocation::color_' data-ref="xla::BufferAllocation::color_">color_</dfn>;</td></tr>
<tr><th id="268">268</th><td></td></tr>
<tr><th id="269">269</th><td>  <i>// Whether this allocation holds an entry computation parameter. Entry</i></td></tr>
<tr><th id="270">270</th><td><i>  // computation parameters are special be cause they have lifetimes which may</i></td></tr>
<tr><th id="271">271</th><td><i>  // outlast the computation.</i></td></tr>
<tr><th id="272">272</th><td>  <em>bool</em> <dfn class="decl" id="xla::BufferAllocation::is_entry_computation_parameter_" title='xla::BufferAllocation::is_entry_computation_parameter_' data-ref="xla::BufferAllocation::is_entry_computation_parameter_">is_entry_computation_parameter_</dfn> = <b>false</b>;</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td>  <i>// If this allocation holds an entry computation parameter, this field</i></td></tr>
<tr><th id="275">275</th><td><i>  // indicates the index (starting from 0) of the parameter.</i></td></tr>
<tr><th id="276">276</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::parameter_number_" title='xla::BufferAllocation::parameter_number_' data-ref="xla::BufferAllocation::parameter_number_">parameter_number_</dfn> = <var>0</var>;</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>  <i>// If this buffer is for an entry computation parameter, which subshape of the</i></td></tr>
<tr><th id="279">279</th><td><i>  // parameter is it for?</i></td></tr>
<tr><th id="280">280</th><td>  <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a> <dfn class="decl" id="xla::BufferAllocation::param_shape_index_" title='xla::BufferAllocation::param_shape_index_' data-ref="xla::BufferAllocation::param_shape_index_">param_shape_index_</dfn>;</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>  <i>// Whether the allocation contains a LogicalBuffer which may be live-out of</i></td></tr>
<tr><th id="283">283</th><td><i>  // the entry computation. Note that this flag is conservatively computed by</i></td></tr>
<tr><th id="284">284</th><td><i>  // TuplePointsToAnalysis.  That is, an allocation marked `maybe_live_out_`</i></td></tr>
<tr><th id="285">285</th><td><i>  // might not actually escape.</i></td></tr>
<tr><th id="286">286</th><td>  <em>bool</em> <dfn class="decl" id="xla::BufferAllocation::maybe_live_out_" title='xla::BufferAllocation::maybe_live_out_' data-ref="xla::BufferAllocation::maybe_live_out_">maybe_live_out_</dfn> = <b>false</b>;</td></tr>
<tr><th id="287">287</th><td></td></tr>
<tr><th id="288">288</th><td>  <i>// Mapping from the set of buffers assigned to this allocation to their</i></td></tr>
<tr><th id="289">289</th><td><i>  // logical offsets and sizes.</i></td></tr>
<tr><th id="290">290</th><td>  <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*, <a class="type" href="#xla::BufferAllocation::OffsetSize" title='xla::BufferAllocation::OffsetSize' data-ref="xla::BufferAllocation::OffsetSize">OffsetSize</a>&gt; <dfn class="decl" id="xla::BufferAllocation::assigned_buffers_" title='xla::BufferAllocation::assigned_buffers_' data-ref="xla::BufferAllocation::assigned_buffers_">assigned_buffers_</dfn>;</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAllocation::fragmentation_bytes_" title='xla::BufferAllocation::fragmentation_bytes_' data-ref="xla::BufferAllocation::fragmentation_bytes_">fragmentation_bytes_</dfn> = <var>0</var>;</td></tr>
<tr><th id="293">293</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class='type' title='xla::HeapSimulatorTrace' data-ref="xla::HeapSimulatorTrace">HeapSimulatorTrace</span>&gt; <dfn class="decl" id="xla::BufferAllocation::heap_traces_" title='xla::BufferAllocation::heap_traces_' data-ref="xla::BufferAllocation::heap_traces_">heap_traces_</dfn>;</td></tr>
<tr><th id="294">294</th><td>};</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td><i>// Add stream operators for nicer output of CHECK/RET_CHECK failures.</i></td></tr>
<tr><th id="297">297</th><td><span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/5/iosfwd.html#std::ostream" title='std::ostream' data-type='basic_ostream&lt;char&gt;' data-ref="std::ostream">ostream</a>&amp; <a class="decl" href="buffer_assignment.cc.html#_ZN3xlalsERSoRKNS_16BufferAllocationE" title='xla::operator&lt;&lt;' data-ref="_ZN3xlalsERSoRKNS_16BufferAllocationE" id="_ZN3xlalsERSoRKNS_16BufferAllocationE"><b>operator</b>&lt;&lt;</a>(<span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/5/iosfwd.html#std::ostream" title='std::ostream' data-type='basic_ostream&lt;char&gt;' data-ref="std::ostream">ostream</a>&amp; <dfn class="local col4 decl" id="334out" title='out' data-type='std::ostream &amp;' data-ref="334out">out</dfn>, <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <dfn class="local col5 decl" id="335s" title='s' data-type='const xla::BufferAllocation &amp;' data-ref="335s">s</dfn>);</td></tr>
<tr><th id="298">298</th><td><span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/5/iosfwd.html#std::ostream" title='std::ostream' data-type='basic_ostream&lt;char&gt;' data-ref="std::ostream">ostream</a>&amp; <a class="decl" href="buffer_assignment.cc.html#_ZN3xlalsERSoRKNS_16BufferAllocation5SliceE" title='xla::operator&lt;&lt;' data-ref="_ZN3xlalsERSoRKNS_16BufferAllocation5SliceE" id="_ZN3xlalsERSoRKNS_16BufferAllocation5SliceE"><b>operator</b>&lt;&lt;</a>(<span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/5/iosfwd.html#std::ostream" title='std::ostream' data-type='basic_ostream&lt;char&gt;' data-ref="std::ostream">ostream</a>&amp; <dfn class="local col6 decl" id="336out" title='out' data-type='std::ostream &amp;' data-ref="336out">out</dfn>, <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&amp; <dfn class="local col7 decl" id="337s" title='s' data-type='const BufferAllocation::Slice &amp;' data-ref="337s">s</dfn>);</td></tr>
<tr><th id="299">299</th><td></td></tr>
<tr><th id="300">300</th><td><i>// This class encapsulates an assignment of the LogicalBuffers in an XLA</i></td></tr>
<tr><th id="301">301</th><td><i>// module to a set of BufferAllocations.</i></td></tr>
<tr><th id="302">302</th><td><b>class</b> <dfn class="type def" id="xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</dfn> {</td></tr>
<tr><th id="303">303</th><td> <b>public</b>:</td></tr>
<tr><th id="304">304</th><td>  <i>// Returns the vector containing all buffer allocations in this assignment.</i></td></tr>
<tr><th id="305">305</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&gt;&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment11AllocationsEv" title='xla::BufferAssignment::Allocations' data-ref="_ZNK3xla16BufferAssignment11AllocationsEv">Allocations</dfn>() <em>const</em> {</td></tr>
<tr><th id="306">306</th><td>    <b>return</b> <a class="member" href="#xla::BufferAssignment::allocations_" title='xla::BufferAssignment::allocations_' data-ref="xla::BufferAssignment::allocations_">allocations_</a>;</td></tr>
<tr><th id="307">307</th><td>  }</td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td>  <i>// Returns the total size allocation holding all temporary buffers.</i></td></tr>
<tr><th id="310">310</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl def" id="_ZNK3xla16BufferAssignment26temp_allocation_total_sizeEv" title='xla::BufferAssignment::temp_allocation_total_size' data-ref="_ZNK3xla16BufferAssignment26temp_allocation_total_sizeEv">temp_allocation_total_size</dfn>() <em>const</em> {</td></tr>
<tr><th id="311">311</th><td>    <b>return</b> <a class="member" href="#xla::BufferAssignment::temp_allocation_total_size_" title='xla::BufferAssignment::temp_allocation_total_size_' data-ref="xla::BufferAssignment::temp_allocation_total_size_">temp_allocation_total_size_</a>;</td></tr>
<tr><th id="312">312</th><td>  }</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td>  <i>// Returns whether the given buffer has been assigned an allocation.</i></td></tr>
<tr><th id="315">315</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment13HasAllocationERKNS_13LogicalBufferE" title='xla::BufferAssignment::HasAllocation' data-ref="_ZNK3xla16BufferAssignment13HasAllocationERKNS_13LogicalBufferE" id="_ZNK3xla16BufferAssignment13HasAllocationERKNS_13LogicalBufferE">HasAllocation</a>(<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col8 decl" id="338buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="338buffer">buffer</dfn>) <em>const</em>;</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>  <i>// Returns the allocation that a particular LogicalBuffer has been assigned</i></td></tr>
<tr><th id="318">318</th><td><i>  // to. CHECKs if buffer has not been assigned an allocation.</i></td></tr>
<tr><th id="319">319</th><td>  <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment21GetAssignedAllocationERKNS_13LogicalBufferE" title='xla::BufferAssignment::GetAssignedAllocation' data-ref="_ZNK3xla16BufferAssignment21GetAssignedAllocationERKNS_13LogicalBufferE" id="_ZNK3xla16BufferAssignment21GetAssignedAllocationERKNS_13LogicalBufferE">GetAssignedAllocation</a>(</td></tr>
<tr><th id="320">320</th><td>      <em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col9 decl" id="339buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="339buffer">buffer</dfn>) <em>const</em>;</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>  <i>// Returns the allocation with the given index. CHECKs if no allocation exists</i></td></tr>
<tr><th id="323">323</th><td><i>  // with the given index.</i></td></tr>
<tr><th id="324">324</th><td>  <em>const</em> <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&amp; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment13GetAllocationEx" title='xla::BufferAssignment::GetAllocation' data-ref="_ZNK3xla16BufferAssignment13GetAllocationEx" id="_ZNK3xla16BufferAssignment13GetAllocationEx">GetAllocation</a>(<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="local col0 decl" id="340index" title='index' data-type='BufferAllocation::Index' data-ref="340index">index</dfn>) <em>const</em>;</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td>  <i>// Builds and returns a vector containing the slices which might contain the</i></td></tr>
<tr><th id="327">327</th><td><i>  // subvalue at the given index of given instruction.</i></td></tr>
<tr><th id="328">328</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_set.h.html#std::set" title='std::set' data-ref="std::set">set</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&gt; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment12GetAllSlicesEPKNS_14HloInstructionERKNS_10ShapeIndexE" title='xla::BufferAssignment::GetAllSlices' data-ref="_ZNK3xla16BufferAssignment12GetAllSlicesEPKNS_14HloInstructionERKNS_10ShapeIndexE" id="_ZNK3xla16BufferAssignment12GetAllSlicesEPKNS_14HloInstructionERKNS_10ShapeIndexE">GetAllSlices</a>(</td></tr>
<tr><th id="329">329</th><td>      <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col1 decl" id="341instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="341instruction">instruction</dfn>, <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col2 decl" id="342index" title='index' data-type='const xla::ShapeIndex &amp;' data-ref="342index">index</dfn>) <em>const</em>;</td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td>  <i>// Convenience function which returns whether the buffer of the</i></td></tr>
<tr><th id="332">332</th><td><i>  // instruction at the given index is assigned an allocation.</i></td></tr>
<tr><th id="333">333</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment15HasAllocationAtEPKNS_14HloInstructionERKNS_10ShapeIndexE" title='xla::BufferAssignment::HasAllocationAt' data-ref="_ZNK3xla16BufferAssignment15HasAllocationAtEPKNS_14HloInstructionERKNS_10ShapeIndexE" id="_ZNK3xla16BufferAssignment15HasAllocationAtEPKNS_14HloInstructionERKNS_10ShapeIndexE">HasAllocationAt</a>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col3 decl" id="343instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="343instruction">instruction</dfn>,</td></tr>
<tr><th id="334">334</th><td>                       <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col4 decl" id="344index" title='index' data-type='const xla::ShapeIndex &amp;' data-ref="344index">index</dfn>) <em>const</em>;</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td>  <i>// Convenience function which returns whether the top-level buffer of the</i></td></tr>
<tr><th id="337">337</th><td><i>  // instruction (index == {}) is assigned an allocation.</i></td></tr>
<tr><th id="338">338</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment21HasTopLevelAllocationEPKNS_14HloInstructionE" title='xla::BufferAssignment::HasTopLevelAllocation' data-ref="_ZNK3xla16BufferAssignment21HasTopLevelAllocationEPKNS_14HloInstructionE" id="_ZNK3xla16BufferAssignment21HasTopLevelAllocationEPKNS_14HloInstructionE">HasTopLevelAllocation</a>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col5 decl" id="345instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="345instruction">instruction</dfn>) <em>const</em>;</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>  <i>// Convenience function which returns the unique slice containing the buffer</i></td></tr>
<tr><th id="341">341</th><td><i>  // at the given index of the given instruction. If a slice is not assigned or</i></td></tr>
<tr><th id="342">342</th><td><i>  // the slice cannot be determined at compile time then an error is returned.</i></td></tr>
<tr><th id="343">343</th><td>  <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&gt; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment14GetUniqueSliceEPKNS_14HloInstructionERKNS_10ShapeIndexE" title='xla::BufferAssignment::GetUniqueSlice' data-ref="_ZNK3xla16BufferAssignment14GetUniqueSliceEPKNS_14HloInstructionERKNS_10ShapeIndexE" id="_ZNK3xla16BufferAssignment14GetUniqueSliceEPKNS_14HloInstructionERKNS_10ShapeIndexE">GetUniqueSlice</a>(</td></tr>
<tr><th id="344">344</th><td>      <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col6 decl" id="346instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="346instruction">instruction</dfn>, <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col7 decl" id="347index" title='index' data-type='const xla::ShapeIndex &amp;' data-ref="347index">index</dfn>) <em>const</em>;</td></tr>
<tr><th id="345">345</th><td>  <i>// Like GetUniqueSlice but fixes the index to the top-level of the shape</i></td></tr>
<tr><th id="346">346</th><td><i>  // (index = {}).</i></td></tr>
<tr><th id="347">347</th><td>  <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&gt; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment22GetUniqueTopLevelSliceEPKNS_14HloInstructionE" title='xla::BufferAssignment::GetUniqueTopLevelSlice' data-ref="_ZNK3xla16BufferAssignment22GetUniqueTopLevelSliceEPKNS_14HloInstructionE" id="_ZNK3xla16BufferAssignment22GetUniqueTopLevelSliceEPKNS_14HloInstructionE">GetUniqueTopLevelSlice</a>(</td></tr>
<tr><th id="348">348</th><td>      <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col8 decl" id="348instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="348instruction">instruction</dfn>) <em>const</em>;</td></tr>
<tr><th id="349">349</th><td>  <i>// Like GetUniqueTopLevelSlice but returns the slice for the output of the</i></td></tr>
<tr><th id="350">350</th><td><i>  // entry computation of the HLO module (ie, the result of the XLA</i></td></tr>
<tr><th id="351">351</th><td><i>  // computation).</i></td></tr>
<tr><th id="352">352</th><td>  <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="type" href="#xla::BufferAllocation::Slice" title='xla::BufferAllocation::Slice' data-ref="xla::BufferAllocation::Slice">Slice</a>&gt; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment28GetUniqueTopLevelOutputSliceEv" title='xla::BufferAssignment::GetUniqueTopLevelOutputSlice' data-ref="_ZNK3xla16BufferAssignment28GetUniqueTopLevelOutputSliceEv" id="_ZNK3xla16BufferAssignment28GetUniqueTopLevelOutputSliceEv">GetUniqueTopLevelOutputSlice</a>() <em>const</em>;</td></tr>
<tr><th id="353">353</th><td></td></tr>
<tr><th id="354">354</th><td>  <i>// Returns the set LogicalBuffers which may be the source of the value at the</i></td></tr>
<tr><th id="355">355</th><td><i>  // given index and instruction.</i></td></tr>
<tr><th id="356">356</th><td>  <em>const</em> <a class="type" href="tuple_points_to_analysis.h.html#xla::PointsToSet" title='xla::PointsToSet' data-ref="xla::PointsToSet">PointsToSet</a>::<a class="typedef" href="tuple_points_to_analysis.h.html#xla::PointsToSet::BufferList" title='xla::PointsToSet::BufferList' data-type='tensorflow::gtl::InlinedVector&lt;const LogicalBuffer *, 1&gt;' data-ref="xla::PointsToSet::BufferList">BufferList</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment16GetSourceBuffersEPKNS_14HloInstructionERKNS_10ShapeIndexE" title='xla::BufferAssignment::GetSourceBuffers' data-ref="_ZNK3xla16BufferAssignment16GetSourceBuffersEPKNS_14HloInstructionERKNS_10ShapeIndexE">GetSourceBuffers</dfn>(</td></tr>
<tr><th id="357">357</th><td>      <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col9 decl" id="349instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="349instruction">instruction</dfn>, <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col0 decl" id="350index" title='index' data-type='const xla::ShapeIndex &amp;' data-ref="350index">index</dfn>) <em>const</em> {</td></tr>
<tr><th id="358">358</th><td>    <b>return</b> <a class="member" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment14GetPointsToSetEPKNS_14HloInstructionE" title='xla::BufferAssignment::GetPointsToSet' data-ref="_ZNK3xla16BufferAssignment14GetPointsToSetEPKNS_14HloInstructionE">GetPointsToSet</a>(<a class="local col9 ref" href="#349instruction" title='instruction' data-ref="349instruction">instruction</a>).<a class="ref" href="tuple_points_to_analysis.h.html#_ZNK3xla11PointsToSet7elementERKNS_10ShapeIndexE" title='xla::PointsToSet::element' data-ref="_ZNK3xla11PointsToSet7elementERKNS_10ShapeIndexE">element</a>(<a class="local col0 ref" href="#350index" title='index' data-ref="350index">index</a>);</td></tr>
<tr><th id="359">359</th><td>  }</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td>  <i>// Returns true if 'hlo_a{shape_index_a}' and 'hlo_b{shape_index_b}'</i></td></tr>
<tr><th id="362">362</th><td><i>  // share the same BufferAllocation::Slice.</i></td></tr>
<tr><th id="363">363</th><td><i>  // Returns false otherwise.</i></td></tr>
<tr><th id="364">364</th><td><i>  // REQUIRES: BufferAssignment assigned allocations to both instructions.</i></td></tr>
<tr><th id="365">365</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment18SharesSliceAtIndexEPKNS_14HloInstructionERKNS_10ShapeIndexES3_S6_" title='xla::BufferAssignment::SharesSliceAtIndex' data-ref="_ZNK3xla16BufferAssignment18SharesSliceAtIndexEPKNS_14HloInstructionERKNS_10ShapeIndexES3_S6_" id="_ZNK3xla16BufferAssignment18SharesSliceAtIndexEPKNS_14HloInstructionERKNS_10ShapeIndexES3_S6_">SharesSliceAtIndex</a>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col1 decl" id="351hlo_a" title='hlo_a' data-type='const xla::HloInstruction *' data-ref="351hlo_a">hlo_a</dfn>,</td></tr>
<tr><th id="366">366</th><td>                          <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col2 decl" id="352shape_index_a" title='shape_index_a' data-type='const xla::ShapeIndex &amp;' data-ref="352shape_index_a">shape_index_a</dfn>,</td></tr>
<tr><th id="367">367</th><td>                          <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col3 decl" id="353hlo_b" title='hlo_b' data-type='const xla::HloInstruction *' data-ref="353hlo_b">hlo_b</dfn>,</td></tr>
<tr><th id="368">368</th><td>                          <em>const</em> <a class="type" href="../shape_util.h.html#xla::ShapeIndex" title='xla::ShapeIndex' data-ref="xla::ShapeIndex">ShapeIndex</a>&amp; <dfn class="local col4 decl" id="354shape_index_b" title='shape_index_b' data-type='const xla::ShapeIndex &amp;' data-ref="354shape_index_b">shape_index_b</dfn>) <em>const</em>;</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td>  <i>// Returns true if the top-level buffers of hlo_a and hlo_b are the same.</i></td></tr>
<tr><th id="371">371</th><td><i>  // REQUIRES: HasTopLevelAllocation(hlo_a) &amp;&amp; HasTopLevelAllocation(hlo_b).</i></td></tr>
<tr><th id="372">372</th><td>  <em>bool</em> <dfn class="decl def" id="_ZNK3xla16BufferAssignment19SharesTopLevelSliceEPKNS_14HloInstructionES3_" title='xla::BufferAssignment::SharesTopLevelSlice' data-ref="_ZNK3xla16BufferAssignment19SharesTopLevelSliceEPKNS_14HloInstructionES3_">SharesTopLevelSlice</dfn>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col5 decl" id="355hlo_a" title='hlo_a' data-type='const xla::HloInstruction *' data-ref="355hlo_a">hlo_a</dfn>,</td></tr>
<tr><th id="373">373</th><td>                           <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col6 decl" id="356hlo_b" title='hlo_b' data-type='const xla::HloInstruction *' data-ref="356hlo_b">hlo_b</dfn>) <em>const</em> {</td></tr>
<tr><th id="374">374</th><td>    <b>return</b> <a class="member" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment18SharesSliceAtIndexEPKNS_14HloInstructionERKNS_10ShapeIndexES3_S6_" title='xla::BufferAssignment::SharesSliceAtIndex' data-ref="_ZNK3xla16BufferAssignment18SharesSliceAtIndexEPKNS_14HloInstructionERKNS_10ShapeIndexES3_S6_">SharesSliceAtIndex</a>(<a class="local col5 ref" href="#355hlo_a" title='hlo_a' data-ref="355hlo_a">hlo_a</a>, <a class="ref" href="../shape_util.h.html#_ZN3xla10ShapeIndexC1Ev" title='xla::ShapeIndex::ShapeIndex' data-ref="_ZN3xla10ShapeIndexC1Ev">{</a>}, <a class="local col6 ref" href="#356hlo_b" title='hlo_b' data-ref="356hlo_b">hlo_b</a>, <a class="ref" href="../shape_util.h.html#_ZN3xla10ShapeIndexC1Ev" title='xla::ShapeIndex::ShapeIndex' data-ref="_ZN3xla10ShapeIndexC1Ev">{</a>});</td></tr>
<tr><th id="375">375</th><td>  }</td></tr>
<tr><th id="376">376</th><td></td></tr>
<tr><th id="377">377</th><td>  <i>// Returns true if hlo_a and hlo_b both have at least one buffer assigned for</i></td></tr>
<tr><th id="378">378</th><td><i>  // their top-level and each of their nested shape indices, and if hlo_a's</i></td></tr>
<tr><th id="379">379</th><td><i>  // buffers are all different from hlo_b's buffers.</i></td></tr>
<tr><th id="380">380</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment18HaveDisjointSlicesEPKNS_14HloInstructionES3_" title='xla::BufferAssignment::HaveDisjointSlices' data-ref="_ZNK3xla16BufferAssignment18HaveDisjointSlicesEPKNS_14HloInstructionES3_" id="_ZNK3xla16BufferAssignment18HaveDisjointSlicesEPKNS_14HloInstructionES3_">HaveDisjointSlices</a>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col7 decl" id="357hlo_a" title='hlo_a' data-type='const xla::HloInstruction *' data-ref="357hlo_a">hlo_a</dfn>,</td></tr>
<tr><th id="381">381</th><td>                          <em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col8 decl" id="358hlo_b" title='hlo_b' data-type='const xla::HloInstruction *' data-ref="358hlo_b">hlo_b</dfn>) <em>const</em>;</td></tr>
<tr><th id="382">382</th><td></td></tr>
<tr><th id="383">383</th><td>  <i>// Returns the underlying points-to analysis used for this assignment.</i></td></tr>
<tr><th id="384">384</th><td>  <em>const</em> <a class="type" href="tuple_points_to_analysis.h.html#xla::TuplePointsToAnalysis" title='xla::TuplePointsToAnalysis' data-ref="xla::TuplePointsToAnalysis">TuplePointsToAnalysis</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment18points_to_analysisEv" title='xla::BufferAssignment::points_to_analysis' data-ref="_ZNK3xla16BufferAssignment18points_to_analysisEv">points_to_analysis</dfn>() <em>const</em> {</td></tr>
<tr><th id="385">385</th><td>    <b>return</b> <a class="member" href="#xla::BufferAssignment::liveness_" title='xla::BufferAssignment::liveness_' data-ref="xla::BufferAssignment::liveness_">liveness_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="buffer_liveness.h.html#_ZNK3xla14BufferLiveness18points_to_analysisEv" title='xla::BufferLiveness::points_to_analysis' data-ref="_ZNK3xla14BufferLiveness18points_to_analysisEv">points_to_analysis</a>();</td></tr>
<tr><th id="386">386</th><td>  }</td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td>  <i>// Returns the BufferLiveness object used to construct this assignment.</i></td></tr>
<tr><th id="389">389</th><td>  <em>const</em> <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment8livenessEv" title='xla::BufferAssignment::liveness' data-ref="_ZNK3xla16BufferAssignment8livenessEv">liveness</dfn>() <em>const</em> { <b>return</b> <a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv">*</a><a class="member" href="#xla::BufferAssignment::liveness_" title='xla::BufferAssignment::liveness_' data-ref="xla::BufferAssignment::liveness_">liveness_</a>; }</td></tr>
<tr><th id="390">390</th><td></td></tr>
<tr><th id="391">391</th><td>  <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment8ToStringEv" title='xla::BufferAssignment::ToString' data-ref="_ZNK3xla16BufferAssignment8ToStringEv" id="_ZNK3xla16BufferAssignment8ToStringEv">ToString</a>() <em>const</em>;</td></tr>
<tr><th id="392">392</th><td>  <span class='type' title='xla::BufferAssignmentProto' data-ref="xla::BufferAssignmentProto">BufferAssignmentProto</span> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment7ToProtoEv" title='xla::BufferAssignment::ToProto' data-ref="_ZNK3xla16BufferAssignment7ToProtoEv" id="_ZNK3xla16BufferAssignment7ToProtoEv">ToProto</a>() <em>const</em>;</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td>  <i>// Statistics for the assignment.  Values initialized to -1 are not always</i></td></tr>
<tr><th id="395">395</th><td><i>  // collected; fragmentation is only collected for instructions that have a</i></td></tr>
<tr><th id="396">396</th><td><i>  // sequential total ordering.</i></td></tr>
<tr><th id="397">397</th><td>  <b>struct</b> <dfn class="type def" id="xla::BufferAssignment::Stats" title='xla::BufferAssignment::Stats' data-ref="xla::BufferAssignment::Stats">Stats</dfn> {</td></tr>
<tr><th id="398">398</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::parameter_allocation_count" title='xla::BufferAssignment::Stats::parameter_allocation_count' data-ref="xla::BufferAssignment::Stats::parameter_allocation_count">parameter_allocation_count</dfn> = <var>0</var>;</td></tr>
<tr><th id="399">399</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::parameter_allocation_bytes" title='xla::BufferAssignment::Stats::parameter_allocation_bytes' data-ref="xla::BufferAssignment::Stats::parameter_allocation_bytes">parameter_allocation_bytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="400">400</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::maybe_live_out_allocation_count" title='xla::BufferAssignment::Stats::maybe_live_out_allocation_count' data-ref="xla::BufferAssignment::Stats::maybe_live_out_allocation_count">maybe_live_out_allocation_count</dfn> = <var>0</var>;</td></tr>
<tr><th id="401">401</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::maybe_live_out_allocation_bytes" title='xla::BufferAssignment::Stats::maybe_live_out_allocation_bytes' data-ref="xla::BufferAssignment::Stats::maybe_live_out_allocation_bytes">maybe_live_out_allocation_bytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="402">402</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::preallocated_temp_allocation_count" title='xla::BufferAssignment::Stats::preallocated_temp_allocation_count' data-ref="xla::BufferAssignment::Stats::preallocated_temp_allocation_count">preallocated_temp_allocation_count</dfn> = <var>0</var>;</td></tr>
<tr><th id="403">403</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::preallocated_temp_allocation_bytes" title='xla::BufferAssignment::Stats::preallocated_temp_allocation_bytes' data-ref="xla::BufferAssignment::Stats::preallocated_temp_allocation_bytes">preallocated_temp_allocation_bytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="404">404</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::preallocated_temp_fragmentation_bytes" title='xla::BufferAssignment::Stats::preallocated_temp_fragmentation_bytes' data-ref="xla::BufferAssignment::Stats::preallocated_temp_fragmentation_bytes">preallocated_temp_fragmentation_bytes</dfn> = -<var>1</var>;</td></tr>
<tr><th id="405">405</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::total_allocation_count" title='xla::BufferAssignment::Stats::total_allocation_count' data-ref="xla::BufferAssignment::Stats::total_allocation_count">total_allocation_count</dfn> = <var>0</var>;</td></tr>
<tr><th id="406">406</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::total_allocation_bytes" title='xla::BufferAssignment::Stats::total_allocation_bytes' data-ref="xla::BufferAssignment::Stats::total_allocation_bytes">total_allocation_bytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="407">407</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::Stats::total_fragmentation_bytes" title='xla::BufferAssignment::Stats::total_fragmentation_bytes' data-ref="xla::BufferAssignment::Stats::total_fragmentation_bytes">total_fragmentation_bytes</dfn> = -<var>1</var>;</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment5Stats8ToStringEv" title='xla::BufferAssignment::Stats::ToString' data-ref="_ZNK3xla16BufferAssignment5Stats8ToStringEv" id="_ZNK3xla16BufferAssignment5Stats8ToStringEv">ToString</a>() <em>const</em>;</td></tr>
<tr><th id="410">410</th><td>  };</td></tr>
<tr><th id="411">411</th><td>  <em>const</em> <a class="type" href="#xla::BufferAssignment::Stats" title='xla::BufferAssignment::Stats' data-ref="xla::BufferAssignment::Stats">Stats</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment8GetStatsEv" title='xla::BufferAssignment::GetStats' data-ref="_ZNK3xla16BufferAssignment8GetStatsEv">GetStats</dfn>() <em>const</em> { <b>return</b> <a class="member" href="#xla::BufferAssignment::stats_" title='xla::BufferAssignment::stats_' data-ref="xla::BufferAssignment::stats_">stats_</a>; }</td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td> <b>private</b>:</td></tr>
<tr><th id="414">414</th><td>  <i>// Only BufferAssigner can build or modify BufferAssignments.</i></td></tr>
<tr><th id="415">415</th><td>  <b>friend</b> <b>class</b> <a class="type" href="#xla::BufferAssigner" title='xla::BufferAssigner' data-ref="xla::BufferAssigner">BufferAssigner</a>;</td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td>  <b>explicit</b> <dfn class="decl def" id="_ZN3xla16BufferAssignmentC1EPKNS_9HloModuleESt10unique_ptrINS_14BufferLivenessESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEEES9_IFxN10t16600267" title='xla::BufferAssignment::BufferAssignment' data-ref="_ZN3xla16BufferAssignmentC1EPKNS_9HloModuleESt10unique_ptrINS_14BufferLivenessESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEEES9_IFxN10t16600267">BufferAssignment</dfn>(<em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>* <dfn class="local col9 decl" id="359module" title='module' data-type='const xla::HloModule *' data-ref="359module">module</dfn>,</td></tr>
<tr><th id="418">418</th><td>                            <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>&gt; <dfn class="local col0 decl" id="360liveness" title='liveness' data-type='std::unique_ptr&lt;BufferLiveness&gt;' data-ref="360liveness">liveness</dfn>,</td></tr>
<tr><th id="419">419</th><td>                            <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a> <dfn class="local col1 decl" id="361buffer_size" title='buffer_size' data-type='LogicalBuffer::SizeFunction' data-ref="361buffer_size">buffer_size</dfn>,</td></tr>
<tr><th id="420">420</th><td>                            <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::AlignmentFunction" title='xla::LogicalBuffer::AlignmentFunction' data-type='std::function&lt;int64 (LogicalBuffer::Color)&gt;' data-ref="xla::LogicalBuffer::AlignmentFunction">AlignmentFunction</a> <dfn class="local col2 decl" id="362color_alignment" title='color_alignment' data-type='LogicalBuffer::AlignmentFunction' data-ref="362color_alignment">color_alignment</dfn>)</td></tr>
<tr><th id="421">421</th><td>      : <a class="member" href="#xla::BufferAssignment::module_" title='xla::BufferAssignment::module_' data-ref="xla::BufferAssignment::module_">module_</a>(<a class="local col9 ref" href="#359module" title='module' data-ref="359module">module</a>),</td></tr>
<tr><th id="422">422</th><td>        <a class="member" href="#xla::BufferAssignment::liveness_" title='xla::BufferAssignment::liveness_' data-ref="xla::BufferAssignment::liveness_">liveness_</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E">(</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col0 ref" href="#360liveness" title='liveness' data-ref="360liveness">liveness</a></span>)),</td></tr>
<tr><th id="423">423</th><td>        <a class="member" href="#xla::BufferAssignment::buffer_size_" title='xla::BufferAssignment::buffer_size_' data-ref="xla::BufferAssignment::buffer_size_">buffer_size_</a><a class="ref" href="../../../../../include/c++/5/functional.html#_ZNSt8functionIFT_DpT0_EEC1EOS_IS3_E" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZNSt8functionIFT_DpT0_EEC1EOS_IS3_E">(</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col1 ref" href="#361buffer_size" title='buffer_size' data-ref="361buffer_size">buffer_size</a></span>)),</td></tr>
<tr><th id="424">424</th><td>        <a class="member" href="#xla::BufferAssignment::color_alignment_" title='xla::BufferAssignment::color_alignment_' data-ref="xla::BufferAssignment::color_alignment_">color_alignment_</a><a class="ref" href="../../../../../include/c++/5/functional.html#_ZNSt8functionIFT_DpT0_EEC1EOS_IS3_E" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZNSt8functionIFT_DpT0_EEC1EOS_IS3_E">(</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col2 ref" href="#362color_alignment" title='color_alignment' data-ref="362color_alignment">color_alignment</a></span>)) {}</td></tr>
<tr><th id="425">425</th><td></td></tr>
<tr><th id="426">426</th><td>  <i>// Creates and returns a new BufferAllocation, with no assigned</i></td></tr>
<tr><th id="427">427</th><td><i>  // LogicalBuffers. Ownership is maintained internally.</i></td></tr>
<tr><th id="428">428</th><td>  <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment18NewEmptyAllocationExbbN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE" title='xla::BufferAssignment::NewEmptyAllocation' data-ref="_ZN3xla16BufferAssignment18NewEmptyAllocationExbbN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE" id="_ZN3xla16BufferAssignment18NewEmptyAllocationExbbN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE">NewEmptyAllocation</a>(<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="363size" title='size' data-type='int64' data-ref="363size">size</dfn>, <em>bool</em> <dfn class="local col4 decl" id="364is_thread_local" title='is_thread_local' data-type='bool' data-ref="364is_thread_local">is_thread_local</dfn>,</td></tr>
<tr><th id="429">429</th><td>                                       <em>bool</em> <dfn class="local col5 decl" id="365is_reusable" title='is_reusable' data-type='bool' data-ref="365is_reusable">is_reusable</dfn>,</td></tr>
<tr><th id="430">430</th><td>                                       <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a> <dfn class="local col6 decl" id="366color" title='color' data-type='LogicalBuffer::Color' data-ref="366color">color</dfn>);</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td>  <i>// Helper that calls NewEmptyAllocation and AddAssignment in one call,</i></td></tr>
<tr><th id="433">433</th><td><i>  // creating an allocation containing a single LogicalBuffer.</i></td></tr>
<tr><th id="434">434</th><td>  <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment13NewAllocationERKNS_13LogicalBufferExbb" title='xla::BufferAssignment::NewAllocation' data-ref="_ZN3xla16BufferAssignment13NewAllocationERKNS_13LogicalBufferExbb" id="_ZN3xla16BufferAssignment13NewAllocationERKNS_13LogicalBufferExbb">NewAllocation</a>(<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col7 decl" id="367buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="367buffer">buffer</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col8 decl" id="368size" title='size' data-type='int64' data-ref="368size">size</dfn>,</td></tr>
<tr><th id="435">435</th><td>                                  <em>bool</em> <dfn class="local col9 decl" id="369is_thread_local" title='is_thread_local' data-type='bool' data-ref="369is_thread_local">is_thread_local</dfn>, <em>bool</em> <dfn class="local col0 decl" id="370is_reusable" title='is_reusable' data-type='bool' data-ref="370is_reusable">is_reusable</dfn>);</td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td>  <i>// Adds a LogicalBuffer to the set assigned to the given allocation.</i></td></tr>
<tr><th id="438">438</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment13AddAssignmentEPNS_16BufferAllocationERKNS_13LogicalBufferExx" title='xla::BufferAssignment::AddAssignment' data-ref="_ZN3xla16BufferAssignment13AddAssignmentEPNS_16BufferAllocationERKNS_13LogicalBufferExx" id="_ZN3xla16BufferAssignment13AddAssignmentEPNS_16BufferAllocationERKNS_13LogicalBufferExx">AddAssignment</a>(<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <dfn class="local col1 decl" id="371allocation" title='allocation' data-type='xla::BufferAllocation *' data-ref="371allocation">allocation</dfn>, <em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col2 decl" id="372buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="372buffer">buffer</dfn>,</td></tr>
<tr><th id="439">439</th><td>                     <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col3 decl" id="373offset" title='offset' data-type='int64' data-ref="373offset">offset</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col4 decl" id="374size" title='size' data-type='int64' data-ref="374size">size</dfn>);</td></tr>
<tr><th id="440">440</th><td></td></tr>
<tr><th id="441">441</th><td>  <i>// Returns the HloModule used to construct this assignment.</i></td></tr>
<tr><th id="442">442</th><td>  <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>&amp; <dfn class="decl def" id="_ZNK3xla16BufferAssignment6moduleEv" title='xla::BufferAssignment::module' data-ref="_ZNK3xla16BufferAssignment6moduleEv">module</dfn>() <em>const</em> { <b>return</b> *<a class="member" href="#xla::BufferAssignment::module_" title='xla::BufferAssignment::module_' data-ref="xla::BufferAssignment::module_">module_</a>; }</td></tr>
<tr><th id="443">443</th><td></td></tr>
<tr><th id="444">444</th><td>  <i>// Convenience function which returns the PointsToSet for the given</i></td></tr>
<tr><th id="445">445</th><td><i>  // instruction. Extracted from the liveness object.</i></td></tr>
<tr><th id="446">446</th><td>  <em>const</em> <a class="type" href="tuple_points_to_analysis.h.html#xla::PointsToSet" title='xla::PointsToSet' data-ref="xla::PointsToSet">PointsToSet</a>&amp; <a class="decl" href="buffer_assignment.cc.html#_ZNK3xla16BufferAssignment14GetPointsToSetEPKNS_14HloInstructionE" title='xla::BufferAssignment::GetPointsToSet' data-ref="_ZNK3xla16BufferAssignment14GetPointsToSetEPKNS_14HloInstructionE" id="_ZNK3xla16BufferAssignment14GetPointsToSetEPKNS_14HloInstructionE">GetPointsToSet</a>(<em>const</em> <a class="type" href="hlo_instruction.h.html#xla::HloInstruction" title='xla::HloInstruction' data-ref="xla::HloInstruction">HloInstruction</a>* <dfn class="local col5 decl" id="375instruction" title='instruction' data-type='const xla::HloInstruction *' data-ref="375instruction">instruction</dfn>) <em>const</em>;</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td>  <i>// Mutable accessors for allocations.</i></td></tr>
<tr><th id="449">449</th><td>  <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment28GetMutableAssignedAllocationERKNS_13LogicalBufferE" title='xla::BufferAssignment::GetMutableAssignedAllocation' data-ref="_ZN3xla16BufferAssignment28GetMutableAssignedAllocationERKNS_13LogicalBufferE" id="_ZN3xla16BufferAssignment28GetMutableAssignedAllocationERKNS_13LogicalBufferE">GetMutableAssignedAllocation</a>(<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col6 decl" id="376buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="376buffer">buffer</dfn>);</td></tr>
<tr><th id="450">450</th><td>  <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment20GetMutableAllocationEx" title='xla::BufferAssignment::GetMutableAllocation' data-ref="_ZN3xla16BufferAssignment20GetMutableAllocationEx" id="_ZN3xla16BufferAssignment20GetMutableAllocationEx">GetMutableAllocation</a>(<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a> <dfn class="local col7 decl" id="377index" title='index' data-type='BufferAllocation::Index' data-ref="377index">index</dfn>);</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td>  <i>// Combines allocations of temporary buffers into one big BufferAllocation.</i></td></tr>
<tr><th id="453">453</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment22CombineTempAllocationsEv" title='xla::BufferAssignment::CombineTempAllocations' data-ref="_ZN3xla16BufferAssignment22CombineTempAllocationsEv" id="_ZN3xla16BufferAssignment22CombineTempAllocationsEv">CombineTempAllocations</a>();</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td>  <i>// Computes stats for the assignment, to be retrieved by GetStats.</i></td></tr>
<tr><th id="456">456</th><td>  <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla16BufferAssignment19ComputeSummaryStatsEv" title='xla::BufferAssignment::ComputeSummaryStats' data-ref="_ZN3xla16BufferAssignment19ComputeSummaryStatsEv" id="_ZN3xla16BufferAssignment19ComputeSummaryStatsEv">ComputeSummaryStats</a>();</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>  <i>// The vector of buffer allocations. Indexed by BufferAllocation::Index.</i></td></tr>
<tr><th id="459">459</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>&gt; <dfn class="decl" id="xla::BufferAssignment::allocations_" title='xla::BufferAssignment::allocations_' data-ref="xla::BufferAssignment::allocations_">allocations_</dfn>;</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td>  <i>// The total size of all temporary buffers.</i></td></tr>
<tr><th id="462">462</th><td>  <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="decl" id="xla::BufferAssignment::temp_allocation_total_size_" title='xla::BufferAssignment::temp_allocation_total_size_' data-ref="xla::BufferAssignment::temp_allocation_total_size_">temp_allocation_total_size_</dfn> = <var>0</var>;</td></tr>
<tr><th id="463">463</th><td></td></tr>
<tr><th id="464">464</th><td>  <i>// Maps Buffers to the index of the BufferAllocation which holds the buffer.</i></td></tr>
<tr><th id="465">465</th><td>  <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*, <a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a>&gt;</td></tr>
<tr><th id="466">466</th><td>      <dfn class="decl" id="xla::BufferAssignment::allocation_index_for_buffer_" title='xla::BufferAssignment::allocation_index_for_buffer_' data-ref="xla::BufferAssignment::allocation_index_for_buffer_">allocation_index_for_buffer_</dfn>;</td></tr>
<tr><th id="467">467</th><td></td></tr>
<tr><th id="468">468</th><td>  <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>* <dfn class="decl" id="xla::BufferAssignment::module_" title='xla::BufferAssignment::module_' data-ref="xla::BufferAssignment::module_">module_</dfn>;</td></tr>
<tr><th id="469">469</th><td>  <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>&gt; <dfn class="decl" id="xla::BufferAssignment::liveness_" title='xla::BufferAssignment::liveness_' data-ref="xla::BufferAssignment::liveness_">liveness_</dfn>;</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td>  <i>// Function which returns the buffer size for a given logical buffer (shape).</i></td></tr>
<tr><th id="472">472</th><td>  <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a> <dfn class="decl" id="xla::BufferAssignment::buffer_size_" title='xla::BufferAssignment::buffer_size_' data-ref="xla::BufferAssignment::buffer_size_">buffer_size_</dfn>;</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td>  <i>// Function which returns the alignment for a given logical buffer color.</i></td></tr>
<tr><th id="475">475</th><td>  <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::AlignmentFunction" title='xla::LogicalBuffer::AlignmentFunction' data-type='std::function&lt;int64 (LogicalBuffer::Color)&gt;' data-ref="xla::LogicalBuffer::AlignmentFunction">AlignmentFunction</a> <dfn class="decl" id="xla::BufferAssignment::color_alignment_" title='xla::BufferAssignment::color_alignment_' data-ref="xla::BufferAssignment::color_alignment_">color_alignment_</dfn>;</td></tr>
<tr><th id="476">476</th><td></td></tr>
<tr><th id="477">477</th><td>  <a class="type" href="#xla::BufferAssignment::Stats" title='xla::BufferAssignment::Stats' data-ref="xla::BufferAssignment::Stats">Stats</a> <dfn class="decl" id="xla::BufferAssignment::stats_" title='xla::BufferAssignment::stats_' data-ref="xla::BufferAssignment::stats_">stats_</dfn>;</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>  <a class="macro" href="../../../core/platform/macros.h.html#91" title="BufferAssignment(const BufferAssignment&amp;) = delete; void operator=(const BufferAssignment&amp;) = delete" data-ref="_M/TF_DISALLOW_COPY_AND_ASSIGN">TF_DISALLOW_COPY_AND_ASSIGN</a>(<dfn class="decl def" id="_ZN3xla16BufferAssignmentC1ERKS0_" title='xla::BufferAssignment::BufferAssignment' data-ref="_ZN3xla16BufferAssignmentC1ERKS0_"><a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment"><a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a></a></dfn>);</td></tr>
<tr><th id="480">480</th><td>};</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td><i>// A class which constructs a buffer assignment.</i></td></tr>
<tr><th id="483">483</th><td><b>class</b> <dfn class="type def" id="xla::BufferAssigner" title='xla::BufferAssigner' data-ref="xla::BufferAssigner">BufferAssigner</dfn> {</td></tr>
<tr><th id="484">484</th><td> <b>public</b>:</td></tr>
<tr><th id="485">485</th><td>  <i>// Build and return a BufferAssignment for the given module. The given</i></td></tr>
<tr><th id="486">486</th><td><i>  // HloOrdering is used to determine buffer liveness. buffer_size and</i></td></tr>
<tr><th id="487">487</th><td><i>  // color_alignment are functions which returns the size and alignment of a</i></td></tr>
<tr><th id="488">488</th><td><i>  // LogicalBuffer.  allow_input_output_aliasing specifies whether input buffer</i></td></tr>
<tr><th id="489">489</th><td><i>  // are allowed to be reused as outbut buffers by the client code.</i></td></tr>
<tr><th id="490">490</th><td>  <em>static</em> <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>&gt;&gt; <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner3RunEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEEES9_IFxN10tens16600829" title='xla::BufferAssigner::Run' data-ref="_ZN3xla14BufferAssigner3RunEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEEES9_IFxN10tens16600829" id="_ZN3xla14BufferAssigner3RunEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEEES9_IFxN10tens16600829">Run</a>(</td></tr>
<tr><th id="491">491</th><td>      <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>* <dfn class="local col8 decl" id="378module" title='module' data-type='const xla::HloModule *' data-ref="378module">module</dfn>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_ordering.h.html#xla::HloOrdering" title='xla::HloOrdering' data-ref="xla::HloOrdering">HloOrdering</a>&gt; <dfn class="local col9 decl" id="379hlo_ordering" title='hlo_ordering' data-type='std::unique_ptr&lt;HloOrdering&gt;' data-ref="379hlo_ordering">hlo_ordering</dfn>,</td></tr>
<tr><th id="492">492</th><td>      <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a> <dfn class="local col0 decl" id="380buffer_size" title='buffer_size' data-type='LogicalBuffer::SizeFunction' data-ref="380buffer_size">buffer_size</dfn>,</td></tr>
<tr><th id="493">493</th><td>      <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::AlignmentFunction" title='xla::LogicalBuffer::AlignmentFunction' data-type='std::function&lt;int64 (LogicalBuffer::Color)&gt;' data-ref="xla::LogicalBuffer::AlignmentFunction">AlignmentFunction</a> <dfn class="local col1 decl" id="381color_alignment" title='color_alignment' data-type='LogicalBuffer::AlignmentFunction' data-ref="381color_alignment">color_alignment</dfn>,</td></tr>
<tr><th id="494">494</th><td>      <em>bool</em> <dfn class="local col2 decl" id="382allow_input_output_aliasing" title='allow_input_output_aliasing' data-type='bool' data-ref="382allow_input_output_aliasing">allow_input_output_aliasing</dfn> = <b>false</b>,</td></tr>
<tr><th id="495">495</th><td>      <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>::<a class="typedef" href="buffer_liveness.h.html#xla::BufferLiveness::Colorer" title='xla::BufferLiveness::Colorer' data-type='std::function&lt;Status (const BufferLiveness &amp;)&gt;' data-ref="xla::BufferLiveness::Colorer">Colorer</a> <dfn class="local col3 decl" id="383colorer" title='colorer' data-type='BufferLiveness::Colorer' data-ref="383colorer">colorer</dfn> = <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>::<a class="ref" href="buffer_liveness.h.html#_ZN3xla14BufferLiveness14DefaultColorerEv" title='xla::BufferLiveness::DefaultColorer' data-ref="_ZN3xla14BufferLiveness14DefaultColorerEv">DefaultColorer</a>());</td></tr>
<tr><th id="496">496</th><td></td></tr>
<tr><th id="497">497</th><td> <b>private</b>:</td></tr>
<tr><th id="498">498</th><td>  <dfn class="decl def" id="_ZN3xla14BufferAssignerC1EbSt8functionIFN10tensorflow6StatusERKNS_14BufferLivenessEEE" title='xla::BufferAssigner::BufferAssigner' data-ref="_ZN3xla14BufferAssignerC1EbSt8functionIFN10tensorflow6StatusERKNS_14BufferLivenessEEE">BufferAssigner</dfn>(<em>bool</em> <dfn class="local col4 decl" id="384allow_input_output_aliasing" title='allow_input_output_aliasing' data-type='bool' data-ref="384allow_input_output_aliasing">allow_input_output_aliasing</dfn>,</td></tr>
<tr><th id="499">499</th><td>                 <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>::<a class="typedef" href="buffer_liveness.h.html#xla::BufferLiveness::Colorer" title='xla::BufferLiveness::Colorer' data-type='std::function&lt;Status (const BufferLiveness &amp;)&gt;' data-ref="xla::BufferLiveness::Colorer">Colorer</a> <dfn class="local col5 decl" id="385colorer" title='colorer' data-type='BufferLiveness::Colorer' data-ref="385colorer">colorer</dfn>)</td></tr>
<tr><th id="500">500</th><td>      : <a class="member" href="#xla::BufferAssigner::allow_input_output_aliasing_" title='xla::BufferAssigner::allow_input_output_aliasing_' data-ref="xla::BufferAssigner::allow_input_output_aliasing_">allow_input_output_aliasing_</a>(<a class="local col4 ref" href="#384allow_input_output_aliasing" title='allow_input_output_aliasing' data-ref="384allow_input_output_aliasing">allow_input_output_aliasing</a>),</td></tr>
<tr><th id="501">501</th><td>        <a class="member" href="#xla::BufferAssigner::colorer_" title='xla::BufferAssigner::colorer_' data-ref="xla::BufferAssigner::colorer_">colorer_</a><a class="ref" href="../../../../../include/c++/5/functional.html#_ZNSt8functionIFT_DpT0_EEC1ERKS_IS3_E" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZNSt8functionIFT_DpT0_EEC1ERKS_IS3_E">(</a><a class="local col5 ref" href="#385colorer" title='colorer' data-ref="385colorer">colorer</a>) {}</td></tr>
<tr><th id="502">502</th><td>  <b>virtual</b> <dfn class="virtual decl def" id="_ZN3xla14BufferAssignerD1Ev" title='xla::BufferAssigner::~BufferAssigner' data-ref="_ZN3xla14BufferAssignerD1Ev">~BufferAssigner</dfn>() = <b>default</b>;</td></tr>
<tr><th id="503">503</th><td></td></tr>
<tr><th id="504">504</th><td>  <i>// Create a buffer assignment.</i></td></tr>
<tr><th id="505">505</th><td>  <a class="type" href="../statusor.h.html#xla::StatusOr" title='xla::StatusOr' data-ref="xla::StatusOr">StatusOr</a>&lt;<span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>&gt;&gt; <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner16CreateAssignmentEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEE7316938" title='xla::BufferAssigner::CreateAssignment' data-ref="_ZN3xla14BufferAssigner16CreateAssignmentEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEE7316938" id="_ZN3xla14BufferAssigner16CreateAssignmentEPKNS_9HloModuleESt10unique_ptrINS_11HloOrderingESt14default_deleteIS5_EESt8functionIFxRKNS_13LogicalBufferEE7316938">CreateAssignment</a>(</td></tr>
<tr><th id="506">506</th><td>      <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>* <dfn class="local col6 decl" id="386module" title='module' data-type='const xla::HloModule *' data-ref="386module">module</dfn>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr">unique_ptr</a>&lt;<a class="type" href="hlo_ordering.h.html#xla::HloOrdering" title='xla::HloOrdering' data-ref="xla::HloOrdering">HloOrdering</a>&gt; <dfn class="local col7 decl" id="387hlo_ordering" title='hlo_ordering' data-type='std::unique_ptr&lt;HloOrdering&gt;' data-ref="387hlo_ordering">hlo_ordering</dfn>,</td></tr>
<tr><th id="507">507</th><td>      <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a> <dfn class="local col8 decl" id="388buffer_size" title='buffer_size' data-type='LogicalBuffer::SizeFunction' data-ref="388buffer_size">buffer_size</dfn>,</td></tr>
<tr><th id="508">508</th><td>      <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::AlignmentFunction" title='xla::LogicalBuffer::AlignmentFunction' data-type='std::function&lt;int64 (LogicalBuffer::Color)&gt;' data-ref="xla::LogicalBuffer::AlignmentFunction">AlignmentFunction</a> <dfn class="local col9 decl" id="389color_alignment" title='color_alignment' data-type='LogicalBuffer::AlignmentFunction' data-ref="389color_alignment">color_alignment</dfn>);</td></tr>
<tr><th id="509">509</th><td></td></tr>
<tr><th id="510">510</th><td>  <i>// Assigns buffers to the instructions in the given computation. "assignment"</i></td></tr>
<tr><th id="511">511</th><td><i>  // is modified to reflect the new buffer assignments. If is_thread_local is</i></td></tr>
<tr><th id="512">512</th><td><i>  // true, then all assigned buffers have the is_thread_local flag set to</i></td></tr>
<tr><th id="513">513</th><td><i>  // true.</i></td></tr>
<tr><th id="514">514</th><td>  <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner27AssignBuffersForComputationEPKNS_14HloComputationERKNS_12DebugOptionsEbRKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS7_44467117" title='xla::BufferAssigner::AssignBuffersForComputation' data-ref="_ZN3xla14BufferAssigner27AssignBuffersForComputationEPKNS_14HloComputationERKNS_12DebugOptionsEbRKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS7_44467117" id="_ZN3xla14BufferAssigner27AssignBuffersForComputationEPKNS_14HloComputationERKNS_12DebugOptionsEbRKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS7_44467117">AssignBuffersForComputation</a>(</td></tr>
<tr><th id="515">515</th><td>      <em>const</em> <a class="type" href="hlo_computation.h.html#xla::HloComputation" title='xla::HloComputation' data-ref="xla::HloComputation">HloComputation</a>* <dfn class="local col0 decl" id="390computation" title='computation' data-type='const xla::HloComputation *' data-ref="390computation">computation</dfn>, <em>const</em> <span class='type' title='xla::DebugOptions' data-ref="xla::DebugOptions">DebugOptions</span>&amp; <dfn class="local col1 decl" id="391debug_options" title='debug_options' data-type='const xla::DebugOptions &amp;' data-ref="391debug_options">debug_options</dfn>,</td></tr>
<tr><th id="516">516</th><td>      <em>bool</em> <dfn class="local col2 decl" id="392is_thread_local" title='is_thread_local' data-type='bool' data-ref="392is_thread_local">is_thread_local</dfn>,</td></tr>
<tr><th id="517">517</th><td>      <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&amp; <dfn class="local col3 decl" id="393colocated_buffers" title='colocated_buffers' data-type='const tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt; &amp;' data-ref="393colocated_buffers">colocated_buffers</dfn>,</td></tr>
<tr><th id="518">518</th><td>      <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a>&gt;&amp;</td></tr>
<tr><th id="519">519</th><td>          <dfn class="local col4 decl" id="394colocated_allocations" title='colocated_allocations' data-type='const tensorflow::gtl::FlatSet&lt;BufferAllocation::Index&gt; &amp;' data-ref="394colocated_allocations">colocated_allocations</dfn>,</td></tr>
<tr><th id="520">520</th><td>      <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;<em>const</em> <a class="type" href="hlo_computation.h.html#xla::HloComputation" title='xla::HloComputation' data-ref="xla::HloComputation">HloComputation</a>*,</td></tr>
<tr><th id="521">521</th><td>                               <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&gt;*</td></tr>
<tr><th id="522">522</th><td>          <dfn class="local col5 decl" id="395buffers_to_assign_sequentially" title='buffers_to_assign_sequentially' data-type='tensorflow::gtl::FlatMap&lt;const HloComputation *, tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt; &gt; *' data-ref="395buffers_to_assign_sequentially">buffers_to_assign_sequentially</dfn>,</td></tr>
<tr><th id="523">523</th><td>      <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>* <dfn class="local col6 decl" id="396assignment" title='assignment' data-type='xla::BufferAssignment *' data-ref="396assignment">assignment</dfn>);</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td>  <i>// Assigns 'buffers_to_assign_sequentially' using heap simulation, assuming</i></td></tr>
<tr><th id="526">526</th><td><i>  // the HLO instructions will be executed in the sequential order given by</i></td></tr>
<tr><th id="527">527</th><td><i>  // assignment-&gt;liveness().hlo_ordering().SequentialOrder. If</i></td></tr>
<tr><th id="528">528</th><td><i>  // 'run_whole_module_heap_simulation' is true, the heap simulation will be run</i></td></tr>
<tr><th id="529">529</th><td><i>  // assuming all global computations are sequentially ordered.</i></td></tr>
<tr><th id="530">530</th><td>  <a class="type" href="../../../core/lib/core/status.h.html#tensorflow::Status" title='tensorflow::Status' data-ref="tensorflow::Status">Status</a> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner35AssignBuffersWithSequentialOrderingERKN10tensorflow3gtl7FlatMapIPKNS_14HloComputationENS2_7FlatSetIPKNS_13LogicalBufferENS1_41354386" title='xla::BufferAssigner::AssignBuffersWithSequentialOrdering' data-ref="_ZN3xla14BufferAssigner35AssignBuffersWithSequentialOrderingERKN10tensorflow3gtl7FlatMapIPKNS_14HloComputationENS2_7FlatSetIPKNS_13LogicalBufferENS1_41354386" id="_ZN3xla14BufferAssigner35AssignBuffersWithSequentialOrderingERKN10tensorflow3gtl7FlatMapIPKNS_14HloComputationENS2_7FlatSetIPKNS_13LogicalBufferENS1_41354386">AssignBuffersWithSequentialOrdering</a>(</td></tr>
<tr><th id="531">531</th><td>      <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;</td></tr>
<tr><th id="532">532</th><td>          <em>const</em> <a class="type" href="hlo_computation.h.html#xla::HloComputation" title='xla::HloComputation' data-ref="xla::HloComputation">HloComputation</a>*,</td></tr>
<tr><th id="533">533</th><td>          <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&gt;&amp;</td></tr>
<tr><th id="534">534</th><td>          <dfn class="local col7 decl" id="397buffers_to_assign_sequentially" title='buffers_to_assign_sequentially' data-type='const tensorflow::gtl::FlatMap&lt;const HloComputation *, tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt; &gt; &amp;' data-ref="397buffers_to_assign_sequentially">buffers_to_assign_sequentially</dfn>,</td></tr>
<tr><th id="535">535</th><td>      <em>bool</em> <dfn class="local col8 decl" id="398run_whole_module_heap_simulation" title='run_whole_module_heap_simulation' data-type='bool' data-ref="398run_whole_module_heap_simulation">run_whole_module_heap_simulation</dfn>, <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>* <dfn class="local col9 decl" id="399assignment" title='assignment' data-type='xla::BufferAssignment *' data-ref="399assignment">assignment</dfn>);</td></tr>
<tr><th id="536">536</th><td></td></tr>
<tr><th id="537">537</th><td>  <i>// Uses the results of the heap simulator to create a single allocation, with</i></td></tr>
<tr><th id="538">538</th><td><i>  // LogicalBuffers packed to specific offsets.</i></td></tr>
<tr><th id="539">539</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner30AssignBuffersFromHeapSimulatorERKNS_13HeapSimulator6ResultEPNS_16BufferAssignmentEN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE" title='xla::BufferAssigner::AssignBuffersFromHeapSimulator' data-ref="_ZN3xla14BufferAssigner30AssignBuffersFromHeapSimulatorERKNS_13HeapSimulator6ResultEPNS_16BufferAssignmentEN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE" id="_ZN3xla14BufferAssigner30AssignBuffersFromHeapSimulatorERKNS_13HeapSimulator6ResultEPNS_16BufferAssignmentEN10tensorflow3gtl7IntTypeINS_13LogicalBuffer10Color_tag_ExEE">AssignBuffersFromHeapSimulator</a>(<em>const</em> <a class="type" href="heap_simulator.h.html#xla::HeapSimulator" title='xla::HeapSimulator' data-ref="xla::HeapSimulator">HeapSimulator</a>::<a class="type" href="heap_simulator.h.html#xla::HeapSimulator::Result" title='xla::HeapSimulator::Result' data-ref="xla::HeapSimulator::Result">Result</a>&amp; <dfn class="local col0 decl" id="400result" title='result' data-type='const HeapSimulator::Result &amp;' data-ref="400result">result</dfn>,</td></tr>
<tr><th id="540">540</th><td>                                      <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>* <dfn class="local col1 decl" id="401assignment" title='assignment' data-type='xla::BufferAssignment *' data-ref="401assignment">assignment</dfn>,</td></tr>
<tr><th id="541">541</th><td>                                      <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a> <dfn class="local col2 decl" id="402color" title='color' data-type='LogicalBuffer::Color' data-ref="402color">color</dfn>);</td></tr>
<tr><th id="542">542</th><td></td></tr>
<tr><th id="543">543</th><td>  <i>// Tries to assign the given instruction to the given buffer. Returns if the</i></td></tr>
<tr><th id="544">544</th><td><i>  // assignment was successful.</i></td></tr>
<tr><th id="545">545</th><td>  <em>bool</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner17MaybeAssignBufferEPNS_16BufferAllocationERKNS_13LogicalBufferEPNS_16BufferAssignmentE" title='xla::BufferAssigner::MaybeAssignBuffer' data-ref="_ZN3xla14BufferAssigner17MaybeAssignBufferEPNS_16BufferAllocationERKNS_13LogicalBufferEPNS_16BufferAssignmentE" id="_ZN3xla14BufferAssigner17MaybeAssignBufferEPNS_16BufferAllocationERKNS_13LogicalBufferEPNS_16BufferAssignmentE">MaybeAssignBuffer</a>(<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>* <dfn class="local col3 decl" id="403allocation" title='allocation' data-type='xla::BufferAllocation *' data-ref="403allocation">allocation</dfn>,</td></tr>
<tr><th id="546">546</th><td>                         <em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>&amp; <dfn class="local col4 decl" id="404buffer" title='buffer' data-type='const xla::LogicalBuffer &amp;' data-ref="404buffer">buffer</dfn>,</td></tr>
<tr><th id="547">547</th><td>                         <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>* <dfn class="local col5 decl" id="405assignment" title='assignment' data-type='xla::BufferAssignment *' data-ref="405assignment">assignment</dfn>);</td></tr>
<tr><th id="548">548</th><td></td></tr>
<tr><th id="549">549</th><td>  <i>// Colocated buffers are logical buffers from different computations which</i></td></tr>
<tr><th id="550">550</th><td><i>  // alias. Explicitly handling these colocated buffers is necessary because</i></td></tr>
<tr><th id="551">551</th><td><i>  // points-to analysis is computation level scope and does not recognize</i></td></tr>
<tr><th id="552">552</th><td><i>  // aliasing across computations (b/32491382).</i></td></tr>
<tr><th id="553">553</th><td>  <b>using</b> <dfn class="typedef" id="xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</dfn> = <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;;</td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td>  <i>// Returns a vector of ColocatedBufferSet objects, where each</i></td></tr>
<tr><th id="556">556</th><td><i>  // ColocatedBufferSet aggregates a set of related LogicalBuffers from 'module'</i></td></tr>
<tr><th id="557">557</th><td><i>  // which should be colocated in the same buffer allocation.</i></td></tr>
<tr><th id="558">558</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner24BuildColocatedBufferSetsEPKNS_9HloModuleERKNS_14BufferLivenessERKSt8functionIFxRKNS_13LogicalBufferEEEPSt6vectorIN10tensorflo5486195" title='xla::BufferAssigner::BuildColocatedBufferSets' data-ref="_ZN3xla14BufferAssigner24BuildColocatedBufferSetsEPKNS_9HloModuleERKNS_14BufferLivenessERKSt8functionIFxRKNS_13LogicalBufferEEEPSt6vectorIN10tensorflo5486195" id="_ZN3xla14BufferAssigner24BuildColocatedBufferSetsEPKNS_9HloModuleERKNS_14BufferLivenessERKSt8functionIFxRKNS_13LogicalBufferEEEPSt6vectorIN10tensorflo5486195">BuildColocatedBufferSets</a>(</td></tr>
<tr><th id="559">559</th><td>      <em>const</em> <a class="type" href="hlo_module.h.html#xla::HloModule" title='xla::HloModule' data-ref="xla::HloModule">HloModule</a>* <dfn class="local col6 decl" id="406module" title='module' data-type='const xla::HloModule *' data-ref="406module">module</dfn>, <em>const</em> <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>&amp; <dfn class="local col7 decl" id="407buffer_liveness" title='buffer_liveness' data-type='const xla::BufferLiveness &amp;' data-ref="407buffer_liveness">buffer_liveness</dfn>,</td></tr>
<tr><th id="560">560</th><td>      <em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a>&amp; <dfn class="local col8 decl" id="408buffer_size" title='buffer_size' data-type='const LogicalBuffer::SizeFunction &amp;' data-ref="408buffer_size">buffer_size</dfn>,</td></tr>
<tr><th id="561">561</th><td>      <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="#xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</a>&gt;* <dfn class="local col9 decl" id="409colocated_buffer_sets" title='colocated_buffer_sets' data-type='std::vector&lt;ColocatedBufferSet&gt; *' data-ref="409colocated_buffer_sets">colocated_buffer_sets</dfn>);</td></tr>
<tr><th id="562">562</th><td></td></tr>
<tr><th id="563">563</th><td>  <i>// For each buffer set in 'colocated_buffer_sets', assigns all buffers in the</i></td></tr>
<tr><th id="564">564</th><td><i>  // same set to the same buffer allocation in 'assignment'.</i></td></tr>
<tr><th id="565">565</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner25AssignColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_E5531270" title='xla::BufferAssigner::AssignColocatedBufferSets' data-ref="_ZN3xla14BufferAssigner25AssignColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_E5531270" id="_ZN3xla14BufferAssigner25AssignColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_E5531270">AssignColocatedBufferSets</a>(</td></tr>
<tr><th id="566">566</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="#xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</a>&gt;&amp; <dfn class="local col0 decl" id="410colocated_buffer_sets" title='colocated_buffer_sets' data-type='const std::vector&lt;ColocatedBufferSet&gt; &amp;' data-ref="410colocated_buffer_sets">colocated_buffer_sets</dfn>,</td></tr>
<tr><th id="567">567</th><td>      <a class="type" href="#xla::BufferAssignment" title='xla::BufferAssignment' data-ref="xla::BufferAssignment">BufferAssignment</a>* <dfn class="local col1 decl" id="411assignment" title='assignment' data-type='xla::BufferAssignment *' data-ref="411assignment">assignment</dfn>,</td></tr>
<tr><th id="568">568</th><td>      <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;* <dfn class="local col2 decl" id="412colocated_buffers" title='colocated_buffers' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt; *' data-ref="412colocated_buffers">colocated_buffers</dfn>,</td></tr>
<tr><th id="569">569</th><td>      <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<a class="type" href="#xla::BufferAllocation" title='xla::BufferAllocation' data-ref="xla::BufferAllocation">BufferAllocation</a>::<a class="typedef" href="#xla::BufferAllocation::Index" title='xla::BufferAllocation::Index' data-type='int64' data-ref="xla::BufferAllocation::Index">Index</a>&gt;* <dfn class="local col3 decl" id="413colocated_allocations" title='colocated_allocations' data-type='tensorflow::gtl::FlatSet&lt;BufferAllocation::Index&gt; *' data-ref="413colocated_allocations">colocated_allocations</dfn>);</td></tr>
<tr><th id="570">570</th><td></td></tr>
<tr><th id="571">571</th><td>  <i>// Adds the 'colocated_set' of buffers to 'colocated_buffer_sets', maintaining</i></td></tr>
<tr><th id="572">572</th><td><i>  // the invariant that all sets in 'colocated_buffer_sets' are disjoint.</i></td></tr>
<tr><th id="573">573</th><td>  <em>void</em> <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner27AddSetToColocatedBufferSetsERKSt6vectorIPKNS_13LogicalBufferESaIS4_EEPS1_IN10tensorflow3gtl7FlatSetIS4_NS9_4hashIS4_EESt8equal_toIS4_EEESaISG_EE" title='xla::BufferAssigner::AddSetToColocatedBufferSets' data-ref="_ZN3xla14BufferAssigner27AddSetToColocatedBufferSetsERKSt6vectorIPKNS_13LogicalBufferESaIS4_EEPS1_IN10tensorflow3gtl7FlatSetIS4_NS9_4hashIS4_EESt8equal_toIS4_EEESaISG_EE" id="_ZN3xla14BufferAssigner27AddSetToColocatedBufferSetsERKSt6vectorIPKNS_13LogicalBufferESaIS4_EEPS1_IN10tensorflow3gtl7FlatSetIS4_NS9_4hashIS4_EESt8equal_toIS4_EEESaISG_EE">AddSetToColocatedBufferSets</a>(</td></tr>
<tr><th id="574">574</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&amp; <dfn class="local col4 decl" id="414colocated_set" title='colocated_set' data-type='const std::vector&lt;const LogicalBuffer *&gt; &amp;' data-ref="414colocated_set">colocated_set</dfn>,</td></tr>
<tr><th id="575">575</th><td>      <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="#xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</a>&gt;* <dfn class="local col5 decl" id="415colocated_buffer_sets" title='colocated_buffer_sets' data-type='std::vector&lt;ColocatedBufferSet&gt; *' data-ref="415colocated_buffer_sets">colocated_buffer_sets</dfn>);</td></tr>
<tr><th id="576">576</th><td></td></tr>
<tr><th id="577">577</th><td>  <i>// Given a list of colocated buffer sets (each colocated buffer set represents</i></td></tr>
<tr><th id="578">578</th><td><i>  // the logical buffers that would be assigned to the same physical buffer),</i></td></tr>
<tr><th id="579">579</th><td><i>  // try to merge the sets if the buffers can be shared. Returns the merged set.</i></td></tr>
<tr><th id="580">580</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="#xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</a>&gt; <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner24MergeColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_EE12227155" title='xla::BufferAssigner::MergeColocatedBufferSets' data-ref="_ZN3xla14BufferAssigner24MergeColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_EE12227155" id="_ZN3xla14BufferAssigner24MergeColocatedBufferSetsERKSt6vectorIN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS2_4hashIS7_EESt8equal_toIS7_EEESaISC_EE12227155">MergeColocatedBufferSets</a>(</td></tr>
<tr><th id="581">581</th><td>      <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="#xla::BufferAssigner::ColocatedBufferSet" title='xla::BufferAssigner::ColocatedBufferSet' data-type='tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt;' data-ref="xla::BufferAssigner::ColocatedBufferSet">ColocatedBufferSet</a>&gt;&amp; <dfn class="local col6 decl" id="416colocated_buffer_sets" title='colocated_buffer_sets' data-type='const std::vector&lt;ColocatedBufferSet&gt; &amp;' data-ref="416colocated_buffer_sets">colocated_buffer_sets</dfn>,</td></tr>
<tr><th id="582">582</th><td>      <em>const</em> <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>&amp; <dfn class="local col7 decl" id="417buffer_liveness" title='buffer_liveness' data-type='const xla::BufferLiveness &amp;' data-ref="417buffer_liveness">buffer_liveness</dfn>,</td></tr>
<tr><th id="583">583</th><td>      <em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#xla::LogicalBuffer::SizeFunction" title='xla::LogicalBuffer::SizeFunction' data-type='std::function&lt;int64 (const LogicalBuffer &amp;)&gt;' data-ref="xla::LogicalBuffer::SizeFunction">SizeFunction</a>&amp; <dfn class="local col8 decl" id="418buffer_size" title='buffer_size' data-type='const LogicalBuffer::SizeFunction &amp;' data-ref="418buffer_size">buffer_size</dfn>);</td></tr>
<tr><th id="584">584</th><td></td></tr>
<tr><th id="585">585</th><td>  <i>// Split a set of buffers into several sets, each of which contains buffers</i></td></tr>
<tr><th id="586">586</th><td><i>  // colored with the same color.</i></td></tr>
<tr><th id="587">587</th><td>  <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatmap.h.html#tensorflow::gtl::FlatMap" title='tensorflow::gtl::FlatMap' data-ref="tensorflow::gtl::FlatMap">FlatMap</a>&lt;<a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a>,</td></tr>
<tr><th id="588">588</th><td>                           <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;,</td></tr>
<tr><th id="589">589</th><td>                           <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>::<a class="typedef" href="logical_buffer.h.html#87" title='xla::LogicalBuffer::Color' data-type='::tensorflow::gtl::IntType&lt;Color_tag_, int64&gt;' data-ref="xla::LogicalBuffer::Color">Color</a>::<a class="type" href="../../../core/lib/gtl/int_type.h.html#tensorflow::gtl::IntType::Hasher" title='tensorflow::gtl::IntType::Hasher' data-ref="tensorflow::gtl::IntType::Hasher">Hasher</a>&gt;</td></tr>
<tr><th id="590">590</th><td>  <a class="decl" href="buffer_assignment.cc.html#_ZN3xla14BufferAssigner19SplitBuffersByColorERKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS1_4hashIS6_EESt8equal_toIS6_EEE" title='xla::BufferAssigner::SplitBuffersByColor' data-ref="_ZN3xla14BufferAssigner19SplitBuffersByColorERKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS1_4hashIS6_EESt8equal_toIS6_EEE" id="_ZN3xla14BufferAssigner19SplitBuffersByColorERKN10tensorflow3gtl7FlatSetIPKNS_13LogicalBufferENS1_4hashIS6_EESt8equal_toIS6_EEE">SplitBuffersByColor</a>(</td></tr>
<tr><th id="591">591</th><td>      <em>const</em> <span class="namespace">tensorflow::gtl::</span><a class="type" href="../../../core/lib/gtl/flatset.h.html#tensorflow::gtl::FlatSet" title='tensorflow::gtl::FlatSet' data-ref="tensorflow::gtl::FlatSet">FlatSet</a>&lt;<em>const</em> <a class="type" href="logical_buffer.h.html#xla::LogicalBuffer" title='xla::LogicalBuffer' data-ref="xla::LogicalBuffer">LogicalBuffer</a>*&gt;&amp; <dfn class="local col9 decl" id="419buffers" title='buffers' data-type='const tensorflow::gtl::FlatSet&lt;const LogicalBuffer *&gt; &amp;' data-ref="419buffers">buffers</dfn>);</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td>  <i>// If true, buffer assignments assumes that input parameter buffers and output</i></td></tr>
<tr><th id="594">594</th><td><i>  // buffers can be shared if their sizes match.</i></td></tr>
<tr><th id="595">595</th><td>  <em>bool</em> <dfn class="decl" id="xla::BufferAssigner::allow_input_output_aliasing_" title='xla::BufferAssigner::allow_input_output_aliasing_' data-ref="xla::BufferAssigner::allow_input_output_aliasing_">allow_input_output_aliasing_</dfn>;</td></tr>
<tr><th id="596">596</th><td></td></tr>
<tr><th id="597">597</th><td>  <i>// Functor used to assign colors to newly allocated logical buffers.</i></td></tr>
<tr><th id="598">598</th><td>  <a class="type" href="buffer_liveness.h.html#xla::BufferLiveness" title='xla::BufferLiveness' data-ref="xla::BufferLiveness">BufferLiveness</a>::<a class="typedef" href="buffer_liveness.h.html#xla::BufferLiveness::Colorer" title='xla::BufferLiveness::Colorer' data-type='std::function&lt;Status (const BufferLiveness &amp;)&gt;' data-ref="xla::BufferLiveness::Colorer">Colorer</a> <dfn class="decl" id="xla::BufferAssigner::colorer_" title='xla::BufferAssigner::colorer_' data-ref="xla::BufferAssigner::colorer_">colorer_</dfn>;</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>  <a class="macro" href="../../../core/platform/macros.h.html#91" title="BufferAssigner(const BufferAssigner&amp;) = delete; void operator=(const BufferAssigner&amp;) = delete" data-ref="_M/TF_DISALLOW_COPY_AND_ASSIGN">TF_DISALLOW_COPY_AND_ASSIGN</a>(<dfn class="decl def" id="_ZN3xla14BufferAssignerC1ERKS0_" title='xla::BufferAssigner::BufferAssigner' data-ref="_ZN3xla14BufferAssignerC1ERKS0_"><a class="type" href="#xla::BufferAssigner" title='xla::BufferAssigner' data-ref="xla::BufferAssigner"><a class="type" href="#xla::BufferAssigner" title='xla::BufferAssigner' data-ref="xla::BufferAssigner">BufferAssigner</a></a></dfn>);</td></tr>
<tr><th id="601">601</th><td>};</td></tr>
<tr><th id="602">602</th><td></td></tr>
<tr><th id="603">603</th><td>}  <i>// namespace xla</i></td></tr>
<tr><th id="604">604</th><td></td></tr>
<tr><th id="605">605</th><td><u>#<span data-ppcond="16">endif</span>  // TENSORFLOW_COMPILER_XLA_SERVICE_BUFFER_ASSIGNMENT_H_</u></td></tr>
<tr><th id="606">606</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='buffer_assignment.cc.html'>tensorflow/tensorflow/compiler/xla/service/buffer_assignment.cc</a><br/>Generated on <em>2018-Aug-16</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
