<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>pooling_ops.cc source code [tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data';</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>tensorflow</a>/<a href='../../..'>tensorflow</a>/<a href='../..'>compiler</a>/<a href='..'>tf2xla</a>/<a href='./'>kernels</a>/<a href='pooling_ops.cc.html'>pooling_ops.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2017 The TensorFlow Authors. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td><i></i></td></tr>
<tr><th id="16">16</th><td><i>// XLA specific pooling ops.</i></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../type_util.h.html">"tensorflow/compiler/tf2xla/type_util.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../xla_helpers.h.html">"tensorflow/compiler/tf2xla/xla_helpers.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../xla_op_kernel.h.html">"tensorflow/compiler/tf2xla/xla_op_kernel.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../xla_op_registry.h.html">"tensorflow/compiler/tf2xla/xla_op_registry.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../xla/client/lib/arithmetic.h.html">"tensorflow/compiler/xla/client/lib/arithmetic.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../xla/literal_util.h.html">"tensorflow/compiler/xla/literal_util.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../xla/util.h.html">"tensorflow/compiler/xla/util.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../../core/framework/op_kernel.h.html">"tensorflow/core/framework/op_kernel.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../../core/framework/register_types.h.html">"tensorflow/core/framework/register_types.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../../core/framework/tensor.h.html">"tensorflow/core/framework/tensor.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../core/kernels/bounds_check.h.html">"tensorflow/core/kernels/bounds_check.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../core/kernels/conv_grad_ops.h.html">"tensorflow/core/kernels/conv_grad_ops.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../core/kernels/pooling_ops_common.h.html">"tensorflow/core/kernels/pooling_ops_common.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><b>namespace</b> <span class="namespace">tensorflow</span> {</td></tr>
<tr><th id="33">33</th><td><b>namespace</b> {</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><i  data-doc="tensorflow::(anonymousnamespace)::PoolingOp">// Superclass of pooling ops.</i></td></tr>
<tr><th id="36">36</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::PoolingOp" title='tensorflow::(anonymous namespace)::PoolingOp' data-ref="tensorflow::(anonymousnamespace)::PoolingOp">PoolingOp</dfn> : <b>public</b> <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a> {</td></tr>
<tr><th id="37">37</th><td> <b>public</b>:</td></tr>
<tr><th id="38">38</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE" title='tensorflow::(anonymous namespace)::PoolingOp::PoolingOp' data-type='void tensorflow::(anonymous namespace)::PoolingOp::PoolingOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims, const tensorflow::DataType reduction_type)' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE">PoolingOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col7 decl" id="357ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="357ctx">ctx</dfn>, <em>int</em> <dfn class="local col8 decl" id="358num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="358num_spatial_dims">num_spatial_dims</dfn>,</td></tr>
<tr><th id="39">39</th><td>            <em>const</em> <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col9 decl" id="359reduction_type" title='reduction_type' data-type='const tensorflow::DataType' data-ref="359reduction_type">reduction_type</dfn>)</td></tr>
<tr><th id="40">40</th><td>      : <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a><a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE" title='tensorflow::XlaOpKernel::XlaOpKernel' data-ref="_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE">(</a><a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>),</td></tr>
<tr><th id="41">41</th><td>        <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::PoolingOp::num_spatial_dims_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_">num_spatial_dims_</a>(<a class="local col8 ref" href="#358num_spatial_dims" title='num_spatial_dims' data-ref="358num_spatial_dims">num_spatial_dims</a>),</td></tr>
<tr><th id="42">42</th><td>        <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>(<a class="local col9 ref" href="#359reduction_type" title='reduction_type' data-ref="359reduction_type">reduction_type</a>) {</td></tr>
<tr><th id="43">43</th><td>    <b>if</b> (<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction10num_inputsEv" title='tensorflow::OpKernelConstruction::num_inputs' data-ref="_ZNK10tensorflow20OpKernelConstruction10num_inputsEv">num_inputs</a>() == <var>1</var>) {</td></tr>
<tr><th id="44">44</th><td>      <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int32" title='tensorflow::int32' data-type='int' data-ref="tensorflow::int32">int32</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col0 decl" id="360ksize_int" title='ksize_int' data-type='std::vector&lt;int32&gt;' data-ref="360ksize_int">ksize_int</dfn>;</td></tr>
<tr><th id="45">45</th><td>      <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int32" title='tensorflow::int32' data-type='int' data-ref="tensorflow::int32">int32</a>&gt; <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col1 decl" id="361stride_int" title='stride_int' data-type='std::vector&lt;int32&gt;' data-ref="361stride_int">stride_int</dfn>;</td></tr>
<tr><th id="46">46</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;ksize&quot;, &amp;ksize_int)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 46, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>, <a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>, &amp;<a class="local col0 ref" href="#360ksize_int" title='ksize_int' data-ref="360ksize_int">ksize_int</a>));</td></tr>
<tr><th id="47">47</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_int.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 50, (errors::InvalidArgument(&quot;Sliding window ksize field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>, <a class="local col0 ref" href="#360ksize_int" title='ksize_int' data-ref="360ksize_int">ksize_int</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="48">48</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window ksize field must "</q></td></tr>
<tr><th id="49">49</th><td>                                          <q>"specify "</q>,</td></tr>
<tr><th id="50">50</th><td>                                          <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="51">51</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;strides&quot;, &amp;stride_int)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 51, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>, <a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>, &amp;<a class="local col1 ref" href="#361stride_int" title='stride_int' data-ref="361stride_int">stride_int</a>));</td></tr>
<tr><th id="52">52</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(stride_int.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 55, (errors::InvalidArgument(&quot;Sliding window stride field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>, <a class="local col1 ref" href="#361stride_int" title='stride_int' data-ref="361stride_int">stride_int</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="53">53</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window stride field must "</q></td></tr>
<tr><th id="54">54</th><td>                                          <q>"specify "</q>,</td></tr>
<tr><th id="55">55</th><td>                                          <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="56">56</th><td>      <b>for</b> (<em>int</em> <dfn class="local col2 decl" id="362i" title='i' data-type='int' data-ref="362i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#362i" title='i' data-ref="362i">i</a> &lt; <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(); ++<a class="local col2 ref" href="#362i" title='i' data-ref="362i">i</a>) {</td></tr>
<tr><th id="57">57</th><td>        <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::ksize_" title='tensorflow::(anonymous namespace)::PoolingOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::ksize_">ksize_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<a class="local col0 ref" href="#360ksize_int" title='ksize_int' data-ref="360ksize_int">ksize_int</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col2 ref" href="#362i" title='i' data-ref="362i">i</a>]</a>);</td></tr>
<tr><th id="58">58</th><td>        <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::stride_" title='tensorflow::(anonymous namespace)::PoolingOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector9push_backEOT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backEOT_">push_back</a>(<a class="local col1 ref" href="#361stride_int" title='stride_int' data-ref="361stride_int">stride_int</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col2 ref" href="#362i" title='i' data-ref="362i">i</a>]</a>);</td></tr>
<tr><th id="59">59</th><td>      }</td></tr>
<tr><th id="60">60</th><td>    }</td></tr>
<tr><th id="61">61</th><td>    <a class="type" href="../../../core/util/padding.h.html#tensorflow::Padding" title='tensorflow::Padding' data-ref="tensorflow::Padding">Padding</a> <dfn class="local col3 decl" id="363padding" title='padding' data-type='tensorflow::Padding' data-ref="363padding">padding</dfn>;</td></tr>
<tr><th id="62">62</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;padding&quot;, &amp;padding)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 62, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>, <a class="local col7 ref" href="#357ctx" title='ctx' data-ref="357ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"padding"</q>, &amp;<a class="local col3 ref" href="#363padding" title='padding' data-ref="363padding">padding</a>));</td></tr>
<tr><th id="63">63</th><td>    <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::padding_" title='tensorflow::(anonymous namespace)::PoolingOp::padding_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::padding_">padding_</a> = (<a class="local col3 ref" href="#363padding" title='padding' data-ref="363padding">padding</a> == <a class="enum" href="../../../core/util/padding.h.html#tensorflow::Padding::VALID" title='tensorflow::Padding::VALID' data-ref="tensorflow::Padding::VALID">VALID</a>) ? <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a> : <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kSame" title='xla::Padding::kSame' data-ref="xla::Padding::kSame">kSame</a>;</td></tr>
<tr><th id="64">64</th><td>  }</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td>  <em>int</em> <dfn class="tu decl def" id="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-type='int tensorflow::(anonymous namespace)::PoolingOp::num_dims() const' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</dfn>() <em>const</em> { <b>return</b> <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::PoolingOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_">num_spatial_dims_</a> + <var>2</var>; }</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td>  <i  data-doc="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9InitValueEPN3xla18ComputationBuilderE">// Method that builds an initial value to use in reductions.</i></td></tr>
<tr><th id="69">69</th><td>  <b>virtual</b> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl" id="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9InitValueEPN3xla18ComputationBuilderE" title='tensorflow::(anonymous namespace)::PoolingOp::InitValue' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::PoolingOp::InitValue(xla::ComputationBuilder * b)' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9InitValueEPN3xla18ComputationBuilderE">InitValue</dfn>(<span class="namespace">xla::</span><a class="type" href="../../xla/client/computation_builder.h.html#xla::ComputationBuilder" title='xla::ComputationBuilder' data-ref="xla::ComputationBuilder">ComputationBuilder</a>* <dfn class="local col4 decl" id="364b" title='b' data-type='xla::ComputationBuilder *' data-ref="364b">b</dfn>) = <var>0</var>;</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td>  <i  data-doc="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9ReductionEPNS_18XlaOpKernelContextE">// The reduction operation to apply to each window.</i></td></tr>
<tr><th id="72">72</th><td>  <b>virtual</b> <em>const</em> <span class="namespace">xla::</span><a class="type" href="../../xla/client/computation.h.html#xla::Computation" title='xla::Computation' data-ref="xla::Computation">Computation</a>* <dfn class="virtual tu decl" id="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9ReductionEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::PoolingOp::Reduction' data-type='const xla::Computation * tensorflow::(anonymous namespace)::PoolingOp::Reduction(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9ReductionEPNS_18XlaOpKernelContextE">Reduction</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col5 decl" id="365ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="365ctx">ctx</dfn>) = <var>0</var>;</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>  <i  data-doc="_ZN10tensorflow12_GLOBAL__N_19PoolingOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE">// A post-processing operation to apply on the outputs of the ReduceWindow.</i></td></tr>
<tr><th id="75">75</th><td>  <b>virtual</b> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl" id="_ZN10tensorflow12_GLOBAL__N_19PoolingOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE" title='tensorflow::(anonymous namespace)::PoolingOp::PostProcessOutput' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::PoolingOp::PostProcessOutput(tensorflow::XlaOpKernelContext * ctx, const xla::ComputationDataHandle &amp; output, tensorflow::DataType dtype, const tensorflow::TensorShape &amp; input_shape)' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE">PostProcessOutput</dfn>(</td></tr>
<tr><th id="76">76</th><td>      <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col6 decl" id="366ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="366ctx">ctx</dfn>, <em>const</em> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span>&amp; <dfn class="local col7 decl" id="367output" title='output' data-type='const xla::ComputationDataHandle &amp;' data-ref="367output">output</dfn>,</td></tr>
<tr><th id="77">77</th><td>      <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col8 decl" id="368dtype" title='dtype' data-type='tensorflow::DataType' data-ref="368dtype">dtype</dfn>, <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a>&amp; <dfn class="local col9 decl" id="369input_shape" title='input_shape' data-type='const tensorflow::TensorShape &amp;' data-ref="369input_shape">input_shape</dfn>) = <var>0</var>;</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19PoolingOp7CompileEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::PoolingOp::Compile' data-type='void tensorflow::(anonymous namespace)::PoolingOp::Compile(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp7CompileEPNS_18XlaOpKernelContextE">Compile</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col0 decl" id="370ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="370ctx">ctx</dfn>) override {</td></tr>
<tr><th id="80">80</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col1 decl" id="371ksize" title='ksize' data-type='std::vector&lt;int64&gt;' data-ref="371ksize">ksize</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::ksize_" title='tensorflow::(anonymous namespace)::PoolingOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::ksize_">ksize_</a>;</td></tr>
<tr><th id="81">81</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col2 decl" id="372stride" title='stride' data-type='std::vector&lt;int64&gt;' data-ref="372stride">stride</dfn> = <a class="ref fake" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ERKSt6vectorIT_T0_E" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ERKSt6vectorIT_T0_E"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::stride_" title='tensorflow::(anonymous namespace)::PoolingOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::stride_">stride_</a>;</td></tr>
<tr><th id="82">82</th><td>    <b>if</b> (<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv" title='tensorflow::XlaOpKernelContext::num_inputs' data-ref="_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv">num_inputs</a>() != <var>1</var>) {</td></tr>
<tr><th id="83">83</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col3 decl" id="373ksize_shape" title='ksize_shape' data-type='const tensorflow::TensorShape' data-ref="373ksize_shape">ksize_shape</dfn> = <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>1</var>);</td></tr>
<tr><th id="84">84</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="85">85</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(ksize_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 87, (errors::InvalidArgument(&quot;ksize must be a vector, not shape &quot;, ksize_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col3 ref" href="#373ksize_shape" title='ksize_shape' data-ref="373ksize_shape">ksize_shape</a>),</td></tr>
<tr><th id="86">86</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"ksize must be a vector, not shape "</q>,</td></tr>
<tr><th id="87">87</th><td>                                          <a class="local col3 ref" href="#373ksize_shape" title='ksize_shape' data-ref="373ksize_shape">ksize_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="88">88</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_shape.num_elements() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 91, (errors::InvalidArgument(&quot;Sliding window ksize field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col3 ref" href="#373ksize_shape" title='ksize_shape' data-ref="373ksize_shape">ksize_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep12num_elementsEv" title='tensorflow::TensorShapeRep::num_elements' data-ref="_ZNK10tensorflow14TensorShapeRep12num_elementsEv">num_elements</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="89">89</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window ksize field must "</q></td></tr>
<tr><th id="90">90</th><td>                                          <q>"specify "</q>,</td></tr>
<tr><th id="91">91</th><td>                                          <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="92">92</th><td>      <a class="local col1 ref" href="#371ksize" title='ksize' data-ref="371ksize">ksize</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5clearEv" title='std::vector::clear' data-ref="_ZNSt6vector5clearEv">clear</a>();</td></tr>
<tr><th id="93">93</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(1, &amp;ksize)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 93, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>1</var>, &amp;<a class="local col1 ref" href="#371ksize" title='ksize' data-ref="371ksize">ksize</a>));</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col4 decl" id="374stride_shape" title='stride_shape' data-type='const tensorflow::TensorShape' data-ref="374stride_shape">stride_shape</dfn> = <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>2</var>);</td></tr>
<tr><th id="96">96</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="97">97</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(stride_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 99, (errors::InvalidArgument(&quot;stride must be a vector, not shape &quot;, stride_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col4 ref" href="#374stride_shape" title='stride_shape' data-ref="374stride_shape">stride_shape</a>),</td></tr>
<tr><th id="98">98</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"stride must be a vector, not shape "</q>,</td></tr>
<tr><th id="99">99</th><td>                                          <a class="local col4 ref" href="#374stride_shape" title='stride_shape' data-ref="374stride_shape">stride_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="100">100</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(stride_shape.num_elements() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 103, (errors::InvalidArgument(&quot;Sliding window stride field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col4 ref" href="#374stride_shape" title='stride_shape' data-ref="374stride_shape">stride_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep12num_elementsEv" title='tensorflow::TensorShapeRep::num_elements' data-ref="_ZNK10tensorflow14TensorShapeRep12num_elementsEv">num_elements</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="101">101</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window stride field must "</q></td></tr>
<tr><th id="102">102</th><td>                                          <q>"specify "</q>,</td></tr>
<tr><th id="103">103</th><td>                                          <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="104">104</th><td>      <a class="local col2 ref" href="#372stride" title='stride' data-ref="372stride">stride</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5clearEv" title='std::vector::clear' data-ref="_ZNSt6vector5clearEv">clear</a>();</td></tr>
<tr><th id="105">105</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(2, &amp;stride)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 105, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>2</var>, &amp;<a class="local col2 ref" href="#372stride" title='stride' data-ref="372stride">stride</a>));</td></tr>
<tr><th id="106">106</th><td>    }</td></tr>
<tr><th id="107">107</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col5 decl" id="375input_shape" title='input_shape' data-type='const tensorflow::TensorShape' data-ref="375input_shape">input_shape</dfn> = <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>0</var>);</td></tr>
<tr><th id="108">108</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(input_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 111, (errors::InvalidArgument(&quot;Input to &quot;, type_string(), &quot; operator must have &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col5 ref" href="#375input_shape" title='input_shape' data-ref="375input_shape">input_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="109">109</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Input to "</q>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1ERKSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1ERKSbIT_T0_T1_E"></a><a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel11type_stringEv" title='tensorflow::OpKernel::type_string' data-ref="_ZNK10tensorflow8OpKernel11type_stringEv">type_string</a>(),</td></tr>
<tr><th id="110">110</th><td>                                        <q>" operator must have "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv" title='tensorflow::(anonymous namespace)::PoolingOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_19PoolingOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="111">111</th><td>                                        <q>" dimensions"</q>));</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>    <span class="namespace">xla::</span><a class="type" href="../../xla/client/computation_builder.h.html#xla::ComputationBuilder" title='xla::ComputationBuilder' data-ref="xla::ComputationBuilder">ComputationBuilder</a>* <em>const</em> <dfn class="local col6 decl" id="376b" title='b' data-type='xla::ComputationBuilder *const' data-ref="376b">b</dfn> = <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>();</td></tr>
<tr><th id="114">114</th><td>    <em>auto</em> <dfn class="local col7 decl" id="377input" title='input' data-type='xla::ComputationDataHandle' data-ref="377input">input</dfn> =</td></tr>
<tr><th id="115">115</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE" title='tensorflow::XlaHelpers::ConvertElementType' data-ref="_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE">ConvertElementType</a>(<a class="local col6 ref" href="#376b" title='b' data-ref="376b">b</a>, <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>0</var>), <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>);</td></tr>
<tr><th id="116">116</th><td>    <em>auto</em> <dfn class="local col8 decl" id="378reduce" title='reduce' data-type='xla::ComputationDataHandle' data-ref="378reduce">reduce</dfn> = <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE" title='xla::ComputationBuilder::ReduceWindow' data-ref="_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE">ReduceWindow</a>(</td></tr>
<tr><th id="117">117</th><td>        <a class="local col7 ref" href="#377input" title='input' data-ref="377input">input</a>, <a class="virtual tu member" href="#_ZN10tensorflow12_GLOBAL__N_19PoolingOp9InitValueEPN3xla18ComputationBuilderE" title='tensorflow::(anonymous namespace)::PoolingOp::InitValue' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9InitValueEPN3xla18ComputationBuilderE">InitValue</a>(<a class="local col6 ref" href="#376b" title='b' data-ref="376b">b</a>), *<a class="virtual tu member" href="#_ZN10tensorflow12_GLOBAL__N_19PoolingOp9ReductionEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::PoolingOp::Reduction' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp9ReductionEPNS_18XlaOpKernelContextE">Reduction</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col1 ref" href="#371ksize" title='ksize' data-ref="371ksize">ksize</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col2 ref" href="#372stride" title='stride' data-ref="372stride">stride</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::padding_" title='tensorflow::(anonymous namespace)::PoolingOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::padding_">padding_</a>);</td></tr>
<tr><th id="118">118</th><td>    <em>auto</em> <dfn class="local col9 decl" id="379pooled" title='pooled' data-type='xla::ComputationDataHandle' data-ref="379pooled">pooled</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE" title='tensorflow::XlaHelpers::ConvertElementType' data-ref="_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE">ConvertElementType</a>(<a class="local col6 ref" href="#376b" title='b' data-ref="376b">b</a>, <a class="local col8 ref" href="#378reduce" title='reduce' data-ref="378reduce">reduce</a>, <a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>0</var>));</td></tr>
<tr><th id="119">119</th><td>    <a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE" title='tensorflow::XlaOpKernelContext::SetOutput' data-ref="_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE">SetOutput</a>(<var>0</var>,</td></tr>
<tr><th id="120">120</th><td>                   <a class="virtual tu member" href="#_ZN10tensorflow12_GLOBAL__N_19PoolingOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE" title='tensorflow::(anonymous namespace)::PoolingOp::PostProcessOutput' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE">PostProcessOutput</a>(<a class="local col0 ref" href="#370ctx" title='ctx' data-ref="370ctx">ctx</a>, <a class="local col9 ref" href="#379pooled" title='pooled' data-ref="379pooled">pooled</a>, <a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>0</var>), <a class="local col5 ref" href="#375input_shape" title='input_shape' data-ref="375input_shape">input_shape</a>));</td></tr>
<tr><th id="121">121</th><td>  }</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td> <b>protected</b>:</td></tr>
<tr><th id="124">124</th><td>  <em>const</em> <em>int</em> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::PoolingOp::num_spatial_dims_' data-type='const int' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_">num_spatial_dims_</dfn>;</td></tr>
<tr><th id="125">125</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::ksize_" title='tensorflow::(anonymous namespace)::PoolingOp::ksize_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::ksize_">ksize_</dfn>;</td></tr>
<tr><th id="126">126</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::stride_" title='tensorflow::(anonymous namespace)::PoolingOp::stride_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::stride_">stride_</dfn>;</td></tr>
<tr><th id="127">127</th><td>  <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::padding_" title='tensorflow::(anonymous namespace)::PoolingOp::padding_' data-type='xla::Padding' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::padding_">padding_</dfn>;</td></tr>
<tr><th id="128">128</th><td>  <a class="type" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat" title='tensorflow::TensorFormat' data-ref="tensorflow::TensorFormat">TensorFormat</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::data_format_" title='tensorflow::(anonymous namespace)::PoolingOp::data_format_' data-type='tensorflow::TensorFormat' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::data_format_">data_format_</dfn> = <a class="enum" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat::FORMAT_NHWC" title='tensorflow::TensorFormat::FORMAT_NHWC' data-ref="tensorflow::TensorFormat::FORMAT_NHWC">FORMAT_NHWC</a>;</td></tr>
<tr><th id="129">129</th><td>  <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-type='tensorflow::DataType' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</dfn>;</td></tr>
<tr><th id="130">130</th><td>};</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPoolOp" title='tensorflow::(anonymous namespace)::MaxPoolOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolOp">MaxPoolOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::PoolingOp" title='tensorflow::(anonymous namespace)::PoolingOp' data-ref="tensorflow::(anonymousnamespace)::PoolingOp">PoolingOp</a> {</td></tr>
<tr><th id="133">133</th><td> <b>public</b>:</td></tr>
<tr><th id="134">134</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolOp::MaxPoolOp' data-type='void tensorflow::(anonymous namespace)::MaxPoolOp::MaxPoolOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims)' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi">MaxPoolOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col0 decl" id="380ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="380ctx">ctx</dfn>, <em>int</em> <dfn class="local col1 decl" id="381num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="381num_spatial_dims">num_spatial_dims</dfn>)</td></tr>
<tr><th id="135">135</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::PoolingOp" title='tensorflow::(anonymous namespace)::PoolingOp' data-ref="tensorflow::(anonymousnamespace)::PoolingOp">PoolingOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE" title='tensorflow::(anonymous namespace)::PoolingOp::PoolingOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE">(</a><a class="local col0 ref" href="#380ctx" title='ctx' data-ref="380ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><a class="local col1 ref" href="#381num_spatial_dims" title='num_spatial_dims' data-ref="381num_spatial_dims">num_spatial_dims</a>,</td></tr>
<tr><th id="136">136</th><td>                  <i>/*reduction_type=*/</i><a class="local col0 ref" href="#380ctx" title='ctx' data-ref="380ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction10input_typeEi" title='tensorflow::OpKernelConstruction::input_type' data-ref="_ZNK10tensorflow20OpKernelConstruction10input_typeEi">input_type</a>(<var>0</var>)) {}</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td>  <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp9InitValueEPN3xla18ComputationBuilderE" title='tensorflow::(anonymous namespace)::MaxPoolOp::InitValue' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::MaxPoolOp::InitValue(xla::ComputationBuilder * b)' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp9InitValueEPN3xla18ComputationBuilderE">InitValue</dfn>(<span class="namespace">xla::</span><a class="type" href="../../xla/client/computation_builder.h.html#xla::ComputationBuilder" title='xla::ComputationBuilder' data-ref="xla::ComputationBuilder">ComputationBuilder</a>* <dfn class="local col2 decl" id="382b" title='b' data-type='xla::ComputationBuilder *' data-ref="382b">b</dfn>) override {</td></tr>
<tr><th id="139">139</th><td>    <b>return</b> <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers8MinValueEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::MinValue' data-ref="_ZN10tensorflow10XlaHelpers8MinValueEPN3xla18ComputationBuilderENS_8DataTypeE">MinValue</a>(<a class="local col2 ref" href="#382b" title='b' data-ref="382b">b</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>);</td></tr>
<tr><th id="140">140</th><td>  }</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>  <em>const</em> <span class="namespace">xla::</span><a class="type" href="../../xla/client/computation.h.html#xla::Computation" title='xla::Computation' data-ref="xla::Computation">Computation</a>* <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp9ReductionEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::MaxPoolOp::Reduction' data-type='const xla::Computation * tensorflow::(anonymous namespace)::MaxPoolOp::Reduction(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp9ReductionEPNS_18XlaOpKernelContextE">Reduction</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col3 decl" id="383ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="383ctx">ctx</dfn>) override {</td></tr>
<tr><th id="143">143</th><td>    <b>return</b> <a class="local col3 ref" href="#383ctx" title='ctx' data-ref="383ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext14GetOrCreateMaxENS_8DataTypeE" title='tensorflow::XlaOpKernelContext::GetOrCreateMax' data-ref="_ZN10tensorflow18XlaOpKernelContext14GetOrCreateMaxENS_8DataTypeE">GetOrCreateMax</a>(<a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>);</td></tr>
<tr><th id="144">144</th><td>  }</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>  <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE" title='tensorflow::(anonymous namespace)::MaxPoolOp::PostProcessOutput' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::MaxPoolOp::PostProcessOutput(tensorflow::XlaOpKernelContext * ctx, const xla::ComputationDataHandle &amp; output, tensorflow::DataType dtype, const tensorflow::TensorShape &amp; input_shape)' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE">PostProcessOutput</dfn>(</td></tr>
<tr><th id="147">147</th><td>      <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col4 decl" id="384ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="384ctx">ctx</dfn>, <em>const</em> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span>&amp; <dfn class="local col5 decl" id="385output" title='output' data-type='const xla::ComputationDataHandle &amp;' data-ref="385output">output</dfn>,</td></tr>
<tr><th id="148">148</th><td>      <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col6 decl" id="386dtype" title='dtype' data-type='tensorflow::DataType' data-ref="386dtype">dtype</dfn>, <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a>&amp; <dfn class="local col7 decl" id="387input_shape" title='input_shape' data-type='const tensorflow::TensorShape &amp;' data-ref="387input_shape">input_shape</dfn>) override {</td></tr>
<tr><th id="149">149</th><td>    <b>return</b> <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col5 ref" href="#385output" title='output' data-ref="385output">output</a>;</td></tr>
<tr><th id="150">150</th><td>  }</td></tr>
<tr><th id="151">151</th><td>};</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPool2DOp" title='tensorflow::(anonymous namespace)::MaxPool2DOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DOp">MaxPool2DOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolOp" title='tensorflow::(anonymous namespace)::MaxPoolOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolOp">MaxPoolOp</a> {</td></tr>
<tr><th id="154">154</th><td> <b>public</b>:</td></tr>
<tr><th id="155">155</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_111MaxPool2DOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::MaxPool2DOp::MaxPool2DOp' data-type='void tensorflow::(anonymous namespace)::MaxPool2DOp::MaxPool2DOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_111MaxPool2DOpC1EPNS_20OpKernelConstructionE">MaxPool2DOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col8 decl" id="388ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="388ctx">ctx</dfn>)</td></tr>
<tr><th id="156">156</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolOp" title='tensorflow::(anonymous namespace)::MaxPoolOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolOp">MaxPoolOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolOp::MaxPoolOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col8 ref" href="#388ctx" title='ctx' data-ref="388ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>2</var>) {</td></tr>
<tr><th id="157">157</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1Ev" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1Ev"></a><dfn class="local col9 decl" id="389data_format_str" title='data_format_str' data-type='string' data-ref="389data_format_str">data_format_str</dfn>;</td></tr>
<tr><th id="158">158</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;data_format&quot;, &amp;data_format_str)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 158, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col8 ref" href="#388ctx" title='ctx' data-ref="388ctx">ctx</a>, <a class="local col8 ref" href="#388ctx" title='ctx' data-ref="388ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"data_format"</q>, &amp;<a class="local col9 ref" href="#389data_format_str" title='data_format_str' data-ref="389data_format_str">data_format_str</a>));</td></tr>
<tr><th id="159">159</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(FormatFromString(data_format_str, &amp;data_format_)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 160, (errors::InvalidArgument(&quot;Invalid data format&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col8 ref" href="#388ctx" title='ctx' data-ref="388ctx">ctx</a>, <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE" title='tensorflow::FormatFromString' data-ref="_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE">FormatFromString</a>(<a class="local col9 ref" href="#389data_format_str" title='data_format_str' data-ref="389data_format_str">data_format_str</a>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::data_format_" title='tensorflow::(anonymous namespace)::PoolingOp::data_format_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::data_format_">data_format_</a>),</td></tr>
<tr><th id="160">160</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Invalid data format"</q>));</td></tr>
<tr><th id="161">161</th><td>  }</td></tr>
<tr><th id="162">162</th><td>};</td></tr>
<tr><th id="163">163</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__1__object( XlaOpRegistrationBuilder::Name(&quot;MaxPool&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPool"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DOp" title='tensorflow::(anonymous namespace)::MaxPool2DOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DOp">MaxPool2DOp</a>);</td></tr>
<tr><th id="164">164</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__3__object( XlaOpRegistrationBuilder::Name(&quot;MaxPoolV2&quot;) .CompileTimeConstInput(&quot;ksize&quot;) .CompileTimeConstInput(&quot;strides&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPoolV2"</q>)</td></tr>
<tr><th id="165">165</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>)</td></tr>
<tr><th id="166">166</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>),</td></tr>
<tr><th id="167">167</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DOp" title='tensorflow::(anonymous namespace)::MaxPool2DOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DOp">MaxPool2DOp</a>);</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPool3DOp" title='tensorflow::(anonymous namespace)::MaxPool3DOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool3DOp">MaxPool3DOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolOp" title='tensorflow::(anonymous namespace)::MaxPoolOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolOp">MaxPoolOp</a> {</td></tr>
<tr><th id="170">170</th><td> <b>public</b>:</td></tr>
<tr><th id="171">171</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_111MaxPool3DOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::MaxPool3DOp::MaxPool3DOp' data-type='void tensorflow::(anonymous namespace)::MaxPool3DOp::MaxPool3DOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_111MaxPool3DOpC1EPNS_20OpKernelConstructionE">MaxPool3DOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col0 decl" id="390ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="390ctx">ctx</dfn>)</td></tr>
<tr><th id="172">172</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolOp" title='tensorflow::(anonymous namespace)::MaxPoolOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolOp">MaxPoolOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolOp::MaxPoolOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19MaxPoolOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col0 ref" href="#390ctx" title='ctx' data-ref="390ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>3</var>) {}</td></tr>
<tr><th id="173">173</th><td>};</td></tr>
<tr><th id="174">174</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__5__object( XlaOpRegistrationBuilder::Name(&quot;MaxPool3D&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool3DOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPool3D"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool3DOp" title='tensorflow::(anonymous namespace)::MaxPool3DOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool3DOp">MaxPool3DOp</a>);</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td><i  data-doc="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">// Common computation shared between AvgPool and AvgPoolGrad. Divide each</i></td></tr>
<tr><th id="177">177</th><td><i  data-doc="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">// element of an image by the count of elements that contributed to that</i></td></tr>
<tr><th id="178">178</th><td><i  data-doc="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">// element during pooling.</i></td></tr>
<tr><th id="179">179</th><td><em>static</em> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718" title='tensorflow::(anonymous namespace)::AvgPoolDivideByCount' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::AvgPoolDivideByCount(tensorflow::XlaOpKernelContext * ctx, const xla::ComputationDataHandle &amp; output, tensorflow::DataType dtype, const tensorflow::TensorShape &amp; input_shape, xla::Padding padding, const std::vector&lt;int64&gt; &amp; ksize, const std::vector&lt;int64&gt; &amp; stride, int num_spatial_dims, tensorflow::TensorFormat data_format)' data-ref="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">AvgPoolDivideByCount</dfn>(</td></tr>
<tr><th id="180">180</th><td>    <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col1 decl" id="391ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="391ctx">ctx</dfn>, <em>const</em> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span>&amp; <dfn class="local col2 decl" id="392output" title='output' data-type='const xla::ComputationDataHandle &amp;' data-ref="392output">output</dfn>,</td></tr>
<tr><th id="181">181</th><td>    <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col3 decl" id="393dtype" title='dtype' data-type='tensorflow::DataType' data-ref="393dtype">dtype</dfn>, <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a>&amp; <dfn class="local col4 decl" id="394input_shape" title='input_shape' data-type='const tensorflow::TensorShape &amp;' data-ref="394input_shape">input_shape</dfn>, <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a> <dfn class="local col5 decl" id="395padding" title='padding' data-type='xla::Padding' data-ref="395padding">padding</dfn>,</td></tr>
<tr><th id="182">182</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt;&amp; <dfn class="local col6 decl" id="396ksize" title='ksize' data-type='const std::vector&lt;int64&gt; &amp;' data-ref="396ksize">ksize</dfn>, <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt;&amp; <dfn class="local col7 decl" id="397stride" title='stride' data-type='const std::vector&lt;int64&gt; &amp;' data-ref="397stride">stride</dfn>,</td></tr>
<tr><th id="183">183</th><td>    <em>int</em> <dfn class="local col8 decl" id="398num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="398num_spatial_dims">num_spatial_dims</dfn>, <a class="type" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat" title='tensorflow::TensorFormat' data-ref="tensorflow::TensorFormat">TensorFormat</a> <dfn class="local col9 decl" id="399data_format" title='data_format' data-type='tensorflow::TensorFormat' data-ref="399data_format">data_format</dfn>) {</td></tr>
<tr><th id="184">184</th><td>  <b>if</b> (<a class="local col5 ref" href="#395padding" title='padding' data-ref="395padding">padding</a> == <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a>) {</td></tr>
<tr><th id="185">185</th><td>    <i>// In VALID padding, all windows have the same number of elements</i></td></tr>
<tr><th id="186">186</th><td><i>    // contributing to each average. Divide by the window size everywhere to</i></td></tr>
<tr><th id="187">187</th><td><i>    // get the average.</i></td></tr>
<tr><th id="188">188</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col0 decl" id="400window_size" title='window_size' data-type='int64' data-ref="400window_size">window_size</dfn> = <span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/5/bits/stl_numeric.h.html#_ZSt10accumulateT_S_T0_T1_" title='std::accumulate' data-ref="_ZSt10accumulateT_S_T0_T1_">accumulate</a>(<a class="local col6 ref" href="#396ksize" title='ksize' data-ref="396ksize">ksize</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(), <a class="local col6 ref" href="#396ksize" title='ksize' data-ref="396ksize">ksize</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>(), <var>1</var>,</td></tr>
<tr><th id="189">189</th><td>                                        [](<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col1 decl" id="401a" title='a' data-type='int64' data-ref="401a">a</dfn>, <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col2 decl" id="402b" title='b' data-type='int64' data-ref="402b">b</dfn>) { <b>return</b> <a class="local col1 ref" href="#401a" title='a' data-ref="401a">a</a> * <a class="local col2 ref" href="#402b" title='b' data-ref="402b">b</a>; });</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>    <em>auto</em> <dfn class="local col3 decl" id="403divisor" title='divisor' data-type='xla::ComputationDataHandle' data-ref="403divisor">divisor</dfn> =</td></tr>
<tr><th id="192">192</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers14IntegerLiteralEPN3xla18ComputationBuilderENS_8DataTypeEx" title='tensorflow::XlaHelpers::IntegerLiteral' data-ref="_ZN10tensorflow10XlaHelpers14IntegerLiteralEPN3xla18ComputationBuilderENS_8DataTypeEx">IntegerLiteral</a>(<a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>(), <a class="local col3 ref" href="#393dtype" title='dtype' data-ref="393dtype">dtype</a>, <a class="local col0 ref" href="#400window_size" title='window_size' data-ref="400window_size">window_size</a>);</td></tr>
<tr><th id="193">193</th><td>    <b>return</b> <a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3DivERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Div' data-ref="_ZN3xla18ComputationBuilder3DivERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Div</a>(<a class="local col2 ref" href="#392output" title='output' data-ref="392output">output</a>, <a class="local col3 ref" href="#403divisor" title='divisor' data-ref="403divisor">divisor</a>);</td></tr>
<tr><th id="194">194</th><td>  } <b>else</b> {</td></tr>
<tr><th id="195">195</th><td>    <i>// For SAME padding, the padding shouldn't be included in the</i></td></tr>
<tr><th id="196">196</th><td><i>    // counts. We use another ReduceWindow to find the right counts.</i></td></tr>
<tr><th id="197">197</th><td><i></i></td></tr>
<tr><th id="198">198</th><td><i>    // TODO(phawkins): use a less brute-force way to compute this. Only</i></td></tr>
<tr><th id="199">199</th><td><i>    // the boundary regions will have interesting values here.</i></td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col4 decl" id="404input_dim_sizes" title='input_dim_sizes' data-type='std::vector&lt;int64&gt;' data-ref="404input_dim_sizes">input_dim_sizes</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a>);</td></tr>
<tr><th id="202">202</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col5 decl" id="405window_dims" title='window_dims' data-type='std::vector&lt;int64&gt;' data-ref="405window_dims">window_dims</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a>);</td></tr>
<tr><th id="203">203</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col6 decl" id="406window_ksize" title='window_ksize' data-type='std::vector&lt;int64&gt;' data-ref="406window_ksize">window_ksize</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a>);</td></tr>
<tr><th id="204">204</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col7 decl" id="407window_stride" title='window_stride' data-type='std::vector&lt;int64&gt;' data-ref="407window_stride">window_stride</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a>);</td></tr>
<tr><th id="205">205</th><td>    <b>for</b> (<em>int</em> <dfn class="local col8 decl" id="408i" title='i' data-type='int' data-ref="408i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a> &lt; <a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a>; ++<a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>) {</td></tr>
<tr><th id="206">206</th><td>      <em>int</em> <dfn class="local col9 decl" id="409dim" title='dim' data-type='int' data-ref="409dim">dim</dfn> = <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi" title='tensorflow::GetTensorSpatialDimIndex' data-ref="_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi">GetTensorSpatialDimIndex</a>(<a class="local col8 ref" href="#398num_spatial_dims" title='num_spatial_dims' data-ref="398num_spatial_dims">num_spatial_dims</a> + <var>2</var>, <a class="local col9 ref" href="#399data_format" title='data_format' data-ref="399data_format">data_format</a>, <a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>);</td></tr>
<tr><th id="207">207</th><td>      <a class="local col4 ref" href="#404input_dim_sizes" title='input_dim_sizes' data-ref="404input_dim_sizes">input_dim_sizes</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>]</a> = <a class="local col4 ref" href="#394input_shape" title='input_shape' data-ref="394input_shape">input_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase8dim_sizeEi" title='tensorflow::TensorShapeBase::dim_size' data-ref="_ZNK10tensorflow15TensorShapeBase8dim_sizeEi">dim_size</a>(<a class="local col9 ref" href="#409dim" title='dim' data-ref="409dim">dim</a>);</td></tr>
<tr><th id="208">208</th><td>      <a class="local col5 ref" href="#405window_dims" title='window_dims' data-ref="405window_dims">window_dims</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>]</a> = <a class="local col9 ref" href="#409dim" title='dim' data-ref="409dim">dim</a>;</td></tr>
<tr><th id="209">209</th><td>      <a class="local col6 ref" href="#406window_ksize" title='window_ksize' data-ref="406window_ksize">window_ksize</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>]</a> = <a class="local col6 ref" href="#396ksize" title='ksize' data-ref="396ksize">ksize</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col9 ref" href="#409dim" title='dim' data-ref="409dim">dim</a>]</a>;</td></tr>
<tr><th id="210">210</th><td>      <a class="local col7 ref" href="#407window_stride" title='window_stride' data-ref="407window_stride">window_stride</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#408i" title='i' data-ref="408i">i</a>]</a> = <a class="local col7 ref" href="#397stride" title='stride' data-ref="397stride">stride</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col9 ref" href="#409dim" title='dim' data-ref="409dim">dim</a>]</a>;</td></tr>
<tr><th id="211">211</th><td>    }</td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td>    <i>// Build a matrix of all 1s, with the same width/height as the input.</i></td></tr>
<tr><th id="214">214</th><td>    <em>const</em> <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col0 decl" id="410accumulation_type" title='accumulation_type' data-type='const tensorflow::DataType' data-ref="410accumulation_type">accumulation_type</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE" title='tensorflow::XlaHelpers::SumAccumulationType' data-ref="_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE">SumAccumulationType</a>(<a class="local col3 ref" href="#393dtype" title='dtype' data-ref="393dtype">dtype</a>);</td></tr>
<tr><th id="215">215</th><td>    <em>auto</em> <dfn class="local col1 decl" id="411ones" title='ones' data-type='xla::ComputationDataHandle' data-ref="411ones">ones</dfn> = <a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9BroadcastERKNS_21ComputationDataHandleEN10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Broadcast' data-ref="_ZN3xla18ComputationBuilder9BroadcastERKNS_21ComputationDataHandleEN10tensorflow3gtl10ArraySliceIxEE">Broadcast</a>(</td></tr>
<tr><th id="216">216</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers3OneEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::One' data-ref="_ZN10tensorflow10XlaHelpers3OneEPN3xla18ComputationBuilderENS_8DataTypeE">One</a>(<a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>(), <a class="local col0 ref" href="#410accumulation_type" title='accumulation_type' data-ref="410accumulation_type">accumulation_type</a>), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col4 ref" href="#404input_dim_sizes" title='input_dim_sizes' data-ref="404input_dim_sizes">input_dim_sizes</a>);</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td>    <i>// Perform a ReduceWindow with the same window size, strides, and padding</i></td></tr>
<tr><th id="219">219</th><td><i>    // to count the number of contributions to each result element.</i></td></tr>
<tr><th id="220">220</th><td>    <em>auto</em> <dfn class="local col2 decl" id="412reduce" title='reduce' data-type='xla::ComputationDataHandle' data-ref="412reduce">reduce</dfn> = <a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE" title='xla::ComputationBuilder::ReduceWindow' data-ref="_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE">ReduceWindow</a>(</td></tr>
<tr><th id="221">221</th><td>        <a class="local col1 ref" href="#411ones" title='ones' data-ref="411ones">ones</a>, <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::Zero' data-ref="_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE">Zero</a>(<a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>(), <a class="local col0 ref" href="#410accumulation_type" title='accumulation_type' data-ref="410accumulation_type">accumulation_type</a>),</td></tr>
<tr><th id="222">222</th><td>        *<a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE" title='tensorflow::XlaOpKernelContext::GetOrCreateAdd' data-ref="_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE">GetOrCreateAdd</a>(<a class="local col0 ref" href="#410accumulation_type" title='accumulation_type' data-ref="410accumulation_type">accumulation_type</a>), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col6 ref" href="#406window_ksize" title='window_ksize' data-ref="406window_ksize">window_ksize</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col7 ref" href="#407window_stride" title='window_stride' data-ref="407window_stride">window_stride</a>,</td></tr>
<tr><th id="223">223</th><td>        <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kSame" title='xla::Padding::kSame' data-ref="xla::Padding::kSame">kSame</a>);</td></tr>
<tr><th id="224">224</th><td>    <em>auto</em> <dfn class="local col3 decl" id="413counts" title='counts' data-type='xla::ComputationDataHandle' data-ref="413counts">counts</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE" title='tensorflow::XlaHelpers::ConvertElementType' data-ref="_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE">ConvertElementType</a>(<a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>(), <a class="local col2 ref" href="#412reduce" title='reduce' data-ref="412reduce">reduce</a>, <a class="local col3 ref" href="#393dtype" title='dtype' data-ref="393dtype">dtype</a>);</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>    <b>return</b> <a class="local col1 ref" href="#391ctx" title='ctx' data-ref="391ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3DivERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Div' data-ref="_ZN3xla18ComputationBuilder3DivERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Div</a>(<a class="local col2 ref" href="#392output" title='output' data-ref="392output">output</a>, <a class="local col3 ref" href="#413counts" title='counts' data-ref="413counts">counts</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col5 ref" href="#405window_dims" title='window_dims' data-ref="405window_dims">window_dims</a>);</td></tr>
<tr><th id="227">227</th><td>  }</td></tr>
<tr><th id="228">228</th><td>}</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPoolOp" title='tensorflow::(anonymous namespace)::AvgPoolOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolOp">AvgPoolOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::PoolingOp" title='tensorflow::(anonymous namespace)::PoolingOp' data-ref="tensorflow::(anonymousnamespace)::PoolingOp">PoolingOp</a> {</td></tr>
<tr><th id="231">231</th><td> <b>public</b>:</td></tr>
<tr><th id="232">232</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolOp::AvgPoolOp' data-type='void tensorflow::(anonymous namespace)::AvgPoolOp::AvgPoolOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims)' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi">AvgPoolOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col4 decl" id="414ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="414ctx">ctx</dfn>, <em>int</em> <dfn class="local col5 decl" id="415num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="415num_spatial_dims">num_spatial_dims</dfn>)</td></tr>
<tr><th id="233">233</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::PoolingOp" title='tensorflow::(anonymous namespace)::PoolingOp' data-ref="tensorflow::(anonymousnamespace)::PoolingOp">PoolingOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE" title='tensorflow::(anonymous namespace)::PoolingOp::PoolingOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19PoolingOpC1EPNS_20OpKernelConstructionEiNS_8DataTypeE">(</a><a class="local col4 ref" href="#414ctx" title='ctx' data-ref="414ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><a class="local col5 ref" href="#415num_spatial_dims" title='num_spatial_dims' data-ref="415num_spatial_dims">num_spatial_dims</a>,</td></tr>
<tr><th id="234">234</th><td>                  <i>/*reduction_type=*/</i></td></tr>
<tr><th id="235">235</th><td>                  <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE" title='tensorflow::XlaHelpers::SumAccumulationType' data-ref="_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE">SumAccumulationType</a>(<a class="local col4 ref" href="#414ctx" title='ctx' data-ref="414ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction10input_typeEi" title='tensorflow::OpKernelConstruction::input_type' data-ref="_ZNK10tensorflow20OpKernelConstruction10input_typeEi">input_type</a>(<var>0</var>))) {}</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td>  <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp9InitValueEPN3xla18ComputationBuilderE" title='tensorflow::(anonymous namespace)::AvgPoolOp::InitValue' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::AvgPoolOp::InitValue(xla::ComputationBuilder * b)' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp9InitValueEPN3xla18ComputationBuilderE">InitValue</dfn>(<span class="namespace">xla::</span><a class="type" href="../../xla/client/computation_builder.h.html#xla::ComputationBuilder" title='xla::ComputationBuilder' data-ref="xla::ComputationBuilder">ComputationBuilder</a>* <dfn class="local col6 decl" id="416b" title='b' data-type='xla::ComputationBuilder *' data-ref="416b">b</dfn>) override {</td></tr>
<tr><th id="238">238</th><td>    <b>return</b> <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::Zero' data-ref="_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE">Zero</a>(<a class="local col6 ref" href="#416b" title='b' data-ref="416b">b</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>);</td></tr>
<tr><th id="239">239</th><td>  }</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>  <em>const</em> <span class="namespace">xla::</span><a class="type" href="../../xla/client/computation.h.html#xla::Computation" title='xla::Computation' data-ref="xla::Computation">Computation</a>* <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp9ReductionEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::AvgPoolOp::Reduction' data-type='const xla::Computation * tensorflow::(anonymous namespace)::AvgPoolOp::Reduction(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp9ReductionEPNS_18XlaOpKernelContextE">Reduction</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col7 decl" id="417ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="417ctx">ctx</dfn>) override {</td></tr>
<tr><th id="242">242</th><td>    <b>return</b> <a class="local col7 ref" href="#417ctx" title='ctx' data-ref="417ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE" title='tensorflow::XlaOpKernelContext::GetOrCreateAdd' data-ref="_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE">GetOrCreateAdd</a>(<a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_" title='tensorflow::(anonymous namespace)::PoolingOp::reduction_type_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::reduction_type_">reduction_type_</a>);</td></tr>
<tr><th id="243">243</th><td>  }</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>  <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE" title='tensorflow::(anonymous namespace)::AvgPoolOp::PostProcessOutput' data-type='xla::ComputationDataHandle tensorflow::(anonymous namespace)::AvgPoolOp::PostProcessOutput(tensorflow::XlaOpKernelContext * ctx, const xla::ComputationDataHandle &amp; output, tensorflow::DataType dtype, const tensorflow::TensorShape &amp; input_shape)' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOp17PostProcessOutputEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeE">PostProcessOutput</dfn>(</td></tr>
<tr><th id="246">246</th><td>      <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col8 decl" id="418ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="418ctx">ctx</dfn>, <em>const</em> <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span>&amp; <dfn class="local col9 decl" id="419output" title='output' data-type='const xla::ComputationDataHandle &amp;' data-ref="419output">output</dfn>,</td></tr>
<tr><th id="247">247</th><td>      <span class='type' title='tensorflow::DataType' data-ref="tensorflow::DataType">DataType</span> <dfn class="local col0 decl" id="420dtype" title='dtype' data-type='tensorflow::DataType' data-ref="420dtype">dtype</dfn>, <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a>&amp; <dfn class="local col1 decl" id="421input_shape" title='input_shape' data-type='const tensorflow::TensorShape &amp;' data-ref="421input_shape">input_shape</dfn>) override {</td></tr>
<tr><th id="248">248</th><td>    <b>return</b> <a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718" title='tensorflow::(anonymous namespace)::AvgPoolDivideByCount' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">AvgPoolDivideByCount</a>(<a class="local col8 ref" href="#418ctx" title='ctx' data-ref="418ctx">ctx</a>, <a class="local col9 ref" href="#419output" title='output' data-ref="419output">output</a>, <a class="local col0 ref" href="#420dtype" title='dtype' data-ref="420dtype">dtype</a>, <a class="local col1 ref" href="#421input_shape" title='input_shape' data-ref="421input_shape">input_shape</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::padding_" title='tensorflow::(anonymous namespace)::PoolingOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::padding_">padding_</a>,</td></tr>
<tr><th id="249">249</th><td>                                <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::ksize_" title='tensorflow::(anonymous namespace)::PoolingOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::ksize_">ksize_</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::stride_" title='tensorflow::(anonymous namespace)::PoolingOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::stride_">stride_</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::PoolingOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::num_spatial_dims_">num_spatial_dims_</a>,</td></tr>
<tr><th id="250">250</th><td>                                <a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::data_format_" title='tensorflow::(anonymous namespace)::PoolingOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::data_format_">data_format_</a>);</td></tr>
<tr><th id="251">251</th><td>  }</td></tr>
<tr><th id="252">252</th><td>};</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPool2DOp" title='tensorflow::(anonymous namespace)::AvgPool2DOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool2DOp">AvgPool2DOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolOp" title='tensorflow::(anonymous namespace)::AvgPoolOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolOp">AvgPoolOp</a> {</td></tr>
<tr><th id="255">255</th><td> <b>public</b>:</td></tr>
<tr><th id="256">256</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_111AvgPool2DOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::AvgPool2DOp::AvgPool2DOp' data-type='void tensorflow::(anonymous namespace)::AvgPool2DOp::AvgPool2DOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_111AvgPool2DOpC1EPNS_20OpKernelConstructionE">AvgPool2DOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col2 decl" id="422ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="422ctx">ctx</dfn>)</td></tr>
<tr><th id="257">257</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolOp" title='tensorflow::(anonymous namespace)::AvgPoolOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolOp">AvgPoolOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolOp::AvgPoolOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col2 ref" href="#422ctx" title='ctx' data-ref="422ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>2</var>) {</td></tr>
<tr><th id="258">258</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1Ev" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1Ev"></a><dfn class="local col3 decl" id="423data_format_str" title='data_format_str' data-type='string' data-ref="423data_format_str">data_format_str</dfn>;</td></tr>
<tr><th id="259">259</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;data_format&quot;, &amp;data_format_str)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 259, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col2 ref" href="#422ctx" title='ctx' data-ref="422ctx">ctx</a>, <a class="local col2 ref" href="#422ctx" title='ctx' data-ref="422ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"data_format"</q>, &amp;<a class="local col3 ref" href="#423data_format_str" title='data_format_str' data-ref="423data_format_str">data_format_str</a>));</td></tr>
<tr><th id="260">260</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(FormatFromString(data_format_str, &amp;data_format_)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 261, (errors::InvalidArgument(&quot;Invalid data format&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col2 ref" href="#422ctx" title='ctx' data-ref="422ctx">ctx</a>, <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE" title='tensorflow::FormatFromString' data-ref="_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE">FormatFromString</a>(<a class="local col3 ref" href="#423data_format_str" title='data_format_str' data-ref="423data_format_str">data_format_str</a>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::PoolingOp::data_format_" title='tensorflow::(anonymous namespace)::PoolingOp::data_format_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::PoolingOp::data_format_">data_format_</a>),</td></tr>
<tr><th id="261">261</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Invalid data format"</q>));</td></tr>
<tr><th id="262">262</th><td>  }</td></tr>
<tr><th id="263">263</th><td>};</td></tr>
<tr><th id="264">264</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__7__object( XlaOpRegistrationBuilder::Name(&quot;AvgPool&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new AvgPool2DOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"AvgPool"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPool2DOp" title='tensorflow::(anonymous namespace)::AvgPool2DOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool2DOp">AvgPool2DOp</a>);</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPool3DOp" title='tensorflow::(anonymous namespace)::AvgPool3DOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool3DOp">AvgPool3DOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolOp" title='tensorflow::(anonymous namespace)::AvgPoolOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolOp">AvgPoolOp</a> {</td></tr>
<tr><th id="267">267</th><td> <b>public</b>:</td></tr>
<tr><th id="268">268</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_111AvgPool3DOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::AvgPool3DOp::AvgPool3DOp' data-type='void tensorflow::(anonymous namespace)::AvgPool3DOp::AvgPool3DOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_111AvgPool3DOpC1EPNS_20OpKernelConstructionE">AvgPool3DOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col4 decl" id="424ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="424ctx">ctx</dfn>)</td></tr>
<tr><th id="269">269</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolOp" title='tensorflow::(anonymous namespace)::AvgPoolOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolOp">AvgPoolOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolOp::AvgPoolOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_19AvgPoolOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col4 ref" href="#424ctx" title='ctx' data-ref="424ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>3</var>) {}</td></tr>
<tr><th id="270">270</th><td>};</td></tr>
<tr><th id="271">271</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__9__object( XlaOpRegistrationBuilder::Name(&quot;AvgPool3D&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new AvgPool3DOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"AvgPool3D"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPool3DOp" title='tensorflow::(anonymous namespace)::AvgPool3DOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool3DOp">AvgPool3DOp</a>);</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">// The operation to compute MaxPool gradients.</i></td></tr>
<tr><th id="274">274</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">// It takes three inputs:</i></td></tr>
<tr><th id="275">275</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">//   - The original input tensor</i></td></tr>
<tr><th id="276">276</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">//   - The original output tensor</i></td></tr>
<tr><th id="277">277</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">//   - Backprop tensor for output</i></td></tr>
<tr><th id="278">278</th><td><i  data-doc="tensorflow::(anonymousnamespace)::MaxPoolGradOp">// It produces one output: backprop tensor for input.</i></td></tr>
<tr><th id="279">279</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp">MaxPoolGradOp</dfn> : <b>public</b> <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a> {</td></tr>
<tr><th id="280">280</th><td> <b>public</b>:</td></tr>
<tr><th id="281">281</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::MaxPoolGradOp' data-type='void tensorflow::(anonymous namespace)::MaxPoolGradOp::MaxPoolGradOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims)' data-ref="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi">MaxPoolGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col5 decl" id="425ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="425ctx">ctx</dfn>, <em>int</em> <dfn class="local col6 decl" id="426num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="426num_spatial_dims">num_spatial_dims</dfn>)</td></tr>
<tr><th id="282">282</th><td>      : <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a><a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE" title='tensorflow::XlaOpKernel::XlaOpKernel' data-ref="_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE">(</a><a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>), <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_spatial_dims_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>(<a class="local col6 ref" href="#426num_spatial_dims" title='num_spatial_dims' data-ref="426num_spatial_dims">num_spatial_dims</a>) {</td></tr>
<tr><th id="283">283</th><td>    <b>if</b> (<a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction10num_inputsEv" title='tensorflow::OpKernelConstruction::num_inputs' data-ref="_ZNK10tensorflow20OpKernelConstruction10num_inputsEv">num_inputs</a>() == <var>3</var>) {</td></tr>
<tr><th id="284">284</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;ksize&quot;, &amp;ksize_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 284, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>, <a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::ksize_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_">ksize_</a>));</td></tr>
<tr><th id="285">285</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;strides&quot;, &amp;stride_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 285, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>, <a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::stride_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_">stride_</a>));</td></tr>
<tr><th id="286">286</th><td>    }</td></tr>
<tr><th id="287">287</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;padding&quot;, &amp;padding_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 287, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>, <a class="local col5 ref" href="#425ctx" title='ctx' data-ref="425ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"padding"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::padding_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_">padding_</a>));</td></tr>
<tr><th id="288">288</th><td>  }</td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td>  <em>int</em> <dfn class="tu decl def" id="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-type='int tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims() const' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</dfn>() <em>const</em> { <b>return</b> <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_">num_spatial_dims_</a> + <var>2</var>; }</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOp7CompileEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::Compile' data-type='void tensorflow::(anonymous namespace)::MaxPoolGradOp::Compile(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOp7CompileEPNS_18XlaOpKernelContextE">Compile</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col7 decl" id="427ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="427ctx">ctx</dfn>) override {</td></tr>
<tr><th id="293">293</th><td>    <b>if</b> (<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv" title='tensorflow::XlaOpKernelContext::num_inputs' data-ref="_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv">num_inputs</a>() != <var>3</var>) {</td></tr>
<tr><th id="294">294</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ctx-&gt;num_inputs() == 5), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 296, (errors::InvalidArgument(&quot;Must supply ksize and stride arguments.&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(</td></tr>
<tr><th id="295">295</th><td>          <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv" title='tensorflow::XlaOpKernelContext::num_inputs' data-ref="_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv">num_inputs</a>() == <var>5</var>,</td></tr>
<tr><th id="296">296</th><td>          errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Must supply ksize and stride arguments."</q>));</td></tr>
<tr><th id="297">297</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col8 decl" id="428ksize_shape" title='ksize_shape' data-type='const tensorflow::TensorShape' data-ref="428ksize_shape">ksize_shape</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>3</var>);</td></tr>
<tr><th id="298">298</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="299">299</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(ksize_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 301, (errors::InvalidArgument(&quot;ksize must be a vector, not shape &quot;, ksize_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col8 ref" href="#428ksize_shape" title='ksize_shape' data-ref="428ksize_shape">ksize_shape</a>),</td></tr>
<tr><th id="300">300</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"ksize must be a vector, not shape "</q>,</td></tr>
<tr><th id="301">301</th><td>                                          <a class="local col8 ref" href="#428ksize_shape" title='ksize_shape' data-ref="428ksize_shape">ksize_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="302">302</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(3, &amp;ksize_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 302, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>3</var>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::ksize_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_">ksize_</a>));</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col9 decl" id="429stride_shape" title='stride_shape' data-type='const tensorflow::TensorShape' data-ref="429stride_shape">stride_shape</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>4</var>);</td></tr>
<tr><th id="305">305</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="306">306</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(stride_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 308, (errors::InvalidArgument(&quot;stride must be a vector, not shape &quot;, stride_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col9 ref" href="#429stride_shape" title='stride_shape' data-ref="429stride_shape">stride_shape</a>),</td></tr>
<tr><th id="307">307</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"stride must be a vector, not shape "</q>,</td></tr>
<tr><th id="308">308</th><td>                                          <a class="local col9 ref" href="#429stride_shape" title='stride_shape' data-ref="429stride_shape">stride_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="309">309</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(4, &amp;stride_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 309, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>4</var>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::stride_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_">stride_</a>));</td></tr>
<tr><th id="310">310</th><td>    }</td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 315, (errors::InvalidArgument(&quot;Sliding window ksize field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_">ksize_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="313">313</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window ksize field must "</q></td></tr>
<tr><th id="314">314</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="315">315</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="316">316</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(stride_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 319, (errors::InvalidArgument(&quot;Sliding window strides field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="317">317</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window strides field must "</q></td></tr>
<tr><th id="318">318</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="319">319</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="320">320</th><td></td></tr>
<tr><th id="321">321</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col0 decl" id="430tensor_in_shape" title='tensor_in_shape' data-type='const tensorflow::TensorShape' data-ref="430tensor_in_shape">tensor_in_shape</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>0</var>);</td></tr>
<tr><th id="322">322</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col1 decl" id="431tensor_out_shape" title='tensor_out_shape' data-type='const tensorflow::TensorShape' data-ref="431tensor_out_shape">tensor_out_shape</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>1</var>);</td></tr>
<tr><th id="323">323</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col2 decl" id="432out_backprop_shape" title='out_backprop_shape' data-type='const tensorflow::TensorShape' data-ref="432out_backprop_shape">out_backprop_shape</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>2</var>);</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td>    <i>// For maxpooling, tensor_in should have num_dims() dimensions.</i></td></tr>
<tr><th id="326">326</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(tensor_in_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 328, (errors::InvalidArgument(&quot;tensor_in must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col0 ref" href="#430tensor_in_shape" title='tensor_in_shape' data-ref="430tensor_in_shape">tensor_in_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="327">327</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"tensor_in must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="328">328</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="329">329</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(tensor_out_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 331, (errors::InvalidArgument(&quot;tensor_out must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col1 ref" href="#431tensor_out_shape" title='tensor_out_shape' data-ref="431tensor_out_shape">tensor_out_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="330">330</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"tensor_out must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="331">331</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="332">332</th><td>    <i>// For maxpooling, out_backprop should have num_dims() dimensions.</i></td></tr>
<tr><th id="333">333</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(out_backprop_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 335, (errors::InvalidArgument(&quot;out_backprop must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="local col2 ref" href="#432out_backprop_shape" title='out_backprop_shape' data-ref="432out_backprop_shape">out_backprop_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="334">334</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"out_backprop must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113MaxPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="335">335</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>    <i>// TODO(phawkins): The XLA version doesn't need tensor_out. Investigate</i></td></tr>
<tr><th id="338">338</th><td><i>    // whether this is a good time/space tradeoff.</i></td></tr>
<tr><th id="339">339</th><td>    <em>auto</em> <dfn class="local col3 decl" id="433input" title='input' data-type='xla::ComputationDataHandle' data-ref="433input">input</dfn> = <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>0</var>);</td></tr>
<tr><th id="340">340</th><td>    <em>auto</em> <dfn class="local col4 decl" id="434out_backprop" title='out_backprop' data-type='xla::ComputationDataHandle' data-ref="434out_backprop">out_backprop</dfn> = <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>2</var>);</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>    <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a> <dfn class="local col5 decl" id="435xla_padding" title='xla_padding' data-type='xla::Padding' data-ref="435xla_padding">xla_padding</dfn> =</td></tr>
<tr><th id="343">343</th><td>        (<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_">padding_</a> == <a class="enum" href="../../../core/util/padding.h.html#tensorflow::Padding::VALID" title='tensorflow::Padding::VALID' data-ref="tensorflow::Padding::VALID">VALID</a>) ? <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a> : <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kSame" title='xla::Padding::kSame' data-ref="xla::Padding::kSame">kSame</a>;</td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td>    <span class="namespace">xla::</span><span class='type' title='xla::PrimitiveType' data-ref="xla::PrimitiveType">PrimitiveType</span> <dfn class="local col6 decl" id="436element_type" title='element_type' data-type='xla::PrimitiveType' data-ref="436element_type">element_type</dfn>;</td></tr>
<tr><th id="346">346</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(DataTypeToPrimitiveType(input_type(2), &amp;element_type)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 346, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>, <a class="ref" href="../type_util.h.html#_ZN10tensorflow23DataTypeToPrimitiveTypeENS_8DataTypeEPN3xla13PrimitiveTypeE" title='tensorflow::DataTypeToPrimitiveType' data-ref="_ZN10tensorflow23DataTypeToPrimitiveTypeENS_8DataTypeEPN3xla13PrimitiveTypeE">DataTypeToPrimitiveType</a>(<a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>2</var>), &amp;<a class="local col6 ref" href="#436element_type" title='element_type' data-ref="436element_type">element_type</a>));</td></tr>
<tr><th id="347">347</th><td>    <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="local col7 decl" id="437init_value" title='init_value' data-type='xla::ComputationDataHandle' data-ref="437init_value">init_value</dfn> =</td></tr>
<tr><th id="348">348</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::Zero' data-ref="_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE">Zero</a>(<a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>(), <a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>2</var>));</td></tr>
<tr><th id="349">349</th><td>    <em>auto</em> <dfn class="local col8 decl" id="438select" title='select' data-type='xla::Computation' data-ref="438select">select</dfn> = <a class="ref" href="../../xla/client/lib/arithmetic.h.html#_ZN3xla25CreateScalarGeComputationENS_13PrimitiveTypeEPNS_18ComputationBuilderE" title='xla::CreateScalarGeComputation' data-ref="_ZN3xla25CreateScalarGeComputationENS_13PrimitiveTypeEPNS_18ComputationBuilderE">CreateScalarGeComputation</a>(<a class="local col6 ref" href="#436element_type" title='element_type' data-ref="436element_type">element_type</a>, <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>());</td></tr>
<tr><th id="350">350</th><td>    <em>auto</em> <dfn class="local col9 decl" id="439scatter" title='scatter' data-type='xla::Computation' data-ref="439scatter">scatter</dfn> = <a class="ref" href="../../xla/client/lib/arithmetic.h.html#_ZN3xla26CreateScalarAddComputationENS_13PrimitiveTypeEPNS_18ComputationBuilderE" title='xla::CreateScalarAddComputation' data-ref="_ZN3xla26CreateScalarAddComputationENS_13PrimitiveTypeEPNS_18ComputationBuilderE">CreateScalarAddComputation</a>(<a class="local col6 ref" href="#436element_type" title='element_type' data-ref="436element_type">element_type</a>, <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>());</td></tr>
<tr><th id="351">351</th><td>    <span class="namespace">xla::</span><span class='type' title='xla::ComputationDataHandle' data-ref="xla::ComputationDataHandle">ComputationDataHandle</span> <dfn class="local col0 decl" id="440gradients" title='gradients' data-type='xla::ComputationDataHandle' data-ref="440gradients">gradients</dfn> = <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>()-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder16SelectAndScatterERKNS_21ComputationDataHandleERKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingES3_S3_S6_" title='xla::ComputationBuilder::SelectAndScatter' data-ref="_ZN3xla18ComputationBuilder16SelectAndScatterERKNS_21ComputationDataHandleERKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingES3_S3_S6_">SelectAndScatter</a>(</td></tr>
<tr><th id="352">352</th><td>        <a class="local col3 ref" href="#433input" title='input' data-ref="433input">input</a>, <a class="local col8 ref" href="#438select" title='select' data-ref="438select">select</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_">ksize_</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_">stride_</a>, <a class="local col5 ref" href="#435xla_padding" title='xla_padding' data-ref="435xla_padding">xla_padding</a>, <a class="local col4 ref" href="#434out_backprop" title='out_backprop' data-ref="434out_backprop">out_backprop</a>, <a class="local col7 ref" href="#437init_value" title='init_value' data-ref="437init_value">init_value</a>,</td></tr>
<tr><th id="353">353</th><td>        <a class="local col9 ref" href="#439scatter" title='scatter' data-ref="439scatter">scatter</a>);</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>    <a class="local col7 ref" href="#427ctx" title='ctx' data-ref="427ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE" title='tensorflow::XlaOpKernelContext::SetOutput' data-ref="_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE">SetOutput</a>(<var>0</var>, <a class="local col0 ref" href="#440gradients" title='gradients' data-ref="440gradients">gradients</a>);</td></tr>
<tr><th id="356">356</th><td>  }</td></tr>
<tr><th id="357">357</th><td></td></tr>
<tr><th id="358">358</th><td> <b>protected</b>:</td></tr>
<tr><th id="359">359</th><td>  <em>const</em> <em>int</em> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::num_spatial_dims_' data-type='const int' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::num_spatial_dims_">num_spatial_dims_</dfn>;</td></tr>
<tr><th id="360">360</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::ksize_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::ksize_">ksize_</dfn>;</td></tr>
<tr><th id="361">361</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::stride_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::stride_">stride_</dfn>;</td></tr>
<tr><th id="362">362</th><td>  <a class="type" href="../../../core/util/padding.h.html#tensorflow::Padding" title='tensorflow::Padding' data-ref="tensorflow::Padding">Padding</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::padding_' data-type='tensorflow::Padding' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::padding_">padding_</dfn>;</td></tr>
<tr><th id="363">363</th><td>  <a class="type" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat" title='tensorflow::TensorFormat' data-ref="tensorflow::TensorFormat">TensorFormat</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::data_format_' data-type='tensorflow::TensorFormat' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::data_format_">data_format_</dfn> = <a class="enum" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat::FORMAT_NHWC" title='tensorflow::TensorFormat::FORMAT_NHWC' data-ref="tensorflow::TensorFormat::FORMAT_NHWC">FORMAT_NHWC</a>;</td></tr>
<tr><th id="364">364</th><td>};</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPool2DGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradOp">MaxPool2DGradOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp">MaxPoolGradOp</a> {</td></tr>
<tr><th id="367">367</th><td> <b>public</b>:</td></tr>
<tr><th id="368">368</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_115MaxPool2DGradOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::MaxPool2DGradOp::MaxPool2DGradOp' data-type='void tensorflow::(anonymous namespace)::MaxPool2DGradOp::MaxPool2DGradOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_115MaxPool2DGradOpC1EPNS_20OpKernelConstructionE">MaxPool2DGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col1 decl" id="441ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="441ctx">ctx</dfn>)</td></tr>
<tr><th id="369">369</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp">MaxPoolGradOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::MaxPoolGradOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col1 ref" href="#441ctx" title='ctx' data-ref="441ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>2</var>) {</td></tr>
<tr><th id="370">370</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1Ev" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1Ev"></a><dfn class="local col2 decl" id="442data_format" title='data_format' data-type='string' data-ref="442data_format">data_format</dfn>;</td></tr>
<tr><th id="371">371</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;data_format&quot;, &amp;data_format)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 371, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col1 ref" href="#441ctx" title='ctx' data-ref="441ctx">ctx</a>, <a class="local col1 ref" href="#441ctx" title='ctx' data-ref="441ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"data_format"</q>, &amp;<a class="local col2 ref" href="#442data_format" title='data_format' data-ref="442data_format">data_format</a>));</td></tr>
<tr><th id="372">372</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(FormatFromString(data_format, &amp;data_format_)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 373, (errors::InvalidArgument(&quot;Invalid data format&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col1 ref" href="#441ctx" title='ctx' data-ref="441ctx">ctx</a>, <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE" title='tensorflow::FormatFromString' data-ref="_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE">FormatFromString</a>(<a class="local col2 ref" href="#442data_format" title='data_format' data-ref="442data_format">data_format</a>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::data_format_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp::data_format_">data_format_</a>),</td></tr>
<tr><th id="373">373</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Invalid data format"</q>));</td></tr>
<tr><th id="374">374</th><td>  }</td></tr>
<tr><th id="375">375</th><td>};</td></tr>
<tr><th id="376">376</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__11__object( XlaOpRegistrationBuilder::Name(&quot;MaxPoolGrad&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPoolGrad"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradOp">MaxPool2DGradOp</a>);</td></tr>
<tr><th id="377">377</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__13__object( XlaOpRegistrationBuilder::Name(&quot;MaxPoolGradV2&quot;) .CompileTimeConstInput(&quot;ksize&quot;) .CompileTimeConstInput(&quot;strides&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPoolGradV2"</q>)</td></tr>
<tr><th id="378">378</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>)</td></tr>
<tr><th id="379">379</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>),</td></tr>
<tr><th id="380">380</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradOp">MaxPool2DGradOp</a>);</td></tr>
<tr><th id="381">381</th><td></td></tr>
<tr><th id="382">382</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPool3DGradOp" title='tensorflow::(anonymous namespace)::MaxPool3DGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool3DGradOp">MaxPool3DGradOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp">MaxPoolGradOp</a> {</td></tr>
<tr><th id="383">383</th><td> <b>public</b>:</td></tr>
<tr><th id="384">384</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_115MaxPool3DGradOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::MaxPool3DGradOp::MaxPool3DGradOp' data-type='void tensorflow::(anonymous namespace)::MaxPool3DGradOp::MaxPool3DGradOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_115MaxPool3DGradOpC1EPNS_20OpKernelConstructionE">MaxPool3DGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col3 decl" id="443ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="443ctx">ctx</dfn>)</td></tr>
<tr><th id="385">385</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradOp">MaxPoolGradOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolGradOp::MaxPoolGradOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_113MaxPoolGradOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col3 ref" href="#443ctx" title='ctx' data-ref="443ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>3</var>) {}</td></tr>
<tr><th id="386">386</th><td>};</td></tr>
<tr><th id="387">387</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__15__object( XlaOpRegistrationBuilder::Name(&quot;MaxPool3DGrad&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool3DGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPool3DGrad"</q>), <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool3DGradOp" title='tensorflow::(anonymous namespace)::MaxPool3DGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool3DGradOp">MaxPool3DGradOp</a>);</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td><i  data-doc="tensorflow::(anonymousnamespace)::AvgPoolGradOp">// Average-pooling gradient</i></td></tr>
<tr><th id="390">390</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp" title='tensorflow::(anonymous namespace)::AvgPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp">AvgPoolGradOp</dfn> : <b>public</b> <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a> {</td></tr>
<tr><th id="391">391</th><td> <b>public</b>:</td></tr>
<tr><th id="392">392</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::AvgPoolGradOp' data-type='void tensorflow::(anonymous namespace)::AvgPoolGradOp::AvgPoolGradOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims)' data-ref="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi">AvgPoolGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col4 decl" id="444ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="444ctx">ctx</dfn>, <em>int</em> <dfn class="local col5 decl" id="445num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="445num_spatial_dims">num_spatial_dims</dfn>)</td></tr>
<tr><th id="393">393</th><td>      : <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a><a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE" title='tensorflow::XlaOpKernel::XlaOpKernel' data-ref="_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE">(</a><a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>), <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>(<a class="local col5 ref" href="#445num_spatial_dims" title='num_spatial_dims' data-ref="445num_spatial_dims">num_spatial_dims</a>) {</td></tr>
<tr><th id="394">394</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;ksize&quot;, &amp;ksize_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 394, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a>));</td></tr>
<tr><th id="395">395</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 398, (errors::InvalidArgument(&quot;Sliding window ksize field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="396">396</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window ksize field must "</q></td></tr>
<tr><th id="397">397</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="398">398</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="399">399</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;strides&quot;, &amp;stride_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 399, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>));</td></tr>
<tr><th id="400">400</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(stride_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 403, (errors::InvalidArgument(&quot;Sliding window strides field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="401">401</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window strides field must "</q></td></tr>
<tr><th id="402">402</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="403">403</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="404">404</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;padding&quot;, &amp;padding_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 404, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"padding"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::padding_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_">padding_</a>));</td></tr>
<tr><th id="405">405</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_[0] == 1 &amp;&amp; stride_[0] == 1), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 407, (errors::Unimplemented( &quot;Pooling is not yet supported on the batch dimension.&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col4 ref" href="#444ctx" title='ctx' data-ref="444ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a>[<var>0</var>] == <var>1</var> &amp;&amp; <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>[<var>0</var>] == <var>1</var>,</td></tr>
<tr><th id="406">406</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#110" title='tensorflow::errors::Unimplemented' data-ref="_ZN10tensorflow6errors13UnimplementedEDpT_">Unimplemented</a>(</td></tr>
<tr><th id="407">407</th><td>                    <q>"Pooling is not yet supported on the batch dimension."</q>));</td></tr>
<tr><th id="408">408</th><td>  }</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td>  <em>int</em> <dfn class="tu decl def" id="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-type='int tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims() const' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</dfn>() <em>const</em> { <b>return</b> <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a> + <var>2</var>; }</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOp7CompileEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::Compile' data-type='void tensorflow::(anonymous namespace)::AvgPoolGradOp::Compile(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOp7CompileEPNS_18XlaOpKernelContextE">Compile</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col6 decl" id="446ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="446ctx">ctx</dfn>) override {</td></tr>
<tr><th id="413">413</th><td>    <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <a class="ref fake" href="../../../core/framework/tensor_shape.h.html#289" title='tensorflow::TensorShape::TensorShape' data-ref="_ZN10tensorflow11TensorShapeC1Ev"></a><dfn class="local col7 decl" id="447gradients_shape" title='gradients_shape' data-type='tensorflow::TensorShape' data-ref="447gradients_shape">gradients_shape</dfn>;</td></tr>
<tr><th id="414">414</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsShape(0, &amp;gradients_shape)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 414, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>, <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext20ConstantInputAsShapeEiPNS_11TensorShapeE" title='tensorflow::XlaOpKernelContext::ConstantInputAsShape' data-ref="_ZN10tensorflow18XlaOpKernelContext20ConstantInputAsShapeEiPNS_11TensorShapeE">ConstantInputAsShape</a>(<var>0</var>, &amp;<a class="local col7 ref" href="#447gradients_shape" title='gradients_shape' data-ref="447gradients_shape">gradients_shape</a>));</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col8 decl" id="448out_backprop_shape" title='out_backprop_shape' data-type='const tensorflow::TensorShape' data-ref="448out_backprop_shape">out_backprop_shape</dfn> = <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>1</var>);</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td>    <i>// For avgpooling, tensor_in_shape should have num_dims() dimensions.</i></td></tr>
<tr><th id="419">419</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(gradients_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 421, (errors::InvalidArgument(&quot;orig_input_shape must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>, <a class="local col7 ref" href="#447gradients_shape" title='gradients_shape' data-ref="447gradients_shape">gradients_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="420">420</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"orig_input_shape must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="421">421</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td>    <i>// For avgpooling, out_backprop should have num_dims() dimensions.</i></td></tr>
<tr><th id="424">424</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(out_backprop_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 426, (errors::InvalidArgument(&quot;out_backprop must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>, <a class="local col8 ref" href="#448out_backprop_shape" title='out_backprop_shape' data-ref="448out_backprop_shape">out_backprop_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="425">425</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"out_backprop must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="426">426</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td>    <em>int</em> <dfn class="local col9 decl" id="449depth_dim" title='depth_dim' data-type='int' data-ref="449depth_dim">depth_dim</dfn> = <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow24GetTensorFeatureDimIndexEiNS_12TensorFormatE" title='tensorflow::GetTensorFeatureDimIndex' data-ref="_ZN10tensorflow24GetTensorFeatureDimIndexEiNS_12TensorFormatE">GetTensorFeatureDimIndex</a>(<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>);</td></tr>
<tr><th id="429">429</th><td>    <a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a> <dfn class="local col0 decl" id="450depth" title='depth' data-type='int64' data-ref="450depth">depth</dfn> = <a class="local col8 ref" href="#448out_backprop_shape" title='out_backprop_shape' data-ref="448out_backprop_shape">out_backprop_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase8dim_sizeEi" title='tensorflow::TensorShapeBase::dim_size' data-ref="_ZNK10tensorflow15TensorShapeBase8dim_sizeEi">dim_size</a>(<a class="local col9 ref" href="#449depth_dim" title='depth_dim' data-ref="449depth_dim">depth_dim</a>);</td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td>    <i>// We can think of average-pooling as:</i></td></tr>
<tr><th id="432">432</th><td><i>    // * a convolution with a kernel consisting entirely of 1s, where the</i></td></tr>
<tr><th id="433">433</th><td><i>    //   input feature and output feature are equal, and 0s everywhere else.</i></td></tr>
<tr><th id="434">434</th><td><i>    // * followed by dividing by the counts.</i></td></tr>
<tr><th id="435">435</th><td><i>    //</i></td></tr>
<tr><th id="436">436</th><td><i>    // This then gives us an algorithm to build the gradient:</i></td></tr>
<tr><th id="437">437</th><td><i>    // * divide out_backprop by the counts, followed by</i></td></tr>
<tr><th id="438">438</th><td><i>    // * Conv2DBackpropInput specialized for that kernel, which simplifies to</i></td></tr>
<tr><th id="439">439</th><td><i>    //   a Pad and a ReduceWindow.</i></td></tr>
<tr><th id="440">440</th><td><i>    //</i></td></tr>
<tr><th id="441">441</th><td><i>    // For an explanation of backpropagation for convolution, see the comments</i></td></tr>
<tr><th id="442">442</th><td><i>    // in third_party/tensorflow/core/kernels/conv_grad_ops.h</i></td></tr>
<tr><th id="443">443</th><td><i></i></td></tr>
<tr><th id="444">444</th><td><i>    // TF filter shape is [ H, W, ..., inC, outC ]</i></td></tr>
<tr><th id="445">445</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col1 decl" id="451filter_dims" title='filter_dims' data-type='std::vector&lt;int64&gt;' data-ref="451filter_dims">filter_dims</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT0_">(</a><a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>());</td></tr>
<tr><th id="446">446</th><td>    <b>for</b> (<em>int</em> <dfn class="local col2 decl" id="452i" title='i' data-type='int' data-ref="452i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#452i" title='i' data-ref="452i">i</a> &lt; <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>; ++<a class="local col2 ref" href="#452i" title='i' data-ref="452i">i</a>) {</td></tr>
<tr><th id="447">447</th><td>      <em>int</em> <dfn class="local col3 decl" id="453dim" title='dim' data-type='int' data-ref="453dim">dim</dfn> = <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi" title='tensorflow::GetTensorSpatialDimIndex' data-ref="_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi">GetTensorSpatialDimIndex</a>(<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>, <a class="local col2 ref" href="#452i" title='i' data-ref="452i">i</a>);</td></tr>
<tr><th id="448">448</th><td>      <a class="local col1 ref" href="#451filter_dims" title='filter_dims' data-ref="451filter_dims">filter_dims</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col2 ref" href="#452i" title='i' data-ref="452i">i</a>]</a> = <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col3 ref" href="#453dim" title='dim' data-ref="453dim">dim</a>]</a>;</td></tr>
<tr><th id="449">449</th><td>    }</td></tr>
<tr><th id="450">450</th><td>    <a class="local col1 ref" href="#451filter_dims" title='filter_dims' data-ref="451filter_dims">filter_dims</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>() - <var>2</var>]</a> = <a class="local col0 ref" href="#450depth" title='depth' data-ref="450depth">depth</a>;</td></tr>
<tr><th id="451">451</th><td>    <a class="local col1 ref" href="#451filter_dims" title='filter_dims' data-ref="451filter_dims">filter_dims</a><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>() - <var>1</var>]</a> = <a class="local col0 ref" href="#450depth" title='depth' data-ref="450depth">depth</a>;</td></tr>
<tr><th id="452">452</th><td>    <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col4 decl" id="454filter_shape" title='filter_shape' data-type='tensorflow::TensorShape' data-ref="454filter_shape">filter_shape</dfn><a class="ref" href="../../../core/framework/tensor_shape.h.html#291" title='tensorflow::TensorShape::TensorShape' data-ref="_ZN10tensorflow11TensorShapeC1ENS_3gtl10ArraySliceIxEE">(</a><a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col1 ref" href="#451filter_dims" title='filter_dims' data-ref="451filter_dims">filter_dims</a>);</td></tr>
<tr><th id="453">453</th><td></td></tr>
<tr><th id="454">454</th><td>    <i>// Reuse the logic from Conv2DBackpropInput to compute padding.</i></td></tr>
<tr><th id="455">455</th><td>    <a class="type" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropDimensions" title='tensorflow::ConvBackpropDimensions' data-ref="tensorflow::ConvBackpropDimensions">ConvBackpropDimensions</a> <a class="ref fake" href="../../../core/kernels/conv_grad_ops.h.html#228" title='tensorflow::ConvBackpropDimensions::ConvBackpropDimensions' data-ref="_ZN10tensorflow22ConvBackpropDimensionsC1Ev"></a><dfn class="local col5 decl" id="455dims" title='dims' data-type='tensorflow::ConvBackpropDimensions' data-ref="455dims">dims</dfn>;</td></tr>
<tr><th id="456">456</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ConvBackpropComputeDimensions( type_string(), num_spatial_dims_, gradients_shape, filter_shape, out_backprop_shape, stride_, padding_, data_format_, &amp;dims)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 460, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(</td></tr>
<tr><th id="457">457</th><td>        <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>, <a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#_ZN10tensorflow29ConvBackpropComputeDimensionsENS_11StringPieceEiRKNS_11TensorShapeES3_S3_RKSt6vectorIiSaIiEENS_7PaddingENS_12TensorFormatEPNS_22ConvBackpropDimensionsE" title='tensorflow::ConvBackpropComputeDimensions' data-ref="_ZN10tensorflow29ConvBackpropComputeDimensionsENS_11StringPieceEiRKNS_11TensorShapeES3_S3_RKSt6vectorIiSaIiEENS_7PaddingENS_12TensorFormatEPNS_22ConvBackpropDimensionsE">ConvBackpropComputeDimensions</a>(</td></tr>
<tr><th id="458">458</th><td>                 <a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1ERKSs" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1ERKSs"></a><a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel11type_stringEv" title='tensorflow::OpKernel::type_string' data-ref="_ZNK10tensorflow8OpKernel11type_stringEv">type_string</a>(), <i>/*num_spatial_dims=*/</i><a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>,</td></tr>
<tr><th id="459">459</th><td>                 <a class="local col7 ref" href="#447gradients_shape" title='gradients_shape' data-ref="447gradients_shape">gradients_shape</a>, <a class="local col4 ref" href="#454filter_shape" title='filter_shape' data-ref="454filter_shape">filter_shape</a>, <a class="local col8 ref" href="#448out_backprop_shape" title='out_backprop_shape' data-ref="448out_backprop_shape">out_backprop_shape</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>,</td></tr>
<tr><th id="460">460</th><td>                 <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_">padding_</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>, &amp;<a class="local col5 ref" href="#455dims" title='dims' data-ref="455dims">dims</a>));</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>    <i>// The input gradients are computed by a convolution of the output gradients</i></td></tr>
<tr><th id="463">463</th><td><i>    // and the filter, with some appropriate padding. See the comment at the top</i></td></tr>
<tr><th id="464">464</th><td><i>    // of conv_grad_ops.h for details.</i></td></tr>
<tr><th id="465">465</th><td>    <span class="namespace">xla::</span><a class="type" href="../../xla/client/computation_builder.h.html#xla::ComputationBuilder" title='xla::ComputationBuilder' data-ref="xla::ComputationBuilder">ComputationBuilder</a>* <em>const</em> <dfn class="local col6 decl" id="456b" title='b' data-type='xla::ComputationBuilder *const' data-ref="456b">b</dfn> = <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>();</td></tr>
<tr><th id="466">466</th><td>    <em>auto</em> <dfn class="local col7 decl" id="457out_backprop" title='out_backprop' data-type='xla::ComputationDataHandle' data-ref="457out_backprop">out_backprop</dfn> = <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>1</var>);</td></tr>
<tr><th id="467">467</th><td>    <em>auto</em> <dfn class="local col8 decl" id="458dtype" title='dtype' data-type='tensorflow::DataType' data-ref="458dtype">dtype</dfn> = <a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>1</var>);</td></tr>
<tr><th id="468">468</th><td>    <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a> <dfn class="local col9 decl" id="459xla_padding" title='xla_padding' data-type='xla::Padding' data-ref="459xla_padding">xla_padding</dfn> =</td></tr>
<tr><th id="469">469</th><td>        (<a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_">padding_</a> == <a class="enum" href="../../../core/util/padding.h.html#tensorflow::Padding::VALID" title='tensorflow::Padding::VALID' data-ref="tensorflow::Padding::VALID">VALID</a>) ? <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a> : <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kSame" title='xla::Padding::kSame' data-ref="xla::Padding::kSame">kSame</a>;</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td>    <i>// Divide the out_backprop values by the counts for each spatial position.</i></td></tr>
<tr><th id="472">472</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col0 decl" id="460stride_int64s" title='stride_int64s' data-type='std::vector&lt;int64&gt;' data-ref="460stride_int64s">stride_int64s</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1ET_S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ET_S0_RKT0_">(</a><a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>(), <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>());</td></tr>
<tr><th id="473">473</th><td>    <em>auto</em> <dfn class="local col1 decl" id="461out_backprop_div" title='out_backprop_div' data-type='xla::ComputationDataHandle' data-ref="461out_backprop_div">out_backprop_div</dfn> = <a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718" title='tensorflow::(anonymous namespace)::AvgPoolDivideByCount' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_1L20AvgPoolDivideByCountEPNS_18XlaOpKernelContextERKN3xla21ComputationDataHandleENS_8DataTypeERKNS_11TensorShapeENS3_7Padd1983718">AvgPoolDivideByCount</a>(</td></tr>
<tr><th id="474">474</th><td>        <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>, <a class="local col7 ref" href="#457out_backprop" title='out_backprop' data-ref="457out_backprop">out_backprop</a>, <a class="local col8 ref" href="#458dtype" title='dtype' data-ref="458dtype">dtype</a>, <a class="local col7 ref" href="#447gradients_shape" title='gradients_shape' data-ref="447gradients_shape">gradients_shape</a>, <a class="local col9 ref" href="#459xla_padding" title='xla_padding' data-ref="459xla_padding">xla_padding</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a>,</td></tr>
<tr><th id="475">475</th><td>        <a class="local col0 ref" href="#460stride_int64s" title='stride_int64s' data-ref="460stride_int64s">stride_int64s</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>);</td></tr>
<tr><th id="476">476</th><td></td></tr>
<tr><th id="477">477</th><td>    <i>// Pad the gradients in the spatial dimensions. We use the same padding</i></td></tr>
<tr><th id="478">478</th><td><i>    // as Conv2DBackpropInput.</i></td></tr>
<tr><th id="479">479</th><td>    <span class="namespace">xla::</span><span class='type' title='xla::PaddingConfig' data-ref="xla::PaddingConfig">PaddingConfig</span> <dfn class="local col2 decl" id="462padding_config" title='padding_config' data-type='xla::PaddingConfig' data-ref="462padding_config">padding_config</dfn> = <span class="namespace">xla::</span><a class="ref" href="../../xla/util.h.html#_ZN3xla19MakeNoPaddingConfigEx" title='xla::MakeNoPaddingConfig' data-ref="_ZN3xla19MakeNoPaddingConfigEx">MakeNoPaddingConfig</a>(<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>());</td></tr>
<tr><th id="480">480</th><td>    <b>for</b> (<em>int</em> <dfn class="local col3 decl" id="463i" title='i' data-type='int' data-ref="463i">i</dfn> = <var>0</var>; <a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a> &lt; <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</a>; ++<a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a>) {</td></tr>
<tr><th id="481">481</th><td>      <em>int</em> <dfn class="local col4 decl" id="464dim" title='dim' data-type='int' data-ref="464dim">dim</dfn> = <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi" title='tensorflow::GetTensorSpatialDimIndex' data-ref="_ZN10tensorflow24GetTensorSpatialDimIndexEiNS_12TensorFormatEi">GetTensorSpatialDimIndex</a>(<a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>, <a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a>);</td></tr>
<tr><th id="482">482</th><td>      <em>auto</em>* <dfn class="local col5 decl" id="465padding" title='padding' data-type='xla::PaddingConfig_PaddingConfigDimension *' data-ref="465padding">padding</dfn> = <a class="local col2 ref" href="#462padding_config" title='padding_config' data-ref="462padding_config">padding_config</a>.<span class='ref' title='xla::PaddingConfig::mutable_dimensions' data-ref="_ZN3xla13PaddingConfig18mutable_dimensionsEi">mutable_dimensions</span>(<a class="local col4 ref" href="#464dim" title='dim' data-ref="464dim">dim</a>);</td></tr>
<tr><th id="483">483</th><td>      <a class="local col5 ref" href="#465padding" title='padding' data-ref="465padding">padding</a>-&gt;<span class='ref' title='xla::PaddingConfig_PaddingConfigDimension::set_edge_padding_low' data-ref="_ZN3xla36PaddingConfig_PaddingConfigDimension20set_edge_padding_lowEl">set_edge_padding_low</span>(<a class="local col5 ref" href="#455dims" title='dims' data-ref="455dims">dims</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropDimensions::spatial_dims" title='tensorflow::ConvBackpropDimensions::spatial_dims' data-ref="tensorflow::ConvBackpropDimensions::spatial_dims">spatial_dims</a><a class="ref" href="../../../core/lib/gtl/inlined_vector.h.html#_ZN10tensorflow3gtl13InlinedVectorixEm" title='tensorflow::gtl::InlinedVector::operator[]' data-ref="_ZN10tensorflow3gtl13InlinedVectorixEm">[<a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a>]</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropSpatialDimension::pad_before" title='tensorflow::ConvBackpropSpatialDimension::pad_before' data-ref="tensorflow::ConvBackpropSpatialDimension::pad_before">pad_before</a>);</td></tr>
<tr><th id="484">484</th><td>      <a class="local col5 ref" href="#465padding" title='padding' data-ref="465padding">padding</a>-&gt;<span class='ref' title='xla::PaddingConfig_PaddingConfigDimension::set_edge_padding_high' data-ref="_ZN3xla36PaddingConfig_PaddingConfigDimension21set_edge_padding_highEl">set_edge_padding_high</span>(<a class="local col5 ref" href="#455dims" title='dims' data-ref="455dims">dims</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropDimensions::spatial_dims" title='tensorflow::ConvBackpropDimensions::spatial_dims' data-ref="tensorflow::ConvBackpropDimensions::spatial_dims">spatial_dims</a><a class="ref" href="../../../core/lib/gtl/inlined_vector.h.html#_ZN10tensorflow3gtl13InlinedVectorixEm" title='tensorflow::gtl::InlinedVector::operator[]' data-ref="_ZN10tensorflow3gtl13InlinedVectorixEm">[<a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a>]</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropSpatialDimension::pad_after" title='tensorflow::ConvBackpropSpatialDimension::pad_after' data-ref="tensorflow::ConvBackpropSpatialDimension::pad_after">pad_after</a>);</td></tr>
<tr><th id="485">485</th><td>      <a class="local col5 ref" href="#465padding" title='padding' data-ref="465padding">padding</a>-&gt;<span class='ref' title='xla::PaddingConfig_PaddingConfigDimension::set_interior_padding' data-ref="_ZN3xla36PaddingConfig_PaddingConfigDimension20set_interior_paddingEl">set_interior_padding</span>(<a class="local col5 ref" href="#455dims" title='dims' data-ref="455dims">dims</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropDimensions::spatial_dims" title='tensorflow::ConvBackpropDimensions::spatial_dims' data-ref="tensorflow::ConvBackpropDimensions::spatial_dims">spatial_dims</a><a class="ref" href="../../../core/lib/gtl/inlined_vector.h.html#_ZN10tensorflow3gtl13InlinedVectorixEm" title='tensorflow::gtl::InlinedVector::operator[]' data-ref="_ZN10tensorflow3gtl13InlinedVectorixEm">[<a class="local col3 ref" href="#463i" title='i' data-ref="463i">i</a>]</a>.<a class="ref" href="../../../core/kernels/conv_grad_ops.h.html#tensorflow::ConvBackpropSpatialDimension::stride" title='tensorflow::ConvBackpropSpatialDimension::stride' data-ref="tensorflow::ConvBackpropSpatialDimension::stride">stride</a> - <var>1</var>);</td></tr>
<tr><th id="486">486</th><td>    }</td></tr>
<tr><th id="487">487</th><td></td></tr>
<tr><th id="488">488</th><td>    <em>auto</em> <dfn class="local col6 decl" id="466zero" title='zero' data-type='xla::ComputationDataHandle' data-ref="466zero">zero</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::Zero' data-ref="_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE">Zero</a>(<a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>, <a class="local col8 ref" href="#458dtype" title='dtype' data-ref="458dtype">dtype</a>);</td></tr>
<tr><th id="489">489</th><td>    <em>auto</em> <dfn class="local col7 decl" id="467padded_gradients" title='padded_gradients' data-type='xla::ComputationDataHandle' data-ref="467padded_gradients">padded_gradients</dfn> = <a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3PadERKNS_21ComputationDataHandleES3_RKNS_13PaddingConfigE" title='xla::ComputationBuilder::Pad' data-ref="_ZN3xla18ComputationBuilder3PadERKNS_21ComputationDataHandleES3_RKNS_13PaddingConfigE">Pad</a>(<a class="local col1 ref" href="#461out_backprop_div" title='out_backprop_div' data-ref="461out_backprop_div">out_backprop_div</a>, <a class="local col6 ref" href="#466zero" title='zero' data-ref="466zero">zero</a>, <a class="local col2 ref" href="#462padding_config" title='padding_config' data-ref="462padding_config">padding_config</a>);</td></tr>
<tr><th id="490">490</th><td></td></tr>
<tr><th id="491">491</th><td>    <i>// in_backprop = padded_gradients &lt;conv&gt; ones</i></td></tr>
<tr><th id="492">492</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="local col8 decl" id="468ones" title='ones' data-type='std::vector&lt;int64&gt;' data-ref="468ones">ones</dfn><a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT_RKT0_">(</a><a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_113AvgPoolGradOp8num_dimsEv">num_dims</a>(), <var>1LL</var>);</td></tr>
<tr><th id="493">493</th><td>    <em>auto</em> <dfn class="local col9 decl" id="469accumulation_type" title='accumulation_type' data-type='tensorflow::DataType' data-ref="469accumulation_type">accumulation_type</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE" title='tensorflow::XlaHelpers::SumAccumulationType' data-ref="_ZN10tensorflow10XlaHelpers19SumAccumulationTypeERKNS_8DataTypeE">SumAccumulationType</a>(<a class="local col8 ref" href="#458dtype" title='dtype' data-ref="458dtype">dtype</a>);</td></tr>
<tr><th id="494">494</th><td>    <em>auto</em> <dfn class="local col0 decl" id="470in_backprop" title='in_backprop' data-type='xla::ComputationDataHandle' data-ref="470in_backprop">in_backprop</dfn> = <a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE" title='xla::ComputationBuilder::ReduceWindow' data-ref="_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE">ReduceWindow</a>(</td></tr>
<tr><th id="495">495</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE" title='tensorflow::XlaHelpers::ConvertElementType' data-ref="_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE">ConvertElementType</a>(<a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>, <a class="local col7 ref" href="#467padded_gradients" title='padded_gradients' data-ref="467padded_gradients">padded_gradients</a>, <a class="local col9 ref" href="#469accumulation_type" title='accumulation_type' data-ref="469accumulation_type">accumulation_type</a>),</td></tr>
<tr><th id="496">496</th><td>        <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::Zero' data-ref="_ZN10tensorflow10XlaHelpers4ZeroEPN3xla18ComputationBuilderENS_8DataTypeE">Zero</a>(<a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>, <a class="local col9 ref" href="#469accumulation_type" title='accumulation_type' data-ref="469accumulation_type">accumulation_type</a>),</td></tr>
<tr><th id="497">497</th><td>        *<a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE" title='tensorflow::XlaOpKernelContext::GetOrCreateAdd' data-ref="_ZN10tensorflow18XlaOpKernelContext14GetOrCreateAddENS_8DataTypeE">GetOrCreateAdd</a>(<a class="local col9 ref" href="#469accumulation_type" title='accumulation_type' data-ref="469accumulation_type">accumulation_type</a>), <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</a>,</td></tr>
<tr><th id="498">498</th><td>        <i>/* window_strides=*/</i><a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="local col8 ref" href="#468ones" title='ones' data-ref="468ones">ones</a>, <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a>);</td></tr>
<tr><th id="499">499</th><td>    <a class="local col6 ref" href="#446ctx" title='ctx' data-ref="446ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE" title='tensorflow::XlaOpKernelContext::SetOutput' data-ref="_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE">SetOutput</a>(<var>0</var>, <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE" title='tensorflow::XlaHelpers::ConvertElementType' data-ref="_ZN10tensorflow10XlaHelpers18ConvertElementTypeEPN3xla18ComputationBuilderERKNS1_21ComputationDataHandleENS_8DataTypeE">ConvertElementType</a>(<a class="local col6 ref" href="#456b" title='b' data-ref="456b">b</a>, <a class="local col0 ref" href="#470in_backprop" title='in_backprop' data-ref="470in_backprop">in_backprop</a>, <a class="local col8 ref" href="#458dtype" title='dtype' data-ref="458dtype">dtype</a>));</td></tr>
<tr><th id="500">500</th><td>  }</td></tr>
<tr><th id="501">501</th><td></td></tr>
<tr><th id="502">502</th><td> <b>protected</b>:</td></tr>
<tr><th id="503">503</th><td>  <em>const</em> <em>int</em> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::num_spatial_dims_' data-type='const int' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::num_spatial_dims_">num_spatial_dims_</dfn>;</td></tr>
<tr><th id="504">504</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::ksize_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::ksize_">ksize_</dfn>;</td></tr>
<tr><th id="505">505</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int32" title='tensorflow::int32' data-type='int' data-ref="tensorflow::int32">int32</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::stride_' data-type='std::vector&lt;int32&gt;' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::stride_">stride_</dfn>;</td></tr>
<tr><th id="506">506</th><td>  <a class="type" href="../../../core/util/padding.h.html#tensorflow::Padding" title='tensorflow::Padding' data-ref="tensorflow::Padding">Padding</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::padding_' data-type='tensorflow::Padding' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::padding_">padding_</dfn>;</td></tr>
<tr><th id="507">507</th><td>  <a class="type" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat" title='tensorflow::TensorFormat' data-ref="tensorflow::TensorFormat">TensorFormat</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-type='tensorflow::TensorFormat' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</dfn> = <a class="enum" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat::FORMAT_NHWC" title='tensorflow::TensorFormat::FORMAT_NHWC' data-ref="tensorflow::TensorFormat::FORMAT_NHWC">FORMAT_NHWC</a>;</td></tr>
<tr><th id="508">508</th><td>};</td></tr>
<tr><th id="509">509</th><td></td></tr>
<tr><th id="510">510</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPool2DGradOp" title='tensorflow::(anonymous namespace)::AvgPool2DGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool2DGradOp">AvgPool2DGradOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp" title='tensorflow::(anonymous namespace)::AvgPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp">AvgPoolGradOp</a> {</td></tr>
<tr><th id="511">511</th><td> <b>public</b>:</td></tr>
<tr><th id="512">512</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_115AvgPool2DGradOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::AvgPool2DGradOp::AvgPool2DGradOp' data-type='void tensorflow::(anonymous namespace)::AvgPool2DGradOp::AvgPool2DGradOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_115AvgPool2DGradOpC1EPNS_20OpKernelConstructionE">AvgPool2DGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col1 decl" id="471ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="471ctx">ctx</dfn>)</td></tr>
<tr><th id="513">513</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp" title='tensorflow::(anonymous namespace)::AvgPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp">AvgPoolGradOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::AvgPoolGradOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col1 ref" href="#471ctx" title='ctx' data-ref="471ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>2</var>) {</td></tr>
<tr><th id="514">514</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1Ev" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1Ev"></a><dfn class="local col2 decl" id="472data_format" title='data_format' data-type='string' data-ref="472data_format">data_format</dfn>;</td></tr>
<tr><th id="515">515</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;data_format&quot;, &amp;data_format)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 515, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col1 ref" href="#471ctx" title='ctx' data-ref="471ctx">ctx</a>, <a class="local col1 ref" href="#471ctx" title='ctx' data-ref="471ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"data_format"</q>, &amp;<a class="local col2 ref" href="#472data_format" title='data_format' data-ref="472data_format">data_format</a>));</td></tr>
<tr><th id="516">516</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(FormatFromString(data_format, &amp;data_format_)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 517, (errors::InvalidArgument(&quot;Invalid data format&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col1 ref" href="#471ctx" title='ctx' data-ref="471ctx">ctx</a>, <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE" title='tensorflow::FormatFromString' data-ref="_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE">FormatFromString</a>(<a class="local col2 ref" href="#472data_format" title='data_format' data-ref="472data_format">data_format</a>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::data_format_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp::data_format_">data_format_</a>),</td></tr>
<tr><th id="517">517</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Invalid data format"</q>));</td></tr>
<tr><th id="518">518</th><td>  }</td></tr>
<tr><th id="519">519</th><td>};</td></tr>
<tr><th id="520">520</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__17__object( XlaOpRegistrationBuilder::Name(&quot;AvgPoolGrad&quot;).CompileTimeConstInput(&quot;orig_input_shape&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new AvgPool2DGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"AvgPoolGrad"</q>).<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"orig_input_shape"</q>),</td></tr>
<tr><th id="521">521</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPool2DGradOp" title='tensorflow::(anonymous namespace)::AvgPool2DGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool2DGradOp">AvgPool2DGradOp</a>);</td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::AvgPool3DGradOp" title='tensorflow::(anonymous namespace)::AvgPool3DGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool3DGradOp">AvgPool3DGradOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp" title='tensorflow::(anonymous namespace)::AvgPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp">AvgPoolGradOp</a> {</td></tr>
<tr><th id="524">524</th><td> <b>public</b>:</td></tr>
<tr><th id="525">525</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_115AvgPool3DGradOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::AvgPool3DGradOp::AvgPool3DGradOp' data-type='void tensorflow::(anonymous namespace)::AvgPool3DGradOp::AvgPool3DGradOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_115AvgPool3DGradOpC1EPNS_20OpKernelConstructionE">AvgPool3DGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col3 decl" id="473ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="473ctx">ctx</dfn>)</td></tr>
<tr><th id="526">526</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPoolGradOp" title='tensorflow::(anonymous namespace)::AvgPoolGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPoolGradOp">AvgPoolGradOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::AvgPoolGradOp::AvgPoolGradOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_113AvgPoolGradOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col3 ref" href="#473ctx" title='ctx' data-ref="473ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>3</var>) {}</td></tr>
<tr><th id="527">527</th><td>};</td></tr>
<tr><th id="528">528</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__19__object( XlaOpRegistrationBuilder::Name(&quot;AvgPool3DGrad&quot;).CompileTimeConstInput(&quot;orig_input_shape&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new AvgPool3DGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"AvgPool3DGrad"</q>).<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"orig_input_shape"</q>),</td></tr>
<tr><th id="529">529</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::AvgPool3DGradOp" title='tensorflow::(anonymous namespace)::AvgPool3DGradOp' data-ref="tensorflow::(anonymousnamespace)::AvgPool3DGradOp">AvgPool3DGradOp</a>);</td></tr>
<tr><th id="530">530</th><td></td></tr>
<tr><th id="531">531</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp">MaxPoolGradGradOp</dfn> : <b>public</b> <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a> {</td></tr>
<tr><th id="532">532</th><td> <b>public</b>:</td></tr>
<tr><th id="533">533</th><td>  <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::MaxPoolGradGradOp' data-type='void tensorflow::(anonymous namespace)::MaxPoolGradGradOp::MaxPoolGradGradOp(tensorflow::OpKernelConstruction * ctx, int num_spatial_dims)' data-ref="_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOpC1EPNS_20OpKernelConstructionEi">MaxPoolGradGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col4 decl" id="474ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="474ctx">ctx</dfn>, <em>int</em> <dfn class="local col5 decl" id="475num_spatial_dims" title='num_spatial_dims' data-type='int' data-ref="475num_spatial_dims">num_spatial_dims</dfn>)</td></tr>
<tr><th id="534">534</th><td>      : <a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernel" title='tensorflow::XlaOpKernel' data-ref="tensorflow::XlaOpKernel">XlaOpKernel</a><a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE" title='tensorflow::XlaOpKernel::XlaOpKernel' data-ref="_ZN10tensorflow11XlaOpKernelC1EPNS_20OpKernelConstructionE">(</a><a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>), <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_spatial_dims_' data-use='w' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_">num_spatial_dims_</a>(<a class="local col5 ref" href="#475num_spatial_dims" title='num_spatial_dims' data-ref="475num_spatial_dims">num_spatial_dims</a>) {</td></tr>
<tr><th id="535">535</th><td>    <b>if</b> (<a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction10num_inputsEv" title='tensorflow::OpKernelConstruction::num_inputs' data-ref="_ZNK10tensorflow20OpKernelConstruction10num_inputsEv">num_inputs</a>() == <var>3</var>) {</td></tr>
<tr><th id="536">536</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;ksize&quot;, &amp;ksize_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 536, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>, <a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</a>));</td></tr>
<tr><th id="537">537</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;strides&quot;, &amp;stride_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 537, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>, <a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</a>));</td></tr>
<tr><th id="538">538</th><td>    }</td></tr>
<tr><th id="539">539</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;padding&quot;, &amp;padding_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 539, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>, <a class="local col4 ref" href="#474ctx" title='ctx' data-ref="474ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"padding"</q>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::padding_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_">padding_</a>));</td></tr>
<tr><th id="540">540</th><td>  }</td></tr>
<tr><th id="541">541</th><td></td></tr>
<tr><th id="542">542</th><td>  <em>int</em> <dfn class="tu decl def" id="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-type='int tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims() const' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</dfn>() <em>const</em> { <b>return</b> <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_spatial_dims_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_">num_spatial_dims_</a> + <var>2</var>; }</td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td>  <em>void</em> <dfn class="virtual tu decl def" id="_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp7CompileEPNS_18XlaOpKernelContextE" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::Compile' data-type='void tensorflow::(anonymous namespace)::MaxPoolGradGradOp::Compile(tensorflow::XlaOpKernelContext * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp7CompileEPNS_18XlaOpKernelContextE">Compile</dfn>(<a class="type" href="../xla_op_kernel.h.html#tensorflow::XlaOpKernelContext" title='tensorflow::XlaOpKernelContext' data-ref="tensorflow::XlaOpKernelContext">XlaOpKernelContext</a>* <dfn class="local col6 decl" id="476ctx" title='ctx' data-type='tensorflow::XlaOpKernelContext *' data-ref="476ctx">ctx</dfn>) override {</td></tr>
<tr><th id="545">545</th><td>    <b>if</b> (<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv" title='tensorflow::XlaOpKernelContext::num_inputs' data-ref="_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv">num_inputs</a>() != <var>3</var>) {</td></tr>
<tr><th id="546">546</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ctx-&gt;num_inputs() == 5), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 548, (errors::InvalidArgument(&quot;Must supply ksize and stride arguments.&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(</td></tr>
<tr><th id="547">547</th><td>          <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv" title='tensorflow::XlaOpKernelContext::num_inputs' data-ref="_ZNK10tensorflow18XlaOpKernelContext10num_inputsEv">num_inputs</a>() == <var>5</var>,</td></tr>
<tr><th id="548">548</th><td>          errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Must supply ksize and stride arguments."</q>));</td></tr>
<tr><th id="549">549</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col7 decl" id="477ksize_shape" title='ksize_shape' data-type='const tensorflow::TensorShape' data-ref="477ksize_shape">ksize_shape</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>3</var>);</td></tr>
<tr><th id="550">550</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="551">551</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(ksize_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 553, (errors::InvalidArgument(&quot;ksize must be a vector, not shape &quot;, ksize_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col7 ref" href="#477ksize_shape" title='ksize_shape' data-ref="477ksize_shape">ksize_shape</a>),</td></tr>
<tr><th id="552">552</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"ksize must be a vector, not shape "</q>,</td></tr>
<tr><th id="553">553</th><td>                                          <a class="local col7 ref" href="#477ksize_shape" title='ksize_shape' data-ref="477ksize_shape">ksize_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="554">554</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(3, &amp;ksize_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 554, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>3</var>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</a>));</td></tr>
<tr><th id="555">555</th><td></td></tr>
<tr><th id="556">556</th><td>      <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col8 decl" id="478stride_shape" title='stride_shape' data-type='const tensorflow::TensorShape' data-ref="478stride_shape">stride_shape</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>4</var>);</td></tr>
<tr><th id="557">557</th><td>      <i>// Validate input sizes.</i></td></tr>
<tr><th id="558">558</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(TensorShapeUtils::IsVector(stride_shape)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 560, (errors::InvalidArgument(&quot;stride must be a vector, not shape &quot;, stride_shape.DebugString()))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShapeUtils" title='tensorflow::TensorShapeUtils' data-ref="tensorflow::TensorShapeUtils">TensorShapeUtils</a>::<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE" title='tensorflow::TensorShapeUtils::IsVector' data-ref="_ZN10tensorflow16TensorShapeUtils8IsVectorERKNS_11TensorShapeE">IsVector</a>(<a class="local col8 ref" href="#478stride_shape" title='stride_shape' data-ref="478stride_shape">stride_shape</a>),</td></tr>
<tr><th id="559">559</th><td>                  errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"stride must be a vector, not shape "</q>,</td></tr>
<tr><th id="560">560</th><td>                                          <a class="local col8 ref" href="#478stride_shape" title='stride_shape' data-ref="478stride_shape">stride_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow14TensorShapeRep11DebugStringEv" title='tensorflow::TensorShapeRep::DebugString' data-ref="_ZNK10tensorflow14TensorShapeRep11DebugStringEv">DebugString</a>()));</td></tr>
<tr><th id="561">561</th><td>      <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;ConstantInputAsIntVector(4, &amp;stride_)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 561, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE" title='tensorflow::XlaOpKernelContext::ConstantInputAsIntVector' data-ref="_ZN10tensorflow18XlaOpKernelContext24ConstantInputAsIntVectorEiPSt6vectorIxSaIxEE">ConstantInputAsIntVector</a>(<var>4</var>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</a>));</td></tr>
<tr><th id="562">562</th><td>    }</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(ksize_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 567, (errors::InvalidArgument(&quot;Sliding window ksize field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="565">565</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window ksize field must "</q></td></tr>
<tr><th id="566">566</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="567">567</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="568">568</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(stride_.size() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 571, (errors::InvalidArgument(&quot;Sliding window strides field must &quot; &quot;specify &quot;, num_dims(), &quot; dimensions&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-use='m' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</a>.<a class="ref" href="../../../../../include/c++/5/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="569">569</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Sliding window strides field must "</q></td></tr>
<tr><th id="570">570</th><td>                                        <q>"specify "</q>,</td></tr>
<tr><th id="571">571</th><td>                                        <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(), <q>" dimensions"</q>));</td></tr>
<tr><th id="572">572</th><td></td></tr>
<tr><th id="573">573</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col9 decl" id="479tensor_in_shape" title='tensor_in_shape' data-type='const tensorflow::TensorShape' data-ref="479tensor_in_shape">tensor_in_shape</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>0</var>);</td></tr>
<tr><th id="574">574</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col0 decl" id="480tensor_out_shape" title='tensor_out_shape' data-type='const tensorflow::TensorShape' data-ref="480tensor_out_shape">tensor_out_shape</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>1</var>);</td></tr>
<tr><th id="575">575</th><td>    <em>const</em> <a class="type" href="../../../core/framework/tensor_shape.h.html#tensorflow::TensorShape" title='tensorflow::TensorShape' data-ref="tensorflow::TensorShape">TensorShape</a> <dfn class="local col1 decl" id="481out_backprop_shape" title='out_backprop_shape' data-type='const tensorflow::TensorShape' data-ref="481out_backprop_shape">out_backprop_shape</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext10InputShapeEi" title='tensorflow::XlaOpKernelContext::InputShape' data-ref="_ZN10tensorflow18XlaOpKernelContext10InputShapeEi">InputShape</a>(<var>2</var>);</td></tr>
<tr><th id="576">576</th><td></td></tr>
<tr><th id="577">577</th><td>    <i>// For maxpooling, tensor_in should have num_dims() dimensions.</i></td></tr>
<tr><th id="578">578</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(tensor_in_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 580, (errors::InvalidArgument(&quot;tensor_in must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col9 ref" href="#479tensor_in_shape" title='tensor_in_shape' data-ref="479tensor_in_shape">tensor_in_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="579">579</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"tensor_in must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="580">580</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="581">581</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(tensor_out_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 583, (errors::InvalidArgument(&quot;tensor_out must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col0 ref" href="#480tensor_out_shape" title='tensor_out_shape' data-ref="480tensor_out_shape">tensor_out_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="582">582</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"tensor_out must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="583">583</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="584">584</th><td>    <i>// For maxpooling, out_backprop should have num_dims() dimensions.</i></td></tr>
<tr><th id="585">585</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(out_backprop_shape.dims() == num_dims()), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 587, (errors::InvalidArgument(&quot;out_backprop must be &quot;, num_dims(), &quot;-dimensional&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="local col1 ref" href="#481out_backprop_shape" title='out_backprop_shape' data-ref="481out_backprop_shape">out_backprop_shape</a>.<a class="ref" href="../../../core/framework/tensor_shape.h.html#_ZNK10tensorflow15TensorShapeBase4dimsEv" title='tensorflow::TensorShapeBase::dims' data-ref="_ZNK10tensorflow15TensorShapeBase4dimsEv">dims</a>() == <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="586">586</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"out_backprop must be "</q>, <a class="tu member" href="#_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_dims' data-use='c' data-ref="_ZNK10tensorflow12_GLOBAL__N_117MaxPoolGradGradOp8num_dimsEv">num_dims</a>(),</td></tr>
<tr><th id="587">587</th><td>                                        <q>"-dimensional"</q>));</td></tr>
<tr><th id="588">588</th><td></td></tr>
<tr><th id="589">589</th><td>    <i>// What we want to compute:</i></td></tr>
<tr><th id="590">590</th><td><i>    // Given y = MaxPool(x), and xs_grad = MaxPoolGrad(x, y, ys_grad)</i></td></tr>
<tr><th id="591">591</th><td><i>    // MaxPoolGradGrad computes {ys_grad}_grad given x, y, and {xs_grad}_grad.</i></td></tr>
<tr><th id="592">592</th><td><i>    //</i></td></tr>
<tr><th id="593">593</th><td><i>    // In the regular TF op, this amounts to selecting for each window the</i></td></tr>
<tr><th id="594">594</th><td><i>    // incoming backprop value from xs_grad_grad that corresponds to the maximal</i></td></tr>
<tr><th id="595">595</th><td><i>    // value in the corresponding window of x.</i></td></tr>
<tr><th id="596">596</th><td><i>    //</i></td></tr>
<tr><th id="597">597</th><td><i>    // TODO(b/73062247): What we really want is a ReduceWindow with different</i></td></tr>
<tr><th id="598">598</th><td><i>    // arrays for index selection vs return value selection--a select-to-gather.</i></td></tr>
<tr><th id="599">599</th><td><i>    //</i></td></tr>
<tr><th id="600">600</th><td><i>    // Here, we implement a bitwise hack: we use the hi 16 bits of input for</i></td></tr>
<tr><th id="601">601</th><td><i>    // separate max pooling alongside each of the hi and lo 16 bits of</i></td></tr>
<tr><th id="602">602</th><td><i>    // out_backprop packed into 16 lo bits, which we then glue back together at</i></td></tr>
<tr><th id="603">603</th><td><i>    // the end to get a full 32 bits of gradient.</i></td></tr>
<tr><th id="604">604</th><td><i>    //</i></td></tr>
<tr><th id="605">605</th><td><i>    // This could select the wrong backprop value for two x values that are</i></td></tr>
<tr><th id="606">606</th><td><i>    // equally maximal up to the first 16 bits, in which case we are taking the</i></td></tr>
<tr><th id="607">607</th><td><i>    // latter.</i></td></tr>
<tr><th id="608">608</th><td><i>    //</i></td></tr>
<tr><th id="609">609</th><td><i>    // Note that in principle we could use 32 separate maxpools to recover each</i></td></tr>
<tr><th id="610">610</th><td><i>    // of 32 bits of the gradient while preserving 31 bits of input for the max</i></td></tr>
<tr><th id="611">611</th><td><i>    // pooling criteria; here, we just truncate to the first 16 bits of input.</i></td></tr>
<tr><th id="612">612</th><td></td></tr>
<tr><th id="613">613</th><td>    <em>auto</em> <dfn class="local col2 decl" id="482input" title='input' data-type='xla::ComputationDataHandle' data-ref="482input">input</dfn> = <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>0</var>);</td></tr>
<tr><th id="614">614</th><td>    <em>auto</em> <dfn class="local col3 decl" id="483out_backprop" title='out_backprop' data-type='xla::ComputationDataHandle' data-ref="483out_backprop">out_backprop</dfn> = <span class='ref fake' title='xla::ComputationDataHandle::ComputationDataHandle' data-ref="_ZN3xla21ComputationDataHandleC1ERKS0_"></span><a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext5InputEi" title='tensorflow::XlaOpKernelContext::Input' data-ref="_ZN10tensorflow18XlaOpKernelContext5InputEi">Input</a>(<var>2</var>);</td></tr>
<tr><th id="615">615</th><td></td></tr>
<tr><th id="616">616</th><td>    <em>auto</em> <dfn class="local col4 decl" id="484b" title='b' data-type='xla::ComputationBuilder *' data-ref="484b">b</dfn> = <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZNK10tensorflow18XlaOpKernelContext7builderEv" title='tensorflow::XlaOpKernelContext::builder' data-ref="_ZNK10tensorflow18XlaOpKernelContext7builderEv">builder</a>();</td></tr>
<tr><th id="617">617</th><td></td></tr>
<tr><th id="618">618</th><td>    <em>auto</em> <dfn class="local col5 decl" id="485sixteen" title='sixteen' data-type='xla::ComputationDataHandle' data-ref="485sixteen">sixteen</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder10ConstantR0ET_" title='xla::ComputationBuilder::ConstantR0' data-ref="_ZN3xla18ComputationBuilder10ConstantR0ET_">ConstantR0</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::uint32" title='tensorflow::uint32' data-type='unsigned int' data-ref="tensorflow::uint32">uint32</a>&gt;(<var>16</var>);</td></tr>
<tr><th id="619">619</th><td>    <i>// in (f32) -&gt; round to bf16 -&gt; f32 for correct bitwidth -&gt; 16-high-bit u32</i></td></tr>
<tr><th id="620">620</th><td>    <em>auto</em> <dfn class="local col6 decl" id="486in_hi" title='in_hi' data-type='xla::ComputationDataHandle' data-ref="486in_hi">in_hi</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(</td></tr>
<tr><th id="621">621</th><td>        <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18ConvertElementTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::ConvertElementType' data-ref="_ZN3xla18ComputationBuilder18ConvertElementTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">ConvertElementType</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18ConvertElementTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::ConvertElementType' data-ref="_ZN3xla18ComputationBuilder18ConvertElementTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">ConvertElementType</a>(<a class="local col2 ref" href="#482input" title='input' data-ref="482input">input</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::BF16' data-ref="xla::PrimitiveType::BF16">BF16</span>),</td></tr>
<tr><th id="622">622</th><td>                              <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>),</td></tr>
<tr><th id="623">623</th><td>        <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::U32' data-ref="xla::PrimitiveType::U32">U32</span>);</td></tr>
<tr><th id="624">624</th><td>    <em>auto</em> <dfn class="local col7 decl" id="487bp_int" title='bp_int' data-type='xla::ComputationDataHandle' data-ref="487bp_int">bp_int</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col3 ref" href="#483out_backprop" title='out_backprop' data-ref="483out_backprop">out_backprop</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::U32' data-ref="xla::PrimitiveType::U32">U32</span>);</td></tr>
<tr><th id="625">625</th><td>    <em>auto</em> <dfn class="local col8 decl" id="488bp_hi" title='bp_hi' data-type='xla::ComputationDataHandle' data-ref="488bp_hi">bp_hi</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftRightLogical' data-ref="_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftRightLogical</a>(<a class="local col7 ref" href="#487bp_int" title='bp_int' data-ref="487bp_int">bp_int</a>, <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>);</td></tr>
<tr><th id="626">626</th><td>    <em>auto</em> <dfn class="local col9 decl" id="489bp_lo" title='bp_lo' data-type='xla::ComputationDataHandle' data-ref="489bp_lo">bp_lo</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftRightLogical' data-ref="_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftRightLogical</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftLeft' data-ref="_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftLeft</a>(<a class="local col7 ref" href="#487bp_int" title='bp_int' data-ref="487bp_int">bp_int</a>, <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>), <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>);</td></tr>
<tr><th id="627">627</th><td>    <em>auto</em> <dfn class="local col0 decl" id="490in_hi_bp_hi" title='in_hi_bp_hi' data-type='xla::ComputationDataHandle' data-ref="490in_hi_bp_hi">in_hi_bp_hi</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Add' data-ref="_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Add</a>(<a class="local col6 ref" href="#486in_hi" title='in_hi' data-ref="486in_hi">in_hi</a>, <a class="local col8 ref" href="#488bp_hi" title='bp_hi' data-ref="488bp_hi">bp_hi</a>);  <i>// Want an unsigned add.</i></td></tr>
<tr><th id="628">628</th><td>    <em>auto</em> <dfn class="local col1 decl" id="491in_hi_bp_lo" title='in_hi_bp_lo' data-type='xla::ComputationDataHandle' data-ref="491in_hi_bp_lo">in_hi_bp_lo</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Add' data-ref="_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Add</a>(<a class="local col6 ref" href="#486in_hi" title='in_hi' data-ref="486in_hi">in_hi</a>, <a class="local col9 ref" href="#489bp_lo" title='bp_lo' data-ref="489bp_lo">bp_lo</a>);  <i>// Want an unsigned add.</i></td></tr>
<tr><th id="629">629</th><td></td></tr>
<tr><th id="630">630</th><td>    <em>auto</em> <dfn class="local col2 decl" id="492init_value" title='init_value' data-type='xla::ComputationDataHandle' data-ref="492init_value">init_value</dfn> = <a class="type" href="../xla_helpers.h.html#tensorflow::XlaHelpers" title='tensorflow::XlaHelpers' data-ref="tensorflow::XlaHelpers">XlaHelpers</a>::<a class="ref" href="../xla_helpers.h.html#_ZN10tensorflow10XlaHelpers8MinValueEPN3xla18ComputationBuilderENS_8DataTypeE" title='tensorflow::XlaHelpers::MinValue' data-ref="_ZN10tensorflow10XlaHelpers8MinValueEPN3xla18ComputationBuilderENS_8DataTypeE">MinValue</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>, <span class='enum' title='tensorflow::DataType::DT_FLOAT' data-ref="tensorflow::DataType::DT_FLOAT">DT_FLOAT</span>);</td></tr>
<tr><th id="631">631</th><td>    <i>// We will reduce by taking the maximal value up to 16 bits (ignoring the lo</i></td></tr>
<tr><th id="632">632</th><td><i>    // 16 bits of packed-in hi/lo backprop value).</i></td></tr>
<tr><th id="633">633</th><td>    <em>auto</em> <dfn class="local col3 decl" id="493rb" title='rb' data-type='std::unique_ptr&lt;xla::ComputationBuilder, std::default_delete&lt;xla::ComputationBuilder&gt; &gt;' data-ref="493rb">rb</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder16CreateSubBuilderERKSs" title='xla::ComputationBuilder::CreateSubBuilder' data-ref="_ZN3xla18ComputationBuilder16CreateSubBuilderERKSs">CreateSubBuilder</a>(<a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"GreaterOrEqOf_ByFirst16Bits"</q>);</td></tr>
<tr><th id="634">634</th><td>    {</td></tr>
<tr><th id="635">635</th><td>      <i>// F32 parameters to satisfy lowering type restriction for reduce opcode.</i></td></tr>
<tr><th id="636">636</th><td>      <em>const</em> <span class="namespace">xla::</span><span class='type' title='xla::Shape' data-ref="xla::Shape">Shape</span> <dfn class="local col4 decl" id="494scalar" title='scalar' data-type='const xla::Shape' data-ref="494scalar">scalar</dfn> = <span class="namespace">xla::</span><a class="type" href="../../xla/shape_util.h.html#xla::ShapeUtil" title='xla::ShapeUtil' data-ref="xla::ShapeUtil">ShapeUtil</a>::<a class="ref" href="../../xla/shape_util.h.html#_ZN3xla9ShapeUtil9MakeShapeENS_13PrimitiveTypeEN10tensorflow3gtl10ArraySliceIxEE" title='xla::ShapeUtil::MakeShape' data-ref="_ZN3xla9ShapeUtil9MakeShapeENS_13PrimitiveTypeEN10tensorflow3gtl10ArraySliceIxEE">MakeShape</a>(<span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>, <a class="ref" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1Ev" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1Ev">{</a>});</td></tr>
<tr><th id="637">637</th><td>      <em>auto</em> <dfn class="local col5 decl" id="495lhs" title='lhs' data-type='xla::ComputationDataHandle' data-ref="495lhs">lhs</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ParameterExRKNS_5ShapeERKSs" title='xla::ComputationBuilder::Parameter' data-ref="_ZN3xla18ComputationBuilder9ParameterExRKNS_5ShapeERKSs">Parameter</a>(<var>0</var>, <a class="local col4 ref" href="#494scalar" title='scalar' data-ref="494scalar">scalar</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"lhs"</q>);</td></tr>
<tr><th id="638">638</th><td>      <em>auto</em> <dfn class="local col6 decl" id="496rhs" title='rhs' data-type='xla::ComputationDataHandle' data-ref="496rhs">rhs</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ParameterExRKNS_5ShapeERKSs" title='xla::ComputationBuilder::Parameter' data-ref="_ZN3xla18ComputationBuilder9ParameterExRKNS_5ShapeERKSs">Parameter</a>(<var>1</var>, <a class="local col4 ref" href="#494scalar" title='scalar' data-ref="494scalar">scalar</a>, <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EPKT_RKT1_"></a><q>"rhs"</q>);</td></tr>
<tr><th id="639">639</th><td>      <em>auto</em> <dfn class="local col7 decl" id="497sixteen" title='sixteen' data-type='xla::ComputationDataHandle' data-ref="497sixteen">sixteen</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder10ConstantR0ET_" title='xla::ComputationBuilder::ConstantR0' data-ref="_ZN3xla18ComputationBuilder10ConstantR0ET_">ConstantR0</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int32" title='tensorflow::int32' data-type='int' data-ref="tensorflow::int32">int32</a>&gt;(<var>16</var>);</td></tr>
<tr><th id="640">640</th><td>      <em>auto</em> <dfn class="local col8 decl" id="498lhs_criteria" title='lhs_criteria' data-type='xla::ComputationDataHandle' data-ref="498lhs_criteria">lhs_criteria</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftLeft' data-ref="_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftLeft</a>(</td></tr>
<tr><th id="641">641</th><td>          <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftRightLogical' data-ref="_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftRightLogical</a>(<a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col5 ref" href="#495lhs" title='lhs' data-ref="495lhs">lhs</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::S32' data-ref="xla::PrimitiveType::S32">S32</span>), <a class="local col7 ref" href="#497sixteen" title='sixteen' data-ref="497sixteen">sixteen</a>),</td></tr>
<tr><th id="642">642</th><td>          <a class="local col7 ref" href="#497sixteen" title='sixteen' data-ref="497sixteen">sixteen</a>);</td></tr>
<tr><th id="643">643</th><td>      <em>auto</em> <dfn class="local col9 decl" id="499rhs_criteria" title='rhs_criteria' data-type='xla::ComputationDataHandle' data-ref="499rhs_criteria">rhs_criteria</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftLeft' data-ref="_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftLeft</a>(</td></tr>
<tr><th id="644">644</th><td>          <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftRightLogical' data-ref="_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftRightLogical</a>(<a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col6 ref" href="#496rhs" title='rhs' data-ref="496rhs">rhs</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::S32' data-ref="xla::PrimitiveType::S32">S32</span>), <a class="local col7 ref" href="#497sixteen" title='sixteen' data-ref="497sixteen">sixteen</a>),</td></tr>
<tr><th id="645">645</th><td>          <a class="local col7 ref" href="#497sixteen" title='sixteen' data-ref="497sixteen">sixteen</a>);</td></tr>
<tr><th id="646">646</th><td>      <i>// Must use a F32 comparison, because S32 would not work for negatives.</i></td></tr>
<tr><th id="647">647</th><td>      <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder6SelectERKNS_21ComputationDataHandleES3_S3_" title='xla::ComputationBuilder::Select' data-ref="_ZN3xla18ComputationBuilder6SelectERKNS_21ComputationDataHandleES3_S3_">Select</a>(<a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder2GeERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Ge' data-ref="_ZN3xla18ComputationBuilder2GeERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Ge</a>(<a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col8 ref" href="#498lhs_criteria" title='lhs_criteria' data-ref="498lhs_criteria">lhs_criteria</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>),</td></tr>
<tr><th id="648">648</th><td>                        <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col9 ref" href="#499rhs_criteria" title='rhs_criteria' data-ref="499rhs_criteria">rhs_criteria</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>)),</td></tr>
<tr><th id="649">649</th><td>                 <a class="local col5 ref" href="#495lhs" title='lhs' data-ref="495lhs">lhs</a>, <a class="local col6 ref" href="#496rhs" title='rhs' data-ref="496rhs">rhs</a>);</td></tr>
<tr><th id="650">650</th><td>    }</td></tr>
<tr><th id="651">651</th><td>    <em>auto</em> <dfn class="local col0 decl" id="500reduce" title='reduce' data-type='xla::Computation' data-ref="500reduce">reduce</dfn> = <a class="local col3 ref" href="#493rb" title='rb' data-ref="493rb">rb</a><a class="ref" href="../../../../../include/c++/5/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17BuildAndNoteErrorEv" title='xla::ComputationBuilder::BuildAndNoteError' data-ref="_ZN3xla18ComputationBuilder17BuildAndNoteErrorEv">BuildAndNoteError</a>();</td></tr>
<tr><th id="652">652</th><td>    <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a> <dfn class="local col1 decl" id="501xla_padding" title='xla_padding' data-type='xla::Padding' data-ref="501xla_padding">xla_padding</dfn> =</td></tr>
<tr><th id="653">653</th><td>        (<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::padding_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_">padding_</a> == <a class="enum" href="../../../core/util/padding.h.html#tensorflow::Padding::VALID" title='tensorflow::Padding::VALID' data-ref="tensorflow::Padding::VALID">VALID</a>) ? <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kValid" title='xla::Padding::kValid' data-ref="xla::Padding::kValid">kValid</a> : <span class="namespace">xla::</span><a class="type" href="../../xla/client/padding.h.html#xla::Padding" title='xla::Padding' data-ref="xla::Padding">Padding</a>::<a class="enum" href="../../xla/client/padding.h.html#xla::Padding::kSame" title='xla::Padding::kSame' data-ref="xla::Padding::kSame">kSame</a>;</td></tr>
<tr><th id="654">654</th><td>    <em>auto</em> <dfn class="local col2 decl" id="502pooled_hi" title='pooled_hi' data-type='xla::ComputationDataHandle' data-ref="502pooled_hi">pooled_hi</dfn> =</td></tr>
<tr><th id="655">655</th><td>        <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE" title='xla::ComputationBuilder::ReduceWindow' data-ref="_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE">ReduceWindow</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col0 ref" href="#490in_hi_bp_hi" title='in_hi_bp_hi' data-ref="490in_hi_bp_hi">in_hi_bp_hi</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>),</td></tr>
<tr><th id="656">656</th><td>                        <a class="local col2 ref" href="#492init_value" title='init_value' data-ref="492init_value">init_value</a>, <a class="local col0 ref" href="#500reduce" title='reduce' data-ref="500reduce">reduce</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</a>, <a class="local col1 ref" href="#501xla_padding" title='xla_padding' data-ref="501xla_padding">xla_padding</a>);</td></tr>
<tr><th id="657">657</th><td>    <em>auto</em> <dfn class="local col3 decl" id="503pooled_lo" title='pooled_lo' data-type='xla::ComputationDataHandle' data-ref="503pooled_lo">pooled_lo</dfn> =</td></tr>
<tr><th id="658">658</th><td>        <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE" title='xla::ComputationBuilder::ReduceWindow' data-ref="_ZN3xla18ComputationBuilder12ReduceWindowERKNS_21ComputationDataHandleES3_RKNS_11ComputationEN10tensorflow3gtl10ArraySliceIxEESA_NS_7PaddingE">ReduceWindow</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col1 ref" href="#491in_hi_bp_lo" title='in_hi_bp_lo' data-ref="491in_hi_bp_lo">in_hi_bp_lo</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::F32' data-ref="xla::PrimitiveType::F32">F32</span>),</td></tr>
<tr><th id="659">659</th><td>                        <a class="local col2 ref" href="#492init_value" title='init_value' data-ref="492init_value">init_value</a>, <a class="local col0 ref" href="#500reduce" title='reduce' data-ref="500reduce">reduce</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</a>, <a class="ref fake" href="../../../core/lib/gtl/array_slice.h.html#_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE" title='tensorflow::gtl::ArraySlice::ArraySlice&lt;T&gt;' data-ref="_ZN10tensorflow3gtl10ArraySliceC1ERKSt6vectorIT_SaIS3_EE"></a><a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-use='r' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</a>, <a class="local col1 ref" href="#501xla_padding" title='xla_padding' data-ref="501xla_padding">xla_padding</a>);</td></tr>
<tr><th id="660">660</th><td>    <em>auto</em> <dfn class="local col4 decl" id="504grads_hi" title='grads_hi' data-type='xla::ComputationDataHandle' data-ref="504grads_hi">grads_hi</dfn> =</td></tr>
<tr><th id="661">661</th><td>        <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftLeft' data-ref="_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftLeft</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col2 ref" href="#502pooled_hi" title='pooled_hi' data-ref="502pooled_hi">pooled_hi</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::U32' data-ref="xla::PrimitiveType::U32">U32</span>), <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>);</td></tr>
<tr><th id="662">662</th><td>    <em>auto</em> <dfn class="local col5 decl" id="505grads_lo" title='grads_lo' data-type='xla::ComputationDataHandle' data-ref="505grads_lo">grads_lo</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftRightLogical' data-ref="_ZN3xla18ComputationBuilder17ShiftRightLogicalERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftRightLogical</a>(</td></tr>
<tr><th id="663">663</th><td>        <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::ShiftLeft' data-ref="_ZN3xla18ComputationBuilder9ShiftLeftERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">ShiftLeft</a>(<a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col3 ref" href="#503pooled_lo" title='pooled_lo' data-ref="503pooled_lo">pooled_lo</a>, <span class="namespace">xla::</span><span class='enum' title='xla::PrimitiveType::U32' data-ref="xla::PrimitiveType::U32">U32</span>), <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>),</td></tr>
<tr><th id="664">664</th><td>        <a class="local col5 ref" href="#485sixteen" title='sixteen' data-ref="485sixteen">sixteen</a>);</td></tr>
<tr><th id="665">665</th><td>    <em>auto</em> <dfn class="local col6 decl" id="506grads" title='grads' data-type='xla::ComputationDataHandle' data-ref="506grads">grads</dfn> = <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE" title='xla::ComputationBuilder::Add' data-ref="_ZN3xla18ComputationBuilder3AddERKNS_21ComputationDataHandleES3_N10tensorflow3gtl10ArraySliceIxEE">Add</a>(<a class="local col4 ref" href="#504grads_hi" title='grads_hi' data-ref="504grads_hi">grads_hi</a>, <a class="local col5 ref" href="#505grads_lo" title='grads_lo' data-ref="505grads_lo">grads_lo</a>);  <i>// Want an unsigned add.</i></td></tr>
<tr><th id="666">666</th><td></td></tr>
<tr><th id="667">667</th><td>    <span class="namespace">xla::</span><span class='type' title='xla::PrimitiveType' data-ref="xla::PrimitiveType">PrimitiveType</span> <dfn class="local col7 decl" id="507element_type" title='element_type' data-type='xla::PrimitiveType' data-ref="507element_type">element_type</dfn>;</td></tr>
<tr><th id="668">668</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(DataTypeToPrimitiveType(input_type(2), &amp;element_type)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 668, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>, <a class="ref" href="../type_util.h.html#_ZN10tensorflow23DataTypeToPrimitiveTypeENS_8DataTypeEPN3xla13PrimitiveTypeE" title='tensorflow::DataTypeToPrimitiveType' data-ref="_ZN10tensorflow23DataTypeToPrimitiveTypeENS_8DataTypeEPN3xla13PrimitiveTypeE">DataTypeToPrimitiveType</a>(<a class="member" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow8OpKernel10input_typeEi" title='tensorflow::OpKernel::input_type' data-ref="_ZNK10tensorflow8OpKernel10input_typeEi">input_type</a>(<var>2</var>), &amp;<a class="local col7 ref" href="#507element_type" title='element_type' data-ref="507element_type">element_type</a>));</td></tr>
<tr><th id="669">669</th><td>    <a class="local col6 ref" href="#476ctx" title='ctx' data-ref="476ctx">ctx</a>-&gt;<a class="ref" href="../xla_op_kernel.h.html#_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE" title='tensorflow::XlaOpKernelContext::SetOutput' data-ref="_ZN10tensorflow18XlaOpKernelContext9SetOutputEiRKN3xla21ComputationDataHandleE">SetOutput</a>(<var>0</var>, <a class="local col4 ref" href="#484b" title='b' data-ref="484b">b</a>-&gt;<a class="ref" href="../../xla/client/computation_builder.h.html#_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE" title='xla::ComputationBuilder::BitcastConvertType' data-ref="_ZN3xla18ComputationBuilder18BitcastConvertTypeERKNS_21ComputationDataHandleENS_13PrimitiveTypeE">BitcastConvertType</a>(<a class="local col6 ref" href="#506grads" title='grads' data-ref="506grads">grads</a>, <a class="local col7 ref" href="#507element_type" title='element_type' data-ref="507element_type">element_type</a>));</td></tr>
<tr><th id="670">670</th><td>  }</td></tr>
<tr><th id="671">671</th><td></td></tr>
<tr><th id="672">672</th><td> <b>protected</b>:</td></tr>
<tr><th id="673">673</th><td>  <em>const</em> <em>int</em> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::num_spatial_dims_' data-type='const int' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::num_spatial_dims_">num_spatial_dims_</dfn>;</td></tr>
<tr><th id="674">674</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::ksize_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::ksize_">ksize_</dfn>;</td></tr>
<tr><th id="675">675</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/5/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="typedef" href="../../../core/platform/default/integral_types.h.html#tensorflow::int64" title='tensorflow::int64' data-type='long long' data-ref="tensorflow::int64">int64</a>&gt; <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::stride_' data-type='std::vector&lt;int64&gt;' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::stride_">stride_</dfn>;</td></tr>
<tr><th id="676">676</th><td>  <a class="type" href="../../../core/util/padding.h.html#tensorflow::Padding" title='tensorflow::Padding' data-ref="tensorflow::Padding">Padding</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::padding_' data-type='tensorflow::Padding' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::padding_">padding_</dfn>;</td></tr>
<tr><th id="677">677</th><td>  <a class="type" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat" title='tensorflow::TensorFormat' data-ref="tensorflow::TensorFormat">TensorFormat</a> <dfn class="tu decl" id="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::data_format_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::data_format_' data-type='tensorflow::TensorFormat' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::data_format_">data_format_</dfn> = <a class="enum" href="../../../core/util/tensor_format.h.html#tensorflow::TensorFormat::FORMAT_NHWC" title='tensorflow::TensorFormat::FORMAT_NHWC' data-ref="tensorflow::TensorFormat::FORMAT_NHWC">FORMAT_NHWC</a>;</td></tr>
<tr><th id="678">678</th><td>};</td></tr>
<tr><th id="679">679</th><td></td></tr>
<tr><th id="680">680</th><td><b>class</b> <dfn class="tu type def" id="tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp">MaxPool2DGradGradOp</dfn> : <b>public</b> <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp">MaxPoolGradGradOp</a> {</td></tr>
<tr><th id="681">681</th><td> <b>public</b>:</td></tr>
<tr><th id="682">682</th><td>  <b>explicit</b> <dfn class="tu decl def" id="_ZN10tensorflow12_GLOBAL__N_119MaxPool2DGradGradOpC1EPNS_20OpKernelConstructionE" title='tensorflow::(anonymous namespace)::MaxPool2DGradGradOp::MaxPool2DGradGradOp' data-type='void tensorflow::(anonymous namespace)::MaxPool2DGradGradOp::MaxPool2DGradGradOp(tensorflow::OpKernelConstruction * ctx)' data-ref="_ZN10tensorflow12_GLOBAL__N_119MaxPool2DGradGradOpC1EPNS_20OpKernelConstructionE">MaxPool2DGradGradOp</dfn>(<a class="type" href="../../../core/framework/op_kernel.h.html#tensorflow::OpKernelConstruction" title='tensorflow::OpKernelConstruction' data-ref="tensorflow::OpKernelConstruction">OpKernelConstruction</a>* <dfn class="local col8 decl" id="508ctx" title='ctx' data-type='tensorflow::OpKernelConstruction *' data-ref="508ctx">ctx</dfn>)</td></tr>
<tr><th id="683">683</th><td>      : <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp">MaxPoolGradGradOp</a><a class="tu ref" href="#_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOpC1EPNS_20OpKernelConstructionEi" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::MaxPoolGradGradOp' data-use='c' data-ref="_ZN10tensorflow12_GLOBAL__N_117MaxPoolGradGradOpC1EPNS_20OpKernelConstructionEi">(</a><a class="local col8 ref" href="#508ctx" title='ctx' data-ref="508ctx">ctx</a>, <i>/*num_spatial_dims=*/</i><var>2</var>) {</td></tr>
<tr><th id="684">684</th><td>    <a class="typedef" href="../../../../../include/c++/5/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <a class="ref fake" href="../../../../../include/c++/5/bits/basic_string.h.html#_ZNSt12basic_stringC1Ev" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1Ev"></a><dfn class="local col9 decl" id="509data_format" title='data_format' data-type='string' data-ref="509data_format">data_format</dfn>;</td></tr>
<tr><th id="685">685</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1545" title="do { ::tensorflow::Status _s(ctx-&gt;GetAttr(&quot;data_format&quot;, &amp;data_format)); if (!(__builtin_expect(!!(_s.ok()), 1))) { (ctx)-&gt;CtxFailureWithWarning(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 685, _s); return; } } while (0)" data-ref="_M/OP_REQUIRES_OK">OP_REQUIRES_OK</a>(<a class="local col8 ref" href="#508ctx" title='ctx' data-ref="508ctx">ctx</a>, <a class="local col8 ref" href="#508ctx" title='ctx' data-ref="508ctx">ctx</a>-&gt;<a class="ref" href="../../../core/framework/op_kernel.h.html#_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_" title='tensorflow::OpKernelConstruction::GetAttr' data-ref="_ZNK10tensorflow20OpKernelConstruction7GetAttrENS_11StringPieceEPT_">GetAttr</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"data_format"</q>, &amp;<a class="local col9 ref" href="#509data_format" title='data_format' data-ref="509data_format">data_format</a>));</td></tr>
<tr><th id="686">686</th><td>    <a class="macro" href="../../../core/framework/op_kernel.h.html#1537" title="do { if (!(__builtin_expect(!!(FormatFromString(data_format, &amp;data_format_)), 1))) { (ctx)-&gt;CtxFailure(&quot;/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/org_tensorflow/tensorflow/compiler/tf2xla/kernels/pooling_ops.cc&quot;, 687, (errors::InvalidArgument(&quot;Invalid data format&quot;))); return; } } while (0)" data-ref="_M/OP_REQUIRES">OP_REQUIRES</a>(<a class="local col8 ref" href="#508ctx" title='ctx' data-ref="508ctx">ctx</a>, <a class="ref" href="../../../core/util/tensor_format.h.html#_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE" title='tensorflow::FormatFromString' data-ref="_ZN10tensorflow16FormatFromStringERKSsPNS_12TensorFormatE">FormatFromString</a>(<a class="local col9 ref" href="#509data_format" title='data_format' data-ref="509data_format">data_format</a>, &amp;<a class="tu member" href="#tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::data_format_" title='tensorflow::(anonymous namespace)::MaxPoolGradGradOp::data_format_' data-use='a' data-ref="tensorflow::(anonymousnamespace)::MaxPoolGradGradOp::data_format_">data_format_</a>),</td></tr>
<tr><th id="687">687</th><td>                errors::<a class="ref" href="../../../core/lib/core/errors.h.html#103" title='tensorflow::errors::InvalidArgument' data-ref="_ZN10tensorflow6errors15InvalidArgumentEDpT_">InvalidArgument</a>(<q>"Invalid data format"</q>));</td></tr>
<tr><th id="688">688</th><td>  }</td></tr>
<tr><th id="689">689</th><td>};</td></tr>
<tr><th id="690">690</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__21__object( XlaOpRegistrationBuilder::Name(&quot;MaxPoolGradGrad&quot;).TypeConstraint(&quot;T&quot;, DT_FLOAT).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DGradGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPoolGradGrad"</q>).<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder14TypeConstraintENS_11StringPieceENS_8DataTypeE" title='tensorflow::XlaOpRegistrationBuilder::TypeConstraint' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder14TypeConstraintENS_11StringPieceENS_8DataTypeE">TypeConstraint</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"T"</q>, <span class='enum' title='tensorflow::DataType::DT_FLOAT' data-ref="tensorflow::DataType::DT_FLOAT">DT_FLOAT</span>),</td></tr>
<tr><th id="691">691</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp">MaxPool2DGradGradOp</a>);</td></tr>
<tr><th id="692">692</th><td><a class="macro" href="../xla_op_registry.h.html#226" title="static ::tensorflow::XlaOpRegistrar xla_op_registrar__body__23__object( XlaOpRegistrationBuilder::Name(&quot;MaxPoolGradGradV2&quot;) .TypeConstraint(&quot;T&quot;, DT_FLOAT) .CompileTimeConstInput(&quot;ksize&quot;) .CompileTimeConstInput(&quot;strides&quot;).Build( [](::tensorflow::OpKernelConstruction* context) -&gt; ::tensorflow::OpKernel* { return new MaxPool2DGradGradOp(context); }));" data-ref="_M/REGISTER_XLA_OP">REGISTER_XLA_OP</a>(<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::Name' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder4NameENS_11StringPieceE">Name</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"MaxPoolGradGradV2"</q>)</td></tr>
<tr><th id="693">693</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder14TypeConstraintENS_11StringPieceENS_8DataTypeE" title='tensorflow::XlaOpRegistrationBuilder::TypeConstraint' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder14TypeConstraintENS_11StringPieceENS_8DataTypeE">TypeConstraint</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"T"</q>, <span class='enum' title='tensorflow::DataType::DT_FLOAT' data-ref="tensorflow::DataType::DT_FLOAT">DT_FLOAT</span>)</td></tr>
<tr><th id="694">694</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"ksize"</q>)</td></tr>
<tr><th id="695">695</th><td>                    .<a class="ref" href="../xla_op_registry.h.html#_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE" title='tensorflow::XlaOpRegistrationBuilder::CompileTimeConstInput' data-ref="_ZN10tensorflow24XlaOpRegistrationBuilder21CompileTimeConstInputENS_11StringPieceE">CompileTimeConstInput</a>(<a class="ref fake" href="../../../core/lib/core/stringpiece.h.html#_ZN10tensorflow11StringPieceC1EPKc" title='tensorflow::StringPiece::StringPiece' data-ref="_ZN10tensorflow11StringPieceC1EPKc"></a><q>"strides"</q>),</td></tr>
<tr><th id="696">696</th><td>                <a class="tu type" href="#tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp" title='tensorflow::(anonymous namespace)::MaxPool2DGradGradOp' data-ref="tensorflow::(anonymousnamespace)::MaxPool2DGradGradOp">MaxPool2DGradGradOp</a>);</td></tr>
<tr><th id="697">697</th><td></td></tr>
<tr><th id="698">698</th><td>}  <i>// anonymous namespace</i></td></tr>
<tr><th id="699">699</th><td>}  <i>// namespace tensorflow</i></td></tr>
<tr><th id="700">700</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Aug-20</em> from project tensorflow revision <em>v1.8</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
